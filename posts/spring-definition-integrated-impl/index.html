<!DOCTYPE html><html lang="en-EN"> <head><meta charset="utf-8"><meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport"><meta content="IE=edge" http-equiv="X-UA-Compatible"><title>Spring • 知道的越多,才知知道的越少</title><link href="/astro-theme-cactus/favicon.ico" rel="icon" sizes="any"><link href="/astro-theme-cactus/icon.svg" rel="icon" type="image/svg+xml"><link href="/astro-theme-cactus/apple-touch-icon.png" rel="apple-touch-icon"><link href="/astro-theme-cactus/manifest.webmanifest" rel="manifest"><link href="https://chou401.github.io/astro-theme-cactus/posts/spring-definition-integrated-impl/" rel="canonical"><meta content="Spring • 知道的越多,才知知道的越少" name="title"><meta content="Spring 基础知识点" name="description"><meta content="chou401" name="author"><meta content="" name="theme-color"><meta content="article" property="og:type"><meta content="Spring" property="og:title"><meta content="Spring 基础知识点" property="og:description"><meta content="https://chou401.github.io/astro-theme-cactus/posts/spring-definition-integrated-impl/" property="og:url"><meta content="知道的越多,才知知道的越少" property="og:site_name"><meta content="en-EN" property="og:locale"><meta content="https://chou401.github.io/og-image/spring-definition-integrated-impl.png" property="og:image"><meta content="1200" property="og:image:width"><meta content="630" property="og:image:height"><meta content="chou401" property="article:author"><meta content="2024-05-16T14:00:41.000Z" property="article:published_time"><meta content="summary_large_image" property="twitter:card"><meta content="https://chou401.github.io/astro-theme-cactus/posts/spring-definition-integrated-impl/" property="twitter:url"><meta content="Spring" property="twitter:title"><meta content="Spring 基础知识点" property="twitter:description"><meta content="https://chou401.github.io/og-image/spring-definition-integrated-impl.png" property="twitter:image"><link href="/sitemap-index.xml" rel="sitemap"><link href="/rss.xml" rel="alternate" title="知道的越多,才知知道的越少" type="application/rss+xml"><link href="http://localhost:4321/astro-theme-cactus/" rel="webmention"><meta content="Astro v4.5.16" name="generator"><link rel="stylesheet" href="/astro-theme-cactus/_astro/_slug_.vObVOHgF.css"><script type="module" src="/astro-theme-cactus/_astro/hoisted.BjpvhLSh.js"></script>
<script type="module" src="/astro-theme-cactus/_astro/page.BG5lM7_G.js"></script></head> <body> <script>
	const lightModePref = window.matchMedia("(prefers-color-scheme: light)");

	function getUserPref() {
		const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem("theme");
		return storedTheme || (lightModePref.matches ? "light" : "dark");
	}

	function setTheme(newTheme) {
		if (newTheme !== "light" && newTheme !== "dark") {
			return console.warn(
				`Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
			);
		}

		const root = document.documentElement;

		// root already set to newTheme, exit early
		if (newTheme === root.getAttribute("data-theme")) {
			return;
		}

		root.setAttribute("data-theme", newTheme);

		const colorThemeMetaTag = document.querySelector("meta[name='theme-color']");
		const bgColour = getComputedStyle(document.body).getPropertyValue("--theme-bg");
		colorThemeMetaTag.setAttribute("content", `hsl(${bgColour})`);
		if (typeof localStorage !== "undefined") {
			localStorage.setItem("theme", newTheme);
		}
	}

	// initial setup
	setTheme(getUserPref());

	// View Transitions hook to restore theme
	document.addEventListener("astro:after-swap", () => setTheme(getUserPref()));

	// listen for theme-change custom event, fired in src/components/ThemeToggle.astro
	document.addEventListener("theme-change", (e) => {
		setTheme(e.detail.theme);
	});

	// listen for prefers-color-scheme change.
	lightModePref.addEventListener("change", (e) => setTheme(e.matches ? "light" : "dark"));
</script> <a class="sr-only focus:not-sr-only focus:fixed focus:start-1 focus:top-1.5" href="#main">skip to content
</a> <header class="group relative mb-8 flex items-center sm:ps-[3.5rem]" id="main-header"> <div class="flex sm:flex-col"> <a class="inline-flex items-center grayscale hover:filter-none sm:relative sm:inline-block" href="/astro-theme-cactus/"> <svg aria-hidden="true" class="me-3 h-10 w-6 sm:absolute sm:start-[-3.5rem] sm:me-0 sm:h-20 sm:w-12" fill="none" focusable="false" viewBox="0 0 272 480" xmlns="http://www.w3.org/2000/svg"> <g stroke="null"> <title>Layer 1</title> <g transform="translate(0,800) scale(0.10000000149011612,-0.10000000149011612) " fill="#000000" id="svg_1" stroke="null"> <path d="m1330.461549,8010.447731c-9.667991,-6.119317 -19.647851,-12.578595 -21.830946,-14.618368c-2.494965,-2.039772 -11.851085,-7.819127 -20.583464,-12.238633c-9.044249,-4.759469 -15.593533,-9.518937 -14.346051,-10.538823c0.935612,-1.359848 0,-2.379734 -2.806836,-2.379734c-2.494965,0 -9.979861,-4.419507 -16.841016,-10.198861c-6.549283,-5.439393 -14.657921,-10.198861 -17.464757,-10.198861c-3.118707,0 -5.613672,-1.019886 -5.613672,-2.379734c0,-1.69981 -6.549283,-7.139203 -14.969791,-12.918557c-17.464757,-11.898671 -18.088498,-12.578595 -30.251454,-24.137304c-9.044249,-8.499051 -9.35612,-9.518937 -9.35612,-39.435596c0,-23.117419 1.247483,-31.61647 4.67806,-34.336166c2.494965,-2.379734 6.549283,-10.198861 9.044249,-17.678026c2.494965,-7.479165 5.301801,-14.278406 6.237413,-15.298292c3.742448,-3.399621 9.667991,-16.998102 9.667991,-22.437495c0,-3.059659 2.806836,-9.518937 5.925543,-14.618368c3.430577,-5.099431 6.549283,-11.558709 7.173025,-13.938444c0.623741,-2.719696 2.806836,-7.139203 4.98993,-9.518937c1.871224,-2.379734 3.742448,-6.799241 3.742448,-9.518937c0,-2.719696 1.559353,-4.759469 3.118707,-4.759469c1.871224,0 3.118707,-2.039772 3.118707,-4.419507c0,-2.379734 2.806836,-7.819127 6.237413,-11.898671c3.430577,-4.079545 6.237413,-8.499051 6.237413,-9.858899c0,-4.759469 13.722309,-32.636356 19.335981,-39.775558c3.118707,-3.739583 6.237413,-9.518937 7.484896,-12.918557c0.935612,-3.399621 3.118707,-5.439393 4.67806,-4.419507c1.559353,1.359848 2.806836,-1.019886 2.806836,-4.759469c0,-4.079545 0.935612,-7.139203 2.494965,-7.139203c2.806836,0 9.979861,-16.65814 9.979861,-23.457381c0,-4.079545 0.623741,-4.419507 2.494965,-1.019886c1.871224,2.719696 4.054318,0.339962 6.861155,-7.819127c2.494965,-6.459279 5.925543,-11.898671 7.484896,-11.898671c1.871224,0 -0.623741,-2.379734 -5.613672,-5.099431c-4.67806,-2.719696 -11.227344,-5.099431 -14.03418,-5.099431c-4.36619,0 -4.36619,-0.679924 -0.31187,-3.399621c3.118707,-2.379734 3.430577,-3.399621 0.623741,-3.399621c-5.613672,0 -27.756489,-16.65814 -42.10254,-30.936546c-13.410438,-13.938444 -18.088498,-15.298292 -69.235287,-20.057761c-31.498937,-2.719696 -61.750391,-6.799241 -102.917319,-13.258519c-8.420508,-1.019886 -17.776628,-3.739583 -20.271593,-5.439393c-2.494965,-1.69981 -11.539215,-4.419507 -20.271593,-5.779355c-26.509006,-4.079545 -35.865127,-6.799241 -35.865127,-9.858899c0,-1.69981 -2.494965,-3.059659 -5.301801,-3.059659c-6.861155,0 -39.607574,-14.278406 -40.855057,-17.678026c-0.623741,-1.69981 -3.742448,-2.719696 -6.861155,-2.719696c-3.118707,0 -6.861155,-1.359848 -7.796766,-3.399621c-0.935612,-1.69981 -6.861155,-3.399621 -12.786697,-3.399621c-5.925543,0 -10.291732,-1.359848 -9.044249,-3.059659c1.559353,-2.719696 -7.796766,-8.159089 -41.166927,-24.477266c-5.613672,-2.379734 -10.291732,-5.779355 -10.291732,-7.139203c0,-1.69981 -2.494965,-2.719696 -5.925543,-2.719696c-3.118707,0 -9.979861,-4.419507 -15.281663,-10.198861c-5.613672,-5.439393 -11.227344,-10.198861 -13.098568,-10.198861c-1.559353,0 -6.237413,6.119317 -9.979861,13.598481c-4.054318,7.479165 -9.35612,13.598481 -11.851085,13.938444c-3.118707,0 -3.430577,0.679924 -0.935612,2.039772c2.806836,1.019886 2.183095,3.739583 -2.183095,8.839013c-3.430577,3.739583 -6.237413,9.858899 -6.237413,13.258519c0,3.739583 -1.247483,5.439393 -3.118707,4.419507c-1.559353,-1.019886 -3.118707,0.339962 -3.118707,3.059659c0,3.059659 -1.247483,5.439393 -3.118707,5.439393c-1.559353,0 -3.118707,3.059659 -3.118707,6.799241c0,3.739583 -1.247483,6.799241 -2.806836,6.799241c-1.247483,0 -9.044249,8.839013 -16.841016,19.717799c-14.657921,20.057761 -24.014041,31.956432 -39.607574,50.994306c-5.301801,6.119317 -9.35612,12.578595 -9.35612,14.618368c0,2.039772 -1.247483,2.719696 -2.806836,1.69981c-1.559353,-1.019886 -5.925543,3.399621 -9.979861,9.858899c-4.054318,6.459279 -8.420508,11.898671 -9.667991,11.898671c-1.559353,0 -2.494965,2.719696 -2.494965,5.779355c0,3.059659 -0.935612,4.759469 -1.871224,3.399621c-2.183095,-2.039772 -8.420508,3.739583 -41.166927,37.735786c-13.410438,13.258519 -24.949653,24.477266 -26.197136,24.477266c-1.559353,0 -4.98993,2.719696 -8.108638,6.119317c-3.118707,3.059659 -11.227344,10.538823 -17.776628,15.978216c-6.549283,5.779355 -14.969791,12.918557 -18.400369,15.978216c-14.969791,13.258519 -25.885265,21.757571 -34.305773,26.517039c-4.98993,2.719696 -13.098568,9.178975 -17.776628,14.618368c-4.67806,5.099431 -10.915473,9.178975 -13.410438,9.178975c-2.806836,0 -4.98993,1.359848 -4.98993,2.719696c0,1.69981 -4.98993,4.759469 -10.915473,7.479165c-5.925543,2.719696 -10.915473,6.119317 -10.915473,7.479165c0,3.399621 -28.068359,18.017988 -31.810807,16.998102c-1.559353,-0.339962 -2.494965,1.69981 -2.494965,4.419507c0,2.719696 -2.806836,5.099431 -6.237413,5.099431c-3.430577,0 -6.237413,1.69981 -6.237413,3.399621c0,2.039772 -2.183095,3.399621 -4.67806,3.399621c-2.494965,0 -4.67806,1.359848 -4.67806,3.059659c0,1.69981 -4.67806,4.759469 -9.979861,7.139203c-25.261524,10.198861 -56.136719,28.556811 -53.641754,31.61647c1.247483,1.359848 -0.623741,2.379734 -4.36619,2.379734c-3.742448,0 -11.227344,3.059659 -16.841016,6.799241c-5.613672,3.739583 -12.786697,6.799241 -15.593533,6.799241c-3.118707,0 -5.613672,1.359848 -5.613672,3.059659c0,1.69981 -3.118707,4.419507 -6.861155,5.439393c-13.098568,4.419507 -36.800738,16.998102 -36.800738,19.377837c0,1.69981 -2.806836,2.719696 -6.237413,2.719696c-3.430577,0 -6.237413,1.69981 -6.237413,3.399621c0,2.039772 -4.054318,3.399621 -9.044249,3.399621c-5.301801,0 -10.291732,1.69981 -11.227344,3.399621c-0.935612,2.039772 -5.925543,3.399621 -11.227344,3.399621c-4.98993,0 -9.044249,1.69981 -9.044249,3.399621c0,2.039772 -9.044249,3.399621 -20.583464,3.399621c-25.261524,0 -37.42448,-7.819127 -40.543186,-25.497153c-0.935612,-6.459279 -3.430577,-11.898671 -4.98993,-11.898671c-1.871224,0 -2.494965,-10.878785 -1.559353,-26.177077c0.935612,-20.057761 4.054318,-35.01609 12.786697,-60.513243c6.549283,-18.697912 12.474826,-39.095634 13.410438,-44.874989c0.935612,-6.119317 2.494965,-11.218747 3.742448,-11.218747c0.935612,0 3.742448,-5.099431 5.925543,-10.878785c2.494965,-6.119317 6.861155,-16.998102 10.291732,-24.137304c3.118707,-7.479165 5.925543,-15.298292 5.925543,-17.678026c0,-5.099431 16.217274,-40.455482 19.024111,-41.815331c1.247483,-0.679924 4.054318,-7.819127 6.237413,-16.318178c2.183095,-8.159089 5.301801,-14.95833 6.549283,-14.95833c1.247483,0 2.494965,-3.059659 2.494965,-6.799241c0,-3.739583 0.935612,-6.799241 2.494965,-6.799241c2.494965,0 9.979861,-16.65814 9.979861,-22.777457c0,-2.379734 1.559353,-4.419507 3.118707,-4.419507c1.871224,0 3.118707,-2.379734 3.118707,-5.099431c0,-4.759469 8.108638,-21.417609 12.474826,-25.497153c1.871224,-1.69981 9.35612,-19.037874 19.024111,-43.175179c2.494965,-6.119317 5.301801,-11.218747 6.549283,-11.218747c1.559353,0 2.494965,-2.379734 2.494965,-5.099431c0,-2.719696 2.806836,-8.159089 6.237413,-11.898671c3.430577,-3.739583 6.237413,-9.178975 6.237413,-11.898671c0,-2.719696 4.98993,-13.258519 10.915473,-23.457381c5.925543,-10.198861 10.915473,-20.397723 10.915473,-22.437495c0,-1.69981 1.559353,-3.399621 3.118707,-3.399621c1.871224,0 3.118707,-2.379734 3.118707,-5.099431c0,-2.719696 1.559353,-5.099431 3.118707,-5.099431c1.871224,0 3.118707,-3.739583 3.118707,-8.499051c0,-4.759469 1.247483,-8.499051 2.806836,-8.499051c1.559353,0 9.667991,-14.618368 17.776628,-32.296394c8.420508,-17.678026 15.593533,-31.276508 16.529145,-30.256622c1.247483,1.359848 14.346051,-26.177077 13.410438,-28.216849c-0.31187,-0.679924 3.118707,-4.759469 7.173025,-9.858899c4.054318,-4.759469 8.420508,-11.898671 9.35612,-15.298292c1.247483,-3.739583 3.430577,-6.459279 4.98993,-6.459279c1.559353,0 2.806836,-2.039772 2.806836,-4.419507c0,-3.739583 17.152886,-31.61647 28.068359,-45.554913c1.559353,-2.379734 3.118707,-5.099431 3.118707,-6.119317c0,-1.359848 1.871224,-4.079545 4.054318,-6.459279c1.871224,-2.379734 7.173025,-9.178975 11.539215,-15.638254c4.36619,-6.119317 11.539215,-15.638254 16.529145,-20.737685c4.67806,-5.439393 8.420508,-10.538823 8.420508,-11.558709c0,-1.019886 2.806836,-5.099431 6.237413,-9.178975c3.430577,-4.079545 6.237413,-9.518937 6.237413,-12.238633c0,-6.459279 -6.237413,-18.35795 -13.098568,-24.817229c-3.118707,-3.059659 -5.613672,-6.459279 -5.613672,-7.819127c0,-1.019886 -2.806836,-5.099431 -6.237413,-8.839013c-3.430577,-3.739583 -6.237413,-9.178975 -6.237413,-11.898671c0,-2.719696 -1.247483,-5.099431 -3.118707,-5.099431c-1.559353,0 -3.118707,-2.039772 -3.118707,-4.759469c0,-2.379734 -3.430577,-7.479165 -7.796766,-10.878785c-4.36619,-3.399621 -7.796766,-8.159089 -7.796766,-10.538823c0,-2.379734 -1.247483,-4.419507 -3.118707,-4.419507c-1.559353,0 -3.118707,-2.039772 -3.118707,-4.079545c0,-3.739583 -4.98993,-11.558709 -19.335981,-29.916659c-2.183095,-2.719696 -3.742448,-5.099431 -3.118707,-5.099431c2.494965,0 -5.925543,-18.697912 -8.420508,-18.697912c-1.559353,0 -3.742448,-3.739583 -4.67806,-8.159089c-0.935612,-4.759469 -3.742448,-10.538823 -5.925543,-12.918557c-5.925543,-7.139203 -11.539215,-19.037874 -11.539215,-24.817229c0,-2.719696 -1.247483,-5.099431 -3.118707,-5.099431c-1.559353,0 -3.118707,-3.059659 -3.118707,-6.459279c0,-3.399621 -2.183095,-7.479165 -4.98993,-8.499051c-2.494965,-1.019886 -3.742448,-3.399621 -2.806836,-5.439393c0.935612,-1.69981 0.31187,-3.399621 -1.247483,-3.399621c-1.871224,0 -3.430577,-2.039772 -3.430577,-4.759469c0,-2.719696 -1.247483,-5.439393 -2.806836,-6.119317c-1.559353,-0.339962 -6.237413,-9.858899 -10.915473,-20.397723c-4.36619,-10.878785 -9.35612,-19.717799 -11.227344,-19.717799c-1.559353,0 -3.118707,-3.059659 -3.118707,-6.459279c0,-3.739583 -1.559353,-7.819127 -3.118707,-8.839013c-1.871224,-1.019886 -3.118707,-5.779355 -3.118707,-10.538823c0,-4.419507 -1.247483,-8.159089 -2.494965,-8.159089c-3.430577,0 -9.979861,-15.638254 -9.979861,-23.457381c0,-3.739583 -2.183095,-7.139203 -4.67806,-8.499051c-2.494965,-1.019886 -4.67806,-5.099431 -4.67806,-8.839013c0,-3.739583 -1.247483,-9.518937 -2.806836,-12.918557c-1.559353,-3.059659 -4.67806,-12.918557 -7.173025,-21.757571c-2.183095,-9.178975 -4.98993,-16.318178 -6.237413,-16.318178c-1.247483,0 -2.494965,-4.419507 -2.494965,-10.198861c0,-5.439393 -1.247483,-10.198861 -2.494965,-10.198861c-3.430577,0 -13.410438,-38.075748 -15.281663,-59.833319c-0.935612,-10.198861 -3.118707,-19.377837 -4.36619,-20.397723c-1.559353,-1.019886 -2.806836,-9.178975 -2.806836,-18.35795c0,-8.839013 -1.559353,-16.998102 -3.430577,-17.678026c-3.430577,-1.359848 -7.173025,-29.236735 -10.915473,-79.89108c-1.247483,-15.638254 -3.430577,-28.216849 -4.67806,-28.216849c-1.559353,0 -2.806836,-25.837115 -2.806836,-57.793547c0,-32.296394 1.247483,-57.793547 2.806836,-57.793547c1.559353,0 3.430577,-8.159089 4.36619,-17.678026c2.183095,-25.837115 7.173025,-48.27461 11.227344,-49.634458c1.871224,-0.679924 3.430577,-6.459279 3.430577,-12.578595c0,-6.459279 1.247483,-12.238633 2.806836,-13.258519c1.559353,-1.019886 3.430577,-6.799241 4.36619,-12.918557c0.935612,-6.119317 3.118707,-17.338064 5.301801,-24.817229c2.183095,-7.479165 4.36619,-18.697912 5.301801,-24.477266c0.935612,-6.119317 2.806836,-11.218747 4.36619,-11.218747c1.559353,0 2.806836,-6.799241 2.806836,-15.298292c0,-8.499051 1.559353,-15.298292 3.118707,-15.298292c1.871224,0 3.118707,-1.69981 3.118707,-3.739583c0,-12.578595 13.410438,-50.314382 21.519076,-59.833319c4.98993,-5.779355 9.35612,-10.198861 9.979861,-9.518937c0.623741,0.339962 4.36619,-5.779355 7.796766,-13.938444l6.861155,-14.95833l-41.166927,0c-43.973763,0 -65.180969,-2.379734 -62.374133,-7.139203c0.935612,-1.69981 -4.67806,-3.059659 -12.162956,-3.059659c-8.420508,0 -15.281663,-2.039772 -17.776628,-5.099431c-2.183095,-3.059659 -9.044249,-5.099431 -15.905404,-5.099431c-6.861155,0 -12.162956,-1.359848 -12.162956,-3.399621c0,-1.69981 -2.494965,-3.399621 -5.613672,-3.399621c-2.806836,0 -10.603603,-3.059659 -16.841016,-6.459279c-5.925543,-3.739583 -12.162956,-5.779355 -13.098568,-4.759469c-0.935612,1.359848 -1.871224,-0.339962 -1.871224,-3.399621c0,-4.079545 -2.494965,-5.779355 -8.108638,-5.779355c-7.484896,0 -17.152886,-6.459279 -33.682032,-22.437495c-3.118707,-3.059659 -9.35612,-6.799241 -14.03418,-7.819127l-8.108638,-2.379734l-0.623741,-44.195065c-0.623741,-39.095634 0,-42.835217 3.742448,-33.656242c2.183095,5.439393 3.742448,15.298292 3.118707,21.757571c-0.623741,8.839013 0.623741,11.898671 4.98993,12.918557c6.549283,2.039772 8.108638,7.819127 2.183095,7.819127c-2.806836,0 -2.806836,1.019886 0,4.079545c2.183095,2.379734 3.742448,6.799241 3.742448,9.858899c0,3.059659 4.054318,7.479165 9.044249,9.858899c4.98993,2.039772 9.979861,6.459279 10.915473,9.178975c1.247483,3.399621 4.36619,4.419507 9.044249,3.059659c3.742448,-1.019886 9.044249,-0.339962 11.539215,1.359848c4.054318,2.719696 3.742448,3.399621 -0.623741,3.399621c-3.118707,0 -5.613672,1.69981 -5.613672,3.399621c0,2.039772 4.98993,3.399621 10.915473,3.399621c7.484896,0 10.915473,1.69981 10.915473,5.099431c0,2.719696 2.806836,5.099431 5.925543,5.099431c3.430577,0 7.173025,1.69981 8.108638,3.399621c0.935612,2.039772 5.301801,3.399621 9.667991,3.399621c4.36619,0 8.420508,2.379734 9.35612,5.099431c1.559353,3.739583 7.484896,5.099431 24.325912,5.439393c12.162956,0.339962 19.024111,1.359848 14.969791,2.039772c-9.667991,2.039772 -5.613672,7.819127 5.613672,7.819127c4.67806,0 9.35612,2.039772 9.979861,4.419507c1.247483,3.059659 15.281663,4.419507 53.329883,5.099431c43.973763,1.019886 52.082401,2.039772 52.082401,6.459279c0,2.719696 1.871224,4.419507 4.054318,3.399621c1.871224,-0.679924 3.430577,-3.399621 3.118707,-5.439393c-0.623741,-2.039772 1.871224,-3.739583 4.98993,-3.739583c7.484896,0 11.227344,-5.439393 5.925543,-7.819127c-3.118707,-1.359848 -2.806836,-2.039772 0.31187,-2.039772c5.613672,-0.339962 16.217274,-13.938444 14.03418,-17.678026c-0.935612,-1.69981 0.935612,-3.059659 4.054318,-3.399621c4.98993,0 4.98993,-0.339962 -0.623741,-3.059659c-3.430577,-1.359848 -9.044249,-2.039772 -12.786697,-1.019886c-3.742448,0.679924 -8.732378,-1.019886 -11.539215,-3.739583c-2.494965,-3.059659 -6.549283,-5.439393 -8.420508,-5.439393c-1.871224,0 -4.054318,-2.379734 -4.98993,-5.099431c-1.247483,-2.719696 -3.742448,-5.099431 -5.925543,-5.099431c-6.861155,0 -23.390299,-10.538823 -21.830946,-13.938444c1.247483,-1.69981 -1.559353,-3.059659 -6.237413,-3.059659c-4.36619,0 -8.732378,-2.379734 -9.667991,-5.099431c-1.247483,-2.719696 -4.67806,-5.099431 -8.108638,-5.099431c-3.430577,0 -9.979861,-4.079545 -14.657921,-9.178975c-19.959722,-22.777457 -38.360092,-36.7159 -42.10254,-32.296394c-1.247483,1.019886 -1.247483,-0.339962 -0.31187,-3.399621c1.247483,-3.739583 -0.31187,-6.799241 -5.301801,-9.858899c-4.054318,-2.039772 -8.420508,-6.119317 -9.667991,-8.499051c-1.247483,-2.719696 -4.67806,-4.759469 -6.861155,-4.759469c-2.494965,0 -4.67806,-3.059659 -4.67806,-6.799241c0,-6.119317 -11.227344,-15.978216 -16.217274,-14.278406c-1.247483,0.339962 -3.742448,-4.759469 -5.613672,-11.558709c-2.183095,-6.459279 -4.36619,-11.218747 -5.301801,-10.198861c-1.871224,2.039772 -22.142817,-24.817229 -24.637782,-32.636356c-1.247483,-3.399621 -3.118707,-6.119317 -4.67806,-6.119317c-1.559353,0 -2.806836,-2.379734 -2.806836,-5.099431c0,-2.719696 -1.247483,-5.099431 -3.118707,-5.099431c-1.559353,0 -3.118707,-2.719696 -3.118707,-6.459279c0,-3.399621 -2.183095,-8.159089 -4.67806,-10.538823c-2.494965,-2.379734 -4.67806,-6.459279 -4.67806,-9.178975c0,-2.719696 -1.559353,-3.739583 -3.742448,-2.379734c-2.183095,1.69981 -2.806836,0.679924 -1.559353,-3.059659c1.247483,-3.399621 -0.935612,-8.499051 -5.613672,-13.258519c-4.36619,-4.419507 -7.796766,-11.898671 -7.796766,-16.65814c0,-7.819127 -1.247483,-8.839013 -7.796766,-7.139203c-4.36619,0.679924 -7.796766,3.739583 -7.796766,6.119317c0,2.719696 -1.247483,4.759469 -3.118707,4.759469c-1.559353,0 -3.118707,3.059659 -3.118707,7.139203c0,5.099431 -1.559353,6.459279 -4.67806,5.099431c-3.742448,-1.359848 -4.67806,1.019886 -4.67806,12.578595c0,7.819127 -1.559353,16.65814 -3.118707,19.377837c-4.98993,8.499051 -4.054318,-78.871193 0.935612,-89.749978c2.494965,-4.759469 5.301801,-7.819127 6.237413,-6.459279c1.247483,1.019886 2.183095,-2.719696 2.183095,-8.839013c0,-6.119317 -1.247483,-10.198861 -2.806836,-9.178975c-6.237413,4.419507 -7.484896,-27.876887 -8.732378,-192.418514l-0.935612,-172.700716l12.474826,0c10.915473,0 12.474826,1.019886 12.474826,7.819127c-0.31187,4.079545 -2.183095,11.218747 -4.67806,15.978216c-2.494965,4.759469 -4.67806,14.618368 -4.67806,22.097533c0,19.037874 -3.118707,30.596584 -6.549283,25.157191c-1.247483,-2.719696 -2.494965,20.737685 -2.183095,51.334268c0,30.936546 -0.623741,58.133509 -1.247483,60.853205c-0.31187,2.379734 0.935612,5.439393 3.118707,6.119317c1.871224,1.019886 3.742448,-0.679924 3.742448,-3.739583c0,-3.059659 3.430577,-6.119317 7.484896,-7.479165c4.36619,-1.019886 8.420508,-4.079545 9.35612,-7.139203c0.935612,-2.719696 3.118707,-3.739583 4.98993,-2.719696c1.871224,1.019886 3.118707,-1.359848 3.118707,-5.779355c0,-4.419507 3.742448,-11.558709 7.796766,-15.978216c4.36619,-4.419507 8.732378,-11.558709 9.667991,-15.978216c0.935612,-4.419507 3.742448,-8.159089 6.237413,-8.159089c2.494965,0 4.36619,-2.719696 4.36619,-5.779355c0,-3.059659 2.494965,-8.499051 5.301801,-11.898671c4.67806,-5.779355 4.67806,-7.139203 0.935612,-10.198861c-4.054318,-2.719696 -3.742448,-3.059659 0.623741,-1.69981c4.67806,1.69981 10.603603,-5.779355 9.35612,-11.898671c-0.31187,-1.69981 0.935612,-2.719696 2.806836,-2.719696c1.871224,0 2.806836,-2.379734 1.559353,-5.099431c-0.935612,-2.719696 -0.31187,-5.099431 1.247483,-5.099431c1.871224,0 3.118707,-2.379734 3.118707,-5.099431c0,-2.719696 1.559353,-5.099431 3.118707,-5.099431c1.871224,0 3.118707,-2.379734 3.118707,-5.099431c0,-2.719696 2.806836,-6.459279 6.237413,-8.499051c3.430577,-2.039772 5.925543,-4.759469 5.613672,-6.119317c-0.623741,-1.359848 3.118707,-6.799241 7.796766,-12.238633c9.044249,-10.538823 10.915473,-21.077647 4.67806,-23.117419c-2.183095,-1.019886 9.35612,-1.69981 25.573394,-1.69981c16.217274,-0.339962 27.132747,0.339962 24.014041,1.359848c-2.806836,0.679924 -5.301801,3.059659 -5.301801,4.759469c0,1.69981 -2.183095,3.059659 -4.98993,3.059659c-2.494965,0 -3.742448,1.69981 -2.494965,3.739583c0.935612,2.039772 0.935612,4.759469 -0.623741,6.119317c-1.559353,1.019886 -9.35612,11.218747 -17.152886,22.437495c-15.281663,21.757571 -24.637782,40.455482 -24.637782,48.614572c0,3.059659 -0.935612,4.079545 -1.871224,3.059659c-2.494965,-2.379734 -13.722309,12.238633 -13.722309,17.678026c0,2.039772 -1.559353,3.739583 -3.118707,3.739583c-1.871224,0 -3.118707,2.039772 -2.806836,4.419507c0.935612,7.479165 -0.31187,13.598481 -2.183095,11.558709c-2.494965,-2.719696 -16.841016,20.057761 -16.841016,26.517039c0,2.719696 -1.871224,5.099431 -3.742448,5.099431c-2.806836,0 -2.494965,1.359848 0.623741,3.399621c4.054318,2.719696 3.742448,3.399621 -1.247483,3.399621c-4.054318,0 -4.98993,1.69981 -3.742448,5.779355c1.247483,3.399621 1.247483,4.759469 0,3.739583c-0.935612,-1.359848 -5.613672,1.359848 -9.979861,5.779355c-7.173025,7.139203 -7.484896,8.839013 -3.430577,13.938444c3.742448,5.439393 3.742448,5.779355 -0.935612,3.739583c-5.925543,-2.379734 -15.905404,6.119317 -19.335981,16.318178c-1.559353,4.759469 -2.806836,5.439393 -4.67806,2.379734c-1.871224,-3.399621 -3.742448,-1.359848 -6.549283,5.779355c-2.183095,5.779355 -4.67806,10.538823 -5.925543,10.538823c-1.247483,0 -1.871224,6.459279 -1.871224,14.278406c0,12.238633 1.247483,14.95833 6.549283,15.638254c3.430577,0.679924 9.979861,-2.719696 14.969791,-7.819127c4.67806,-4.759469 9.044249,-8.499051 9.979861,-8.499051c0.935612,0 9.044249,-6.119317 18.400369,-13.598481c9.35612,-7.479165 18.088498,-13.598481 19.647851,-13.598481c1.559353,0 5.925543,-3.739583 9.979861,-8.159089c3.742448,-4.759469 10.603603,-9.518937 15.281663,-10.538823c4.67806,-1.019886 12.474826,-5.779355 17.152886,-10.198861c4.98993,-4.759469 11.539215,-8.499051 14.657921,-8.499051c4.054318,0 4.98993,-1.69981 3.742448,-5.779355c-1.559353,-4.079545 -0.623741,-5.099431 2.806836,-3.739583c2.806836,1.359848 8.732378,0 13.722309,-3.059659c4.98993,-2.719696 12.162956,-5.779355 16.217274,-6.459279c3.742448,-1.019886 9.667991,-4.419507 12.786697,-7.819127c3.430577,-3.739583 10.603603,-7.479165 16.217274,-8.839013c11.539215,-2.379734 31.187066,-11.898671 34.305773,-16.318178c0.935612,-1.359848 7.173025,-3.399621 14.03418,-4.419507c6.549283,-1.019886 12.786697,-2.719696 13.722309,-4.419507c0.935612,-1.69981 8.108638,-3.739583 16.217274,-5.099431c9.044249,-1.359848 15.281663,-4.419507 16.529145,-8.159089c1.559353,-4.419507 2.494965,-4.759469 4.36619,-1.019886c1.871224,3.059659 3.430577,3.399621 4.67806,0.679924c1.247483,-2.039772 4.98993,-3.739583 8.420508,-3.739583c3.118707,0 5.925543,-1.359848 5.925543,-3.399621c0,-1.69981 7.173025,-3.399621 15.593533,-3.399621c8.732378,0 15.593533,-1.359848 15.593533,-3.399621c0,-1.69981 -1.247483,-3.399621 -3.118707,-3.399621c-1.559353,0 -2.183095,-4.419507 -0.935612,-10.198861c1.247483,-7.819127 0.623741,-10.198861 -2.806836,-10.198861c-3.118707,0 -5.301801,-4.419507 -6.549283,-11.218747c-0.935612,-6.119317 -5.925543,-21.077647 -11.227344,-33.31628c-5.301801,-12.238633 -9.667991,-24.137304 -9.667991,-26.177077c0,-3.059659 75.4727,-4.079545 299.707707,-4.079545l299.707707,0l-1.559353,46.914762c-2.806836,71.73199 -4.98993,91.109827 -13.410438,115.927055c-4.054318,12.238633 -10.603603,31.61647 -14.03418,42.495255c-3.430577,11.218747 -10.603603,30.256622 -15.593533,42.155293c-4.98993,12.238633 -9.044249,23.797342 -9.044249,25.837115c-0.31187,2.039772 -2.806836,9.858899 -6.237413,17.338064c-3.430577,7.479165 -5.925543,14.618368 -6.237413,16.318178c0,1.359848 -4.98993,10.198861 -10.915473,19.377837c-5.925543,9.178975 -10.915473,18.017988 -10.915473,19.377837c0,3.059659 -14.03418,18.017988 -16.529145,18.017988c-0.935612,0 -6.237413,4.419507 -11.539215,9.518937c-11.851085,11.898671 -35.553255,26.177077 -48.963694,29.236735c-5.301801,1.359848 -14.657921,7.819127 -20.583464,13.938444c-10.915473,11.558709 -11.227344,11.898671 -7.173025,26.177077c4.67806,18.697912 13.722309,23.797342 34.617644,21.077647c8.732378,-1.019886 18.71224,-4.079545 22.454688,-6.799241c3.742448,-2.719696 9.044249,-4.759469 11.539215,-4.759469c3.742448,0 15.281663,-8.499051 48.339953,-35.356052c2.494965,-2.039772 12.162956,-12.238633 21.207205,-22.437495c22.142817,-24.477266 36.176997,-50.994306 53.018013,-100.288801c2.494965,-7.479165 7.173025,-19.717799 10.291732,-27.196963c9.35612,-21.757571 18.71224,-48.614572 18.71224,-52.354154c0,-2.039772 2.494965,-10.198861 5.925543,-18.35795c11.539215,-28.556811 15.905404,-45.214951 16.217274,-65.272712c0.31187,-11.218747 2.494965,-23.797342 4.98993,-27.876887c2.183095,-4.079545 4.054318,-13.258519 4.054318,-19.717799c0,-6.799241 1.559353,-15.298292 3.118707,-19.037874c2.183095,-4.419507 2.183095,-6.459279 0,-6.459279c-1.871224,0 -3.118707,-10.538823 -3.118707,-26.857001c0,-18.35795 -1.247483,-27.536925 -3.742448,-28.556811c-2.183095,-1.019886 175.583183,-2.039772 395.452,-2.039772l399.506318,-0.339962l2.183095,26.177077c0.935612,14.278406 1.871224,49.294496 1.871224,77.851307c0,28.556811 1.247483,55.753774 3.118707,60.513243c1.559353,5.099431 4.054318,21.077647 4.98993,36.375938c1.247483,15.638254 4.67806,32.636356 8.108638,39.775558c3.118707,6.799241 5.613672,15.298292 5.613672,19.377837c0,3.739583 5.613672,19.037874 12.474826,33.996204c6.861155,14.95833 12.474826,29.236735 12.474826,31.61647c0,2.039772 1.247483,4.079545 2.806836,4.079545c1.559353,0 3.742448,4.079545 4.67806,8.839013c3.742448,15.978216 18.088498,36.7159 49.587435,71.73199c35.553255,39.775558 44.909375,44.535027 61.12665,31.61647c10.915473,-8.159089 14.657921,-19.377837 11.227344,-32.976318c-0.935612,-5.099431 -14.969791,-23.457381 -31.810807,-41.475369c-19.647851,-21.417609 -32.434549,-38.41571 -38.04822,-50.994306c-4.67806,-10.538823 -9.979861,-22.097533 -11.851085,-25.837115c-13.410438,-26.177077 -28.068359,-76.151497 -30.563325,-104.028384c-1.247483,-11.898671 -3.118707,-25.497153 -4.67806,-30.256622c-1.559353,-4.759469 -3.118707,-41.815331 -3.742448,-82.610776l-0.935612,-73.771763l159.98965,0c155.935331,0 159.677779,0 159.677779,6.459279c0,3.739583 -1.247483,7.819127 -3.118707,8.839013c-1.559353,1.019886 -3.118707,6.459279 -3.118707,11.898671c0,5.439393 -1.247483,10.878785 -3.118707,11.898671c-1.559353,1.019886 -3.118707,6.459279 -3.118707,12.238633c0,5.439393 -0.935612,9.858899 -2.183095,9.858899c-3.430577,0 -10.291732,16.998102 -10.291732,25.837115c0,4.079545 -2.183095,9.178975 -4.67806,11.558709c-2.494965,2.379734 -4.67806,7.479165 -4.67806,11.558709c0,8.839013 -12.786697,42.835217 -16.217274,42.835217c-1.247483,0 -2.494965,2.379734 -2.494965,5.099431c0,8.159089 -7.484896,32.296394 -9.979861,32.296394c-1.559353,0 -2.494965,4.079545 -2.494965,8.839013c0,4.759469 -1.247483,7.819127 -3.118707,6.459279c-1.559353,-1.019886 -3.118707,1.019886 -3.118707,4.759469c0,4.079545 -1.247483,7.139203 -3.118707,7.139203c-1.559353,0 -3.118707,2.719696 -3.118707,6.119317c0,3.399621 -1.871224,8.839013 -4.36619,12.578595c-2.183095,3.739583 -5.925543,12.578595 -7.796766,19.717799c-2.183095,6.799241 -4.98993,11.898671 -6.237413,10.878785c-1.559353,-0.679924 -4.36619,4.759469 -6.549283,11.898671c-2.183095,7.479165 -5.925543,15.298292 -8.420508,17.338064c-2.183095,2.039772 -4.054318,5.779355 -4.054318,8.159089c0,2.379734 -2.183095,6.119317 -4.67806,8.499051c-2.494965,2.379734 -4.67806,6.799241 -4.67806,10.198861c0,3.399621 -1.871224,6.799241 -4.36619,7.819127c-2.494965,1.019886 -5.925543,7.479165 -8.108638,13.938444c-1.871224,6.799241 -4.98993,11.558709 -6.549283,10.538823c-1.559353,-1.359848 -2.806836,1.69981 -2.806836,6.119317c0,4.759469 -1.871224,9.178975 -4.36619,10.198861c-4.054318,1.69981 -7.173025,6.799241 -18.088498,29.576697c-2.183095,4.419507 -8.108638,13.258519 -13.410438,19.377837c-15.593533,18.35795 -17.152886,20.737685 -17.152886,28.216849c0,4.759469 2.183095,6.799241 6.549283,6.799241c3.430577,0 5.301801,1.69981 4.36619,3.399621c-0.935612,2.039772 1.559353,3.399621 5.925543,3.399621c5.925543,0 7.484896,1.359848 5.925543,5.099431c-0.935612,3.059659 -0.623741,5.099431 0.935612,4.419507c5.613672,-1.359848 16.841016,4.759469 16.841016,9.518937c0,2.719696 1.871224,4.759469 4.054318,4.759469c2.183095,0 8.108638,4.759469 13.098568,10.198861c4.98993,5.779355 10.915473,10.198861 13.098568,10.198861c2.183095,0 4.054318,1.69981 4.054318,3.399621c0,2.039772 2.183095,3.399621 4.67806,3.399621c2.494965,0 4.67806,2.039772 4.67806,4.419507c0,2.719696 3.430577,6.799241 7.796766,9.178975c4.36619,2.379734 7.796766,5.779355 7.796766,7.479165c0,1.359848 2.183095,2.719696 4.67806,2.719696c2.494965,0 4.67806,1.69981 4.67806,3.739583c0,1.69981 4.36619,5.099431 9.667991,7.139203c7.173025,2.719696 8.420508,4.419507 5.301801,6.459279c-3.118707,2.379734 -2.806836,3.059659 0.935612,3.059659c2.806836,0 8.420508,3.739583 12.474826,8.499051c4.054318,4.419507 9.044249,8.499051 10.915473,8.499051c4.36619,0 44.909375,42.495255 44.909375,47.254724c0,2.039772 1.871224,3.739583 4.054318,3.739583c1.871224,0 8.732378,7.819127 14.657921,17.338064c5.925543,9.518937 13.722309,20.737685 17.152886,25.157191c13.722309,17.338064 17.152886,22.097533 17.152886,23.797342c0,1.69981 8.420508,13.258519 16.529145,22.777457c2.806836,3.399621 5.301801,7.479165 5.301801,9.178975c0,2.039772 2.806836,8.839013 6.549283,15.298292c3.742448,6.799241 5.301801,12.238633 3.742448,12.238633c-1.247483,0 0,1.69981 3.118707,3.739583c2.806836,1.69981 5.301801,6.459279 5.301801,9.858899c0,3.739583 1.559353,6.799241 3.118707,6.799241c1.871224,0 3.118707,3.059659 3.118707,7.139203c0,3.739583 1.247483,6.119317 2.806836,5.099431c3.118707,-2.039772 9.667991,12.578595 9.667991,21.757571c0,3.739583 1.247483,6.799241 3.118707,6.799241c1.559353,0 4.054318,4.079545 4.98993,9.178975c1.247483,5.439393 3.118707,11.218747 4.054318,12.918557c1.247483,2.039772 5.301801,12.578595 9.35612,23.797342c3.742448,11.218747 8.420508,23.117419 9.979861,26.177077c1.559353,3.399621 2.806836,10.878785 2.806836,16.318178c0,5.779355 1.247483,9.858899 2.494965,8.839013c2.806836,-2.039772 9.979861,27.196963 9.979861,40.455482c0,4.419507 1.559353,9.178975 3.118707,10.198861c1.871224,1.019886 3.118707,11.898671 3.118707,24.137304c0,11.898671 1.247483,21.757571 2.494965,21.757571c1.559353,0 5.301801,16.318178 8.420508,36.7159c3.118707,20.057761 6.861155,37.735786 8.108638,39.775558c3.430577,3.739583 3.742448,142.444095 0.623741,145.843715c-3.430577,3.739583 -9.979861,38.755672 -9.979861,54.733888c-0.31187,7.479165 -1.247483,17.338064 -2.494965,21.757571c-1.871224,7.819127 -2.183095,7.819127 -4.36619,1.69981c-1.247483,-3.739583 -2.494965,6.459279 -2.494965,24.477266c-0.31187,16.998102 -1.559353,35.356052 -3.118707,40.795444c-1.559353,5.439393 -4.67806,25.497153 -6.861155,44.874989c-2.183095,20.737685 -4.98993,33.31628 -6.549283,30.596584c-1.247483,-2.719696 -2.494965,2.039772 -2.494965,11.558709c0,8.839013 -1.247483,16.998102 -3.118707,18.017988c-1.559353,1.019886 -3.118707,7.139203 -3.118707,13.258519c0,6.459279 -2.183095,15.978216 -4.67806,21.077647c-2.494965,5.439393 -5.613672,15.298292 -6.549283,21.757571c-1.247483,6.459279 -5.301801,16.65814 -9.044249,22.097533c-4.054318,5.779355 -8.732378,19.037874 -10.915473,29.916659c-1.871224,10.538823 -4.67806,19.377837 -5.925543,19.377837c-0.935612,0 -4.054318,7.139203 -6.237413,16.318178c-2.494965,8.839013 -5.925543,16.998102 -7.484896,18.35795c-1.871224,1.019886 -3.742448,5.099431 -4.054318,8.499051c-0.623741,3.739583 -3.118707,11.218747 -5.925543,16.65814c-2.494965,5.439393 -4.67806,12.578595 -4.67806,15.638254c0,3.059659 -1.559353,6.799241 -3.118707,7.819127c-1.871224,1.359848 -5.613672,8.159089 -8.420508,15.638254c-2.494965,7.139203 -5.925543,13.258519 -7.484896,13.258519c-1.559353,0 -2.806836,2.379734 -2.806836,5.099431c0,6.119317 -10.603603,27.196963 -18.71224,36.375938c-3.430577,4.079545 -5.301801,8.499051 -4.36619,9.858899c0.623741,1.359848 -1.247483,4.759469 -4.36619,7.139203c-3.430577,2.379734 -5.925543,5.439393 -5.613672,6.799241c0,1.019886 -4.36619,7.819127 -9.667991,14.618368c-5.613672,6.799241 -10.291732,13.258519 -10.291732,13.938444c0,1.019886 -3.118707,5.439393 -6.861155,10.198861c-4.054318,4.759469 -9.979861,11.898671 -13.410438,16.318178c-3.430577,4.079545 -9.667991,13.258519 -14.03418,20.057761c-4.36619,6.799241 -8.732378,12.578595 -9.979861,12.578595c-1.559353,0 -2.494965,2.379734 -2.494965,5.439393c0,2.719696 -1.247483,4.079545 -3.118707,3.059659c-1.559353,-1.019886 -3.118707,-0.339962 -3.118707,1.359848c0,2.039772 1.559353,3.739583 3.118707,3.739583c1.871224,0 3.118707,2.039772 3.118707,4.759469c0,2.719696 0.935612,5.439393 2.494965,6.119317c1.247483,0.679924 5.925543,7.139203 10.915473,14.95833c4.67806,7.479165 11.227344,16.998102 14.657921,21.077647c3.430577,4.079545 6.237413,8.839013 6.237413,10.878785c0,1.69981 1.247483,3.399621 2.494965,3.399621c1.559353,0 4.67806,4.079545 7.173025,9.518937c2.494965,5.099431 6.861155,11.898671 10.291732,15.298292c3.118707,3.059659 4.98993,5.779355 3.742448,5.779355c-1.247483,0 0,2.379734 2.494965,5.439393c2.806836,2.719696 4.98993,7.139203 4.98993,9.178975c0,2.379734 3.430577,8.499051 7.796766,13.598481c4.36619,5.099431 7.484896,9.178975 6.549283,9.178975c-0.935612,0 1.871224,5.439393 5.925543,12.238633c4.36619,6.799241 7.796766,14.95833 7.796766,18.017988c0,4.759469 0.623741,4.759469 3.118707,0.339962c2.183095,-3.739583 3.118707,-2.379734 3.118707,6.459279c0,6.459279 0.935612,10.538823 2.183095,9.518937c0.935612,-1.359848 4.36619,3.739583 7.484896,11.218747c3.118707,7.479165 7.173025,13.598481 9.044249,13.598481c1.559353,0 3.118707,3.059659 3.118707,6.799241c0,3.739583 1.247483,6.799241 2.806836,6.799241c1.559353,0 3.430577,4.419507 4.36619,9.858899c0.935612,5.439393 3.742448,11.898671 5.925543,14.278406c2.183095,2.719696 5.925543,8.839013 8.420508,14.278406c2.494965,5.099431 5.613672,9.178975 7.173025,9.178975c1.247483,0 2.494965,3.059659 2.494965,7.139203c0,3.739583 2.183095,9.178975 4.67806,12.238633c2.494965,2.719696 4.054318,6.459279 3.118707,8.159089c-1.247483,1.69981 0.31187,3.059659 2.806836,3.059659c2.806836,0 4.98993,3.059659 4.98993,6.799241c0,3.739583 1.559353,6.799241 3.118707,6.799241c1.871224,0 3.118707,2.719696 3.118707,6.119317c0,3.399621 2.806836,9.518937 6.237413,13.598481c3.430577,4.079545 6.237413,9.178975 6.237413,11.218747c0,2.379734 3.430577,9.178975 7.796766,15.298292c4.36619,6.119317 7.796766,12.918557 7.796766,14.95833c0,3.739583 5.301801,16.318178 12.786697,30.596584c1.559353,2.719696 5.301801,10.538823 8.420508,16.998102c2.806836,6.459279 6.237413,12.578595 7.796766,12.918557c1.247483,0.679924 2.183095,3.399621 2.183095,6.119317c0,2.719696 1.247483,7.479165 2.806836,10.878785c1.559353,3.059659 4.67806,10.538823 6.861155,16.65814c2.183095,5.779355 5.301801,9.858899 6.549283,9.178975c1.247483,-1.019886 2.494965,2.039772 2.494965,6.799241c0,4.759469 1.559353,9.518937 3.118707,10.538823c1.871224,1.019886 3.118707,4.759469 3.118707,8.499051c0,3.399621 2.183095,6.799241 4.67806,8.159089c2.494965,1.019886 4.67806,4.079545 4.67806,6.799241c0,8.159089 6.861155,22.437495 9.667991,20.397723c1.559353,-1.019886 2.806836,2.039772 2.806836,7.139203c0,4.759469 1.247483,11.558709 3.118707,15.298292c1.871224,3.739583 4.67806,9.858899 6.237413,13.598481c1.871224,3.739583 3.118707,9.178975 3.118707,11.898671c0,2.719696 1.247483,5.099431 2.494965,5.099431c1.247483,0 4.36619,7.139203 6.549283,16.318178c2.494965,8.839013 5.613672,17.678026 7.173025,20.057761c1.559353,2.039772 5.613672,16.65814 9.044249,32.296394c9.979861,43.175179 4.67806,101.308688 -9.044249,101.308688c-2.494965,0 -3.742448,2.039772 -2.494965,5.099431c1.247483,4.419507 -2.494965,5.099431 -23.078429,5.099431c-13.410438,0 -25.261524,-1.359848 -26.197136,-3.059659c-0.935612,-1.359848 -12.162956,-6.799241 -25.261524,-12.238633c-12.786697,-5.099431 -24.325912,-10.538823 -25.261524,-12.238633c-0.935612,-1.69981 -4.36619,-3.059659 -7.796766,-3.059659c-3.118707,0 -5.925543,-1.359848 -5.925543,-3.399621c0,-1.69981 -3.430577,-3.399621 -7.796766,-3.399621c-4.36619,0 -7.796766,-1.019886 -7.796766,-2.719696c0,-1.359848 -4.67806,-4.419507 -9.979861,-6.799241c-5.613672,-2.379734 -12.786697,-6.119317 -15.593533,-7.819127c-3.118707,-1.69981 -8.732378,-3.059659 -12.474826,-3.059659c-3.742448,0 -5.613672,-1.019886 -4.67806,-2.379734c2.494965,-2.379734 -11.851085,-11.218747 -18.400369,-11.218747c-2.494965,0 -4.36619,-2.379734 -4.36619,-5.099431c0,-2.719696 -2.806836,-5.099431 -5.925543,-5.099431c-3.430577,0 -7.173025,-1.359848 -8.108638,-3.399621c-0.935612,-1.69981 -6.549283,-3.399621 -11.851085,-3.739583c-8.420508,0 -9.044249,-0.679924 -3.742448,-3.059659c5.301801,-2.379734 5.301801,-3.059659 0.935612,-3.059659c-3.118707,-0.339962 -12.162956,-4.419507 -20.271593,-9.518937c-8.108638,-4.759469 -19.959722,-11.898671 -25.885265,-15.638254c-5.925543,-3.739583 -11.539215,-7.479165 -12.474826,-8.839013c-3.118707,-4.079545 -15.593533,-10.538823 -20.271593,-10.538823c-2.806836,0 -4.054318,-1.359848 -3.118707,-3.399621c0.935612,-1.69981 -0.31187,-3.399621 -2.806836,-3.399621c-4.36619,0 -11.539215,-5.099431 -22.142817,-15.978216c-2.183095,-2.039772 -9.979861,-7.139203 -17.776628,-11.218747c-7.796766,-3.739583 -19.335981,-12.238633 -25.885265,-18.697912c-6.549283,-6.459279 -12.786697,-11.898671 -14.03418,-11.898671c-1.247483,0 -6.549283,-4.419507 -11.851085,-9.858899c-5.301801,-5.779355 -14.969791,-13.938444 -21.519076,-18.35795c-6.549283,-4.759469 -15.281663,-11.898671 -19.647851,-16.318178c-4.054318,-4.419507 -8.732378,-7.819127 -9.979861,-7.139203c-1.559353,0.339962 -2.494965,-0.679924 -2.494965,-2.719696c0,-1.69981 -3.742448,-5.439393 -8.420508,-8.159089c-4.98993,-2.719696 -7.484896,-5.099431 -6.237413,-5.439393c3.742448,0 -23.390299,-27.196963 -27.444619,-27.196963c-1.559353,0 -4.98993,-4.759469 -7.173025,-10.198861c-2.494965,-5.779355 -5.301801,-9.518937 -6.861155,-8.499051c-2.806836,2.039772 -15.593533,-15.978216 -15.593533,-21.757571c0,-2.039772 -1.871224,-3.739583 -4.36619,-3.739583c-2.494965,0 -6.549283,-3.059659 -9.044249,-6.799241c-2.494965,-3.739583 -5.301801,-5.779355 -6.237413,-4.419507c-1.247483,1.019886 -2.183095,0.339962 -2.183095,-2.039772c0,-2.039772 -3.118707,-7.479165 -6.861155,-11.898671c-4.054318,-4.419507 -11.227344,-13.598481 -16.529145,-20.737685c-4.98993,-6.799241 -13.410438,-17.678026 -18.71224,-23.457381c-4.98993,-6.119317 -9.667991,-12.918557 -10.291732,-15.298292c-0.31187,-2.379734 -2.806836,-6.799241 -5.301801,-9.518937c-2.806836,-2.719696 -4.054318,-6.119317 -3.118707,-7.819127c0.935612,-1.69981 -1.247483,-3.739583 -4.67806,-5.099431c-5.613672,-2.039772 -7.484896,-5.779355 -6.549283,-12.578595c0,-1.69981 -1.559353,-2.719696 -3.430577,-2.719696c-2.183095,0 -7.484896,-8.159089 -11.851085,-18.017988c-10.915473,-25.157191 -11.539215,-25.837115 -26.197136,-20.057761c-7.173025,2.379734 -14.03418,6.119317 -15.905404,7.819127c-1.559353,1.69981 -7.796766,3.059659 -13.722309,3.059659c-10.603603,0 -27.756489,4.759469 -38.360092,10.538823c-3.118707,1.69981 -8.420508,3.059659 -11.539215,3.059659c-3.430577,0 -7.173025,1.69981 -8.108638,3.399621c-0.935612,2.039772 -5.925543,3.399621 -11.227344,3.399621c-4.98993,0 -9.044249,1.69981 -9.044249,3.399621c0,2.039772 -4.36619,3.399621 -9.35612,3.399621c-5.301801,0 -11.851085,1.359848 -14.969791,3.399621c-2.806836,1.69981 -16.217274,5.779355 -29.315842,8.839013c-13.410438,3.059659 -23.702171,6.799241 -22.766559,8.159089c0.935612,1.359848 -11.539215,3.399621 -27.444619,4.419507c-15.593533,1.359848 -42.10254,3.739583 -58.319814,5.439393c-16.217274,2.039772 -43.973763,4.759469 -61.438521,5.779355c-17.776628,1.359848 -32.122678,3.059659 -32.122678,4.079545c0,2.379734 19.335981,21.077647 22.142817,21.077647c1.247483,0 6.237413,3.739583 10.603603,8.159089c10.603603,10.538823 13.098568,28.556811 6.549283,43.175179c-2.806836,5.779355 -4.98993,12.918557 -4.98993,15.638254c0,2.379734 -2.183095,5.439393 -4.67806,6.459279c-2.494965,1.359848 -4.67806,5.779355 -4.67806,10.198861c0,4.419507 -1.247483,8.159089 -3.118707,8.159089c-1.559353,0 -3.118707,3.739583 -3.118707,8.499051c0,4.759469 -1.247483,8.499051 -3.118707,8.499051c-1.559353,0 -3.118707,2.379734 -3.118707,5.099431c0,2.719696 -1.247483,5.099431 -3.118707,5.099431c-1.559353,0 -3.118707,1.69981 -3.118707,3.399621c0,2.039772 2.183095,3.399621 4.67806,3.399621c2.806836,0 5.613672,2.379734 6.549283,5.099431c1.247483,2.719696 3.742448,5.099431 6.237413,5.099431c2.494965,0 4.36619,1.69981 4.36619,3.399621c0,2.039772 3.430577,3.399621 7.796766,3.399621c4.36619,0 7.796766,1.359848 7.796766,2.719696c0,1.69981 4.98993,4.759469 10.915473,7.479165c5.925543,2.719696 10.915473,5.779355 10.915473,7.479165c0,1.359848 2.806836,2.719696 6.549283,2.719696c3.430577,0 5.613672,1.359848 4.36619,3.399621c-0.935612,1.69981 4.054318,4.759469 10.915473,6.799241c6.861155,2.039772 12.474826,5.099431 12.474826,6.799241c0,2.039772 2.806836,3.399621 6.237413,3.399621c3.118707,0 7.173025,2.039772 8.420508,4.419507c2.494965,4.079545 25.885265,17.678026 29.627713,16.65814c0.935612,-0.339962 3.742448,1.69981 5.613672,4.419507c2.183095,2.719696 7.173025,5.099431 11.539215,5.099431c4.054318,0 6.861155,1.359848 5.925543,3.059659c-1.247483,1.69981 4.054318,5.439393 11.227344,7.819127c7.173025,2.719696 15.593533,8.499051 18.71224,13.258519c6.861155,9.858899 8.420508,38.075748 3.118707,62.553015c-1.871224,9.518937 -4.36619,21.757571 -5.301801,27.196963c-1.247483,5.779355 -4.67806,16.318178 -7.796766,23.797342c-3.430577,7.479165 -6.861155,18.017988 -7.796766,23.117419c-0.935612,5.099431 -3.118707,8.499051 -4.67806,7.479165c-1.871224,-1.019886 -3.118707,1.69981 -3.118707,6.459279c0,4.759469 -1.247483,9.518937 -3.118707,10.538823c-1.559353,1.019886 -3.118707,5.099431 -3.118707,8.839013c0,3.739583 -1.247483,5.779355 -3.118707,4.759469c-1.559353,-1.019886 -3.118707,0.339962 -3.118707,3.059659c0,6.459279 -12.474826,36.035977 -17.776628,42.155293c-1.871224,2.039772 -4.67806,7.139203 -5.613672,10.878785c-1.871224,6.119317 -4.67806,6.799241 -33.05829,6.799241c-28.692101,0 -30.875196,-0.339962 -30.875196,-6.799241c0,-3.739583 0.935612,-6.799241 2.494965,-6.799241c1.247483,0 5.613672,-8.159089 9.979861,-18.017988c4.36619,-9.518937 9.667991,-19.037874 11.851085,-20.397723c1.871224,-1.359848 3.742448,-4.759469 3.742448,-7.139203c0,-6.119317 7.484896,-22.437495 10.291732,-22.437495c1.247483,0 2.183095,-2.379734 2.183095,-5.099431c0,-2.719696 1.247483,-5.099431 2.494965,-5.099431c1.559353,0 4.67806,-6.459279 6.861155,-14.278406c2.183095,-8.159089 4.98993,-17.678026 6.237413,-21.417609c1.559353,-3.739583 4.36619,-12.918557 6.237413,-20.397723c2.183095,-7.479165 5.613672,-18.017988 8.108638,-23.117419c10.291732,-22.437495 4.67806,-33.31628 -22.142817,-43.515141c-6.861155,-2.719696 -15.281663,-7.479165 -18.400369,-10.538823c-3.430577,-3.399621 -8.732378,-6.119317 -11.851085,-6.119317c-3.118707,0 -5.613672,-1.359848 -5.613672,-3.059659c0,-1.69981 -9.044249,-7.139203 -20.271593,-12.238633c-11.227344,-5.439393 -20.271593,-10.878785 -20.271593,-12.238633c0,-1.359848 -4.98993,-4.419507 -10.915473,-6.799241c-5.925543,-2.379734 -10.915473,-5.439393 -10.915473,-6.799241c0,-1.359848 -3.430577,-3.399621 -7.796766,-4.419507c-4.36619,-1.359848 -10.603603,-4.759469 -13.410438,-8.159089c-3.118707,-3.059659 -11.227344,-8.839013 -17.776628,-12.578595c-18.400369,-10.198861 -38.671962,-33.31628 -39.607574,-44.874989c-1.247483,-19.717799 0.935612,-26.857001 11.539215,-39.435596c5.925543,-7.139203 10.915473,-15.298292 10.915473,-18.017988c0,-2.719696 1.559353,-4.759469 3.118707,-4.759469c1.871224,0 3.118707,-3.739583 3.118707,-8.499051c0,-4.759469 1.559353,-8.499051 3.118707,-8.499051c5.301801,0 3.430577,-16.998102 -2.183095,-19.377837c-2.806836,-1.359848 -9.35612,-6.459279 -14.657921,-11.898671c-4.98993,-5.099431 -9.979861,-9.518937 -11.539215,-9.518937c-2.806836,0 -16.529145,-12.238633 -25.573394,-22.777457c-5.613672,-7.139203 -9.35612,-7.819127 -33.993902,-7.819127c-14.969791,0 -27.444619,1.019886 -27.444619,2.039772c0,3.739583 9.044249,11.558709 13.722309,11.558709c5.925543,0 23.702171,19.377837 24.014041,26.517039c1.247483,22.777457 -8.108638,55.07385 -15.905404,55.07385c-1.871224,0 -3.118707,3.059659 -3.118707,6.799241c0,3.739583 -1.247483,6.799241 -3.118707,6.799241c-1.559353,0 -3.118707,2.379734 -3.118707,5.439393c0,2.719696 -1.247483,4.419507 -2.494965,3.399621c-1.559353,-1.019886 -4.67806,3.399621 -6.861155,9.858899c-2.494965,6.459279 -5.301801,11.898671 -6.549283,11.898671c-1.247483,0 -6.237413,7.139203 -10.915473,16.318178c-4.67806,8.839013 -9.35612,16.65814 -10.291732,17.678026c-0.935612,1.019886 -4.054318,6.459279 -6.549283,11.898671c-2.494965,5.779355 -5.301801,10.878785 -6.237413,11.898671c-4.36619,4.759469 -12.162956,23.117419 -10.291732,25.157191c0.935612,1.019886 0.31187,2.039772 -1.559353,2.039772c-2.183095,0 -3.742448,3.059659 -3.742448,6.799241c0,3.739583 -2.806836,10.198861 -6.237413,14.618368c-12.786697,15.298292 -14.346051,18.017988 -18.71224,32.976318c-2.494965,8.499051 -5.613672,16.318178 -7.173025,17.338064c-1.247483,1.019886 -2.806836,5.099431 -3.118707,9.178975c0,3.739583 -1.559353,6.119317 -2.806836,5.439393c-1.247483,-1.019886 -2.494965,1.359848 -2.494965,5.099431c0,4.079545 -1.559353,7.139203 -3.430577,7.139203c-1.871224,0 -2.806836,5.439393 -2.183095,12.578595c0.623741,9.518937 2.806836,13.938444 8.420508,16.65814c4.054318,2.379734 8.108638,5.439393 9.35612,7.139203c0.935612,1.359848 5.613672,4.759469 10.291732,7.479165c4.67806,2.719696 11.227344,7.139203 14.346051,10.198861c8.420508,7.819127 18.71224,13.938444 24.014041,13.938444c2.494965,0 4.67806,1.359848 4.67806,2.719696c0,1.69981 6.549283,6.799241 14.969791,11.218747c8.108638,4.419507 15.905404,9.858899 17.152886,12.238633c1.247483,2.379734 5.301801,4.419507 8.420508,4.419507c3.430577,0 9.044249,3.059659 12.474826,6.799241c3.430577,3.739583 8.108638,6.799241 10.603603,6.799241c2.494965,0 4.98993,1.019886 5.613672,2.719696c0.623741,1.359848 8.108638,6.119317 16.529145,10.538823c8.732378,4.419507 18.088498,9.178975 20.895334,10.878785c3.118707,1.69981 7.796766,3.059659 10.291732,3.059659c2.494965,0 4.67806,2.039772 4.67806,4.419507c0,2.719696 6.861155,6.459279 15.593533,9.178975c8.420508,2.379734 14.657921,5.779355 13.722309,7.479165c-0.935612,1.359848 1.247483,2.719696 4.67806,2.719696c3.430577,0 7.173025,1.69981 8.108638,3.399621c1.247483,2.379734 -19.335981,3.399621 -59.879167,3.059659l-61.750391,-0.339962l-17.464757,-10.538823l0.000003,-0.000007l0.000016,-0.000008zm1002.352309,-260.070961c-0.935612,-29.236735 -3.118707,-55.07385 -4.67806,-57.453585c-1.559353,-2.379734 -4.36619,-18.35795 -5.613672,-35.696015c-4.36619,-47.934648 -11.851085,-95.869296 -15.593533,-97.229143c-1.559353,-0.679924 -3.118707,-6.459279 -3.118707,-12.918557c0,-13.258519 -6.549283,-38.755672 -9.979861,-38.755672c-1.559353,0 -2.494965,-2.379734 -2.494965,-5.099431c0,-4.759469 -11.227344,-28.896773 -15.281663,-32.296394c-0.935612,-1.019886 -5.925543,-10.878785 -11.227344,-22.097533c-4.98993,-11.218747 -10.291732,-20.737685 -11.539215,-21.417609c-1.559353,-0.679924 -2.494965,-4.079545 -2.494965,-7.819127c0,-3.399621 -1.247483,-6.459279 -3.118707,-6.459279c-1.559353,0 -3.118707,-2.379734 -3.118707,-5.099431c0,-2.719696 -0.935612,-5.099431 -2.183095,-5.099431c-3.118707,0 -10.291732,-16.65814 -10.291732,-23.117419c0,-2.379734 -1.247483,-3.399621 -3.118707,-2.379734c-1.559353,1.019886 -3.118707,-0.339962 -3.118707,-3.059659c0,-3.059659 -1.247483,-5.439393 -3.118707,-5.439393c-1.559353,0 -3.118707,-2.379734 -3.118707,-5.099431c0,-3.059659 -2.183095,-6.119317 -4.67806,-7.139203c-2.494965,-1.359848 -4.67806,-4.079545 -4.67806,-6.459279c0,-6.119317 -12.474826,-29.236735 -19.335981,-36.035977c-3.118707,-3.059659 -5.613672,-8.159089 -5.613672,-11.218747c0,-3.059659 -2.183095,-5.439393 -4.98993,-5.439393c-2.494965,0 -4.054318,-1.359848 -3.118707,-2.719696c0.935612,-1.69981 -1.247483,-6.119317 -4.36619,-10.198861c-3.430577,-4.079545 -6.237413,-8.159089 -6.237413,-9.518937c0,-1.359848 -2.183095,-4.759469 -4.67806,-7.819127c-13.410438,-16.318178 -16.217274,-20.057761 -18.088498,-25.157191c-2.806836,-8.159089 -8.108638,-7.139203 -15.281663,2.719696c-3.430577,4.759469 -8.108638,8.499051 -10.603603,8.499051c-2.494965,0 -8.108638,3.739583 -12.162956,8.159089c-4.054318,4.759469 -10.603603,9.178975 -14.03418,10.538823c-3.430577,1.019886 -6.237413,4.419507 -6.237413,7.139203c0,2.719696 -1.871224,4.759469 -4.36619,4.759469c-2.494965,0 -9.044249,4.419507 -14.657921,9.858899c-5.613672,5.779355 -14.03418,11.898671 -19.024111,14.278406c-4.67806,2.039772 -7.796766,5.099431 -6.861155,6.799241c0.935612,1.69981 -0.623741,3.059659 -3.118707,3.059659c-2.806836,0 -6.549283,3.059659 -8.732378,6.799241c-2.183095,3.739583 -5.613672,6.799241 -7.796766,6.799241c-2.183095,0 -4.054318,1.359848 -4.054318,3.059659c0,1.69981 -3.430577,4.079545 -7.796766,5.099431c-4.36619,1.359848 -7.796766,3.739583 -7.796766,5.439393c0,2.039772 -2.183095,3.399621 -4.67806,3.399621c-2.494965,0 -4.67806,1.69981 -4.67806,3.399621c0,2.039772 -2.183095,3.399621 -4.67806,3.399621c-2.494965,0 -4.67806,1.69981 -4.67806,3.399621c0,2.039772 -2.183095,3.399621 -4.67806,3.399621c-2.494965,0 -4.67806,1.69981 -4.67806,3.399621c0,2.039772 -2.806836,3.399621 -6.237413,3.399621c-3.430577,0 -6.237413,1.69981 -6.237413,3.399621c0,2.039772 -3.118707,3.399621 -6.861155,3.399621c-3.742448,0 -5.613672,1.019886 -4.67806,2.379734c2.494965,2.719696 -19.335981,17.678026 -25.885265,18.017988c-5.925543,0 -13.410438,12.578595 -9.35612,15.298292c1.871224,1.019886 3.118707,5.099431 3.118707,8.839013c0,3.399621 0.935612,6.459279 2.494965,6.459279c1.247483,0 5.613672,6.799241 9.979861,15.298292c4.36619,8.499051 8.732378,15.298292 9.979861,15.298292c1.247483,0 4.67806,5.439393 7.484896,11.898671c2.806836,6.459279 6.237413,11.898671 7.796766,11.898671c1.559353,0 4.36619,3.739583 6.549283,8.159089c4.98993,9.858899 19.024111,29.236735 33.682032,46.234837c28.068359,32.976318 37.42448,44.535027 37.42448,47.594686c0,2.039772 0.935612,3.059659 2.494965,2.719696c1.247483,-0.679924 8.732378,6.459279 17.152886,15.298292c8.108638,8.839013 15.281663,15.978216 16.217274,15.978216c0.935612,0 8.732378,7.479165 17.152886,16.65814c8.732378,9.178975 19.647851,18.697912 24.325912,21.077647c4.67806,2.039772 12.162956,9.178975 16.217274,15.298292c4.36619,5.779355 8.732378,10.198861 9.667991,9.518937c1.247483,-0.679924 3.742448,1.019886 5.925543,3.739583c2.183095,2.719696 5.925543,5.099431 8.108638,5.099431c2.494965,0 4.36619,1.69981 4.36619,3.399621c0,2.039772 1.871224,3.399621 4.054318,3.399621c1.871224,0 8.108638,4.419507 13.098568,9.518937c5.301801,5.099431 15.905404,13.598481 24.325912,18.697912c8.108638,5.099431 14.657921,10.538823 14.657921,11.898671c0,1.359848 7.796766,6.119317 17.152886,10.878785c9.35612,4.759469 17.152886,9.518937 17.152886,11.218747c0,1.359848 2.183095,2.379734 4.67806,2.379734c2.494965,0 4.67806,1.359848 4.67806,3.059659c0,1.69981 8.420508,6.799241 18.71224,11.218747c10.291732,4.079545 18.71224,9.858899 18.71224,11.898671c0,2.379734 2.806836,4.419507 6.237413,4.419507c3.430577,0 6.237413,1.69981 6.237413,3.399621c0,2.039772 2.806836,3.399621 6.549283,3.399621c3.430577,0 5.613672,1.359848 4.36619,3.059659c-1.871224,3.399621 9.979861,6.459279 16.217274,4.419507c2.494965,-0.679924 3.118707,-15.638254 1.871224,-54.393926l-0.000002,-0.000004l0.000008,-0.000004zm-1930.79127,-14.278406c4.36619,-3.399621 8.732378,-5.439393 9.979861,-4.419507c0.935612,1.019886 1.871224,0.679924 1.871224,-1.359848c0,-1.69981 5.613672,-6.119317 12.474826,-9.518937c6.861155,-3.399621 12.474826,-7.479165 12.474826,-9.178975c0,-1.359848 2.806836,-2.719696 6.237413,-2.719696c3.430577,0 6.237413,-1.359848 6.237413,-3.399621c0,-1.69981 2.183095,-3.399621 4.98993,-3.399621c2.494965,0 3.742448,-1.359848 2.806836,-3.399621c-0.935612,-1.69981 0.935612,-3.399621 4.36619,-3.399621c3.742448,0 6.549283,-1.359848 6.549283,-3.399621c0,-1.69981 1.871224,-3.399621 4.36619,-3.399621c5.925543,0 20.895334,-8.839013 18.71224,-11.218747c-0.935612,-1.019886 1.559353,-3.739583 5.613672,-6.119317c3.742448,-2.039772 8.420508,-6.119317 9.667991,-8.499051c1.247483,-2.719696 4.67806,-4.759469 6.861155,-4.759469c2.494965,0 4.67806,-1.359848 4.67806,-3.399621c0,-1.69981 1.559353,-3.399621 3.118707,-3.399621c3.742448,0 22.766559,-13.938444 24.325912,-17.678026c0.623741,-1.69981 2.183095,-2.719696 3.742448,-2.719696c2.494965,0 9.979861,-6.459279 28.692101,-24.477266c4.98993,-5.439393 10.603603,-9.518937 12.162956,-9.518937c1.559353,0 2.806836,-1.69981 2.806836,-3.739583c0,-4.079545 7.796766,-13.258519 11.539215,-13.258519c1.247483,0 6.549283,-4.759469 11.539215,-10.198861c4.98993,-5.779355 10.291732,-10.198861 11.851085,-10.198861c1.247483,0 2.494965,-2.039772 2.494965,-4.419507c0,-2.719696 3.430577,-6.799241 7.796766,-9.178975c4.36619,-2.379734 7.796766,-6.799241 7.796766,-9.518937c0,-3.059659 0.935612,-4.419507 1.871224,-3.059659c1.871224,2.039772 10.603603,-5.439393 10.603603,-9.518937c0,-1.019886 3.430577,-5.439393 7.796766,-9.858899c4.36619,-4.419507 7.796766,-9.518937 7.796766,-11.558709c0,-2.039772 2.806836,-4.759469 6.237413,-5.779355c3.430577,-1.019886 6.237413,-3.739583 6.237413,-5.779355c0,-1.69981 4.36619,-7.819127 9.35612,-12.918557c5.301801,-5.099431 9.35612,-10.878785 9.35612,-12.578595c0,-1.359848 5.613672,-9.518937 12.162956,-17.678026c6.861155,-8.499051 11.851085,-16.318178 11.227344,-17.338064c-0.623741,-1.359848 1.559353,-4.419507 4.98993,-6.799241c3.118707,-2.719696 5.925543,-6.799241 5.925543,-9.178975c0,-2.379734 1.247483,-4.419507 2.806836,-4.419507c1.559353,0 4.36619,-4.419507 6.549283,-10.198861c2.183095,-5.439393 4.98993,-10.198861 6.549283,-10.198861c1.559353,0 2.806836,-2.379734 2.806836,-5.099431c0,-3.059659 2.806836,-8.499051 6.237413,-12.578595c3.430577,-4.079545 6.237413,-9.178975 6.237413,-11.558709c0,-4.759469 -25.261524,-25.157191 -31.187066,-25.157191c-1.871224,0 -4.054318,-2.379734 -4.98993,-5.099431c-1.247483,-2.719696 -3.742448,-5.099431 -6.237413,-5.099431c-2.494965,0 -4.36619,-1.359848 -4.36619,-3.399621c0,-1.69981 -1.247483,-3.399621 -3.118707,-3.399621c-2.806836,0 -10.915473,-6.459279 -20.271593,-15.978216c-2.494965,-2.379734 -4.98993,-4.419507 -5.925543,-4.419507c-1.871224,0 -3.118707,-1.019886 -26.820877,-23.797342c-7.796766,-7.479165 -14.969791,-13.598481 -16.217274,-13.598481c-0.935612,0 -21.830946,-21.077647 -45.844987,-47.254724l-44.285634,-46.914762l-10.603603,11.558709c-5.925543,6.459279 -10.915473,12.578595 -10.915473,13.258519c0,2.379734 -13.098568,21.757571 -22.454688,33.31628c-8.108638,9.518937 -9.044249,11.558709 -8.732378,17.678026c0.31187,1.019886 -2.806836,4.759469 -6.861155,8.159089c-4.054318,3.739583 -5.925543,6.459279 -4.67806,6.799241c1.247483,0 -0.623741,3.399621 -4.054318,7.819127c-3.430577,4.079545 -12.786697,18.35795 -20.271593,31.276508c-7.484896,13.258519 -14.969791,25.497153 -16.529145,27.196963c-1.247483,2.039772 -4.67806,8.499051 -6.861155,14.618368c-2.494965,5.779355 -5.613672,10.878785 -6.549283,10.878785c-0.935612,0 -5.301801,8.499051 -9.35612,18.697912c-4.054318,10.198861 -8.108638,18.697912 -9.35612,18.697912c-0.935612,0 -4.36619,6.119317 -7.484896,13.598481c-3.118707,7.479165 -6.861155,13.598481 -8.420508,13.598481c-1.247483,0 -2.494965,3.059659 -2.494965,6.799241c0,3.739583 -1.247483,6.799241 -3.118707,6.799241c-1.559353,0 -3.118707,3.059659 -3.118707,6.799241c0,3.739583 -1.247483,6.799241 -3.118707,6.799241c-1.559353,0 -3.118707,3.059659 -3.118707,6.799241c0,3.739583 -0.935612,6.799241 -2.183095,6.799241c-8.732378,0 -10.291732,21.417609 -10.291732,131.905271c0,106.068156 3.118707,157.062462 9.35612,157.062462c1.247483,0 5.925543,-3.059659 9.979861,-6.799241l-0.000002,0.000007l0.000006,0zm1090.923576,-286.927962c103.852931,-10.198861 140.341798,-15.298292 140.341798,-19.377837c0,-1.359848 11.539215,-3.399621 25.885265,-4.419507c25.885265,-1.69981 62.686003,-7.139203 56.760461,-8.499051c-1.559353,-0.679924 6.861155,-3.739583 18.71224,-7.139203c12.162956,-3.399621 26.197136,-7.819127 31.187066,-9.518937c5.301801,-2.039772 17.152886,-6.119317 26.509006,-9.518937c17.464757,-5.779355 34.617644,-12.918557 44.285634,-18.697912c3.118707,-1.69981 8.420508,-3.059659 11.851085,-3.059659c3.430577,0 6.237413,-1.359848 6.237413,-3.399621c0,-1.69981 1.871224,-3.399621 4.054318,-3.399621c1.871224,-0.339962 11.539215,-4.759469 20.895334,-10.198861c9.35612,-5.439393 21.830946,-12.238633 27.444619,-15.298292c5.301801,-2.719696 9.979861,-6.799241 9.979861,-8.499051c0,-2.039772 2.806836,-3.399621 6.237413,-3.399621c3.430577,0 6.237413,-1.359848 6.237413,-3.399621c0,-1.69981 2.183095,-3.399621 4.67806,-3.399621c2.494965,0 4.67806,-1.359848 4.67806,-3.059659c0,-1.69981 2.494965,-3.739583 5.613672,-4.759469c7.796766,-2.719696 23.702171,-13.598481 26.197136,-18.017988c1.247483,-2.039772 6.549283,-5.779355 11.851085,-8.159089c4.98993,-2.379734 8.732378,-5.099431 8.108638,-6.459279c-0.935612,-1.359848 2.494965,-4.079545 7.173025,-6.459279c4.67806,-2.379734 11.539215,-7.139203 15.281663,-10.878785c3.742448,-3.739583 7.484896,-6.799241 8.732378,-6.799241c1.247483,0 4.36619,-2.719696 7.173025,-6.119317c2.806836,-3.059659 12.162956,-11.898671 20.583464,-19.037874c19.335981,-16.65814 24.637782,-21.757571 41.166927,-40.11552c32.122678,-35.356052 53.953625,-62.553015 53.953625,-66.63256c0,-2.379734 1.559353,-3.399621 3.118707,-2.379734c1.871224,1.019886 3.118707,-0.339962 3.118707,-3.059659c0,-2.719696 3.118707,-7.819127 7.173025,-11.218747c3.742448,-3.399621 10.291732,-11.898671 14.346051,-18.697912c3.742448,-7.139203 8.420508,-12.918557 9.979861,-12.918557c1.559353,0 2.806836,-2.039772 2.806836,-4.419507c0,-2.379734 3.118707,-8.159089 7.173025,-12.578595c14.657921,-17.338064 45.844987,-70.372142 45.844987,-78.531231c0,-3.739583 1.247483,-6.119317 2.806836,-5.099431c2.494965,1.69981 12.162956,-25.497153 10.291732,-28.216849c-0.623741,-0.679924 0,-2.379734 1.559353,-3.399621c1.559353,-1.019886 5.925543,-9.518937 9.979861,-19.037874c3.742448,-9.178975 9.044249,-21.417609 11.227344,-26.517039c2.494965,-5.439393 4.67806,-11.898671 4.67806,-14.618368c0,-2.719696 1.247483,-7.479165 2.806836,-10.878785c1.559353,-3.059659 4.67806,-12.918557 7.173025,-21.757571c2.183095,-9.178975 4.98993,-16.318178 6.237413,-16.318178c1.247483,0 2.494965,-2.039772 2.494965,-4.419507c0,-2.379734 3.430577,-11.898671 7.796766,-21.417609c6.861155,-14.95833 9.35612,-27.536925 16.841016,-83.630661c1.247483,-8.499051 3.742448,-17.678026 5.613672,-20.397723c1.871224,-2.379734 4.36619,-13.598481 5.613672,-24.817229c1.247483,-11.218747 3.430577,-29.576697 4.67806,-40.795444c1.247483,-11.218747 2.494965,-18.697912 3.118707,-16.998102c0.623741,2.039772 2.183095,-9.518937 3.742448,-25.497153c1.247483,-15.978216 3.118707,-38.755672 4.36619,-50.994306c0.935612,-12.238633 3.430577,-23.117419 5.613672,-24.477266c4.67806,-3.399621 4.36619,-87.030282 -0.623741,-96.209257c-3.118707,-6.119317 -3.430577,-5.439393 -2.183095,4.079545c1.247483,11.558709 -3.430577,18.697912 -6.549283,9.858899c-0.935612,-2.719696 -3.742448,-4.079545 -6.237413,-3.059659c-5.301801,2.039772 -19.959722,-1.359848 -19.959722,-5.099431c0,-5.099431 18.088498,-10.198861 21.519076,-6.459279c3.742448,4.079545 3.742448,3.739583 4.98993,-17.338064c0.623741,-7.819127 -0.31187,-13.598481 -1.871224,-12.238633c-1.559353,1.019886 -2.806836,-1.69981 -2.806836,-5.779355c0,-12.918557 -4.36619,-3.739583 -6.237413,13.258519c-1.247483,13.938444 -2.494965,15.978216 -9.35612,17.338064c-4.36619,0.339962 -8.732378,2.719696 -9.979861,5.099431c-1.871224,2.719696 -2.494965,2.379734 -2.494965,-1.019886c0,-2.379734 -1.871224,-3.739583 -4.67806,-2.379734c-2.806836,1.019886 -4.67806,0 -4.67806,-3.059659c0,-2.719696 -1.247483,-5.099431 -2.806836,-5.099431c-6.237413,0 -12.786697,-10.878785 -11.227344,-18.017988c0.935612,-4.419507 -0.935612,-11.558709 -4.67806,-17.678026c-5.301801,-8.499051 -6.237413,-9.178975 -6.237413,-3.399621c-0.31187,9.518937 -12.474826,-17.678026 -12.474826,-27.536925c0,-4.079545 -2.806836,-13.938444 -6.237413,-22.097533c-3.430577,-8.159089 -6.237413,-19.377837 -6.237413,-24.477266c0,-5.439393 -1.247483,-8.839013 -2.806836,-7.819127c-3.118707,2.379734 -11.227344,-121.366448 -8.732378,-137.684626c4.67806,-33.31628 5.613672,-38.41571 6.549283,-39.435596c1.871224,-2.379734 16.217274,-2.039772 23.078429,0.339962c4.054318,1.69981 6.861155,1.019886 6.861155,-1.019886c0,-2.039772 -2.806836,-3.739583 -6.237413,-3.739583c-4.98993,0 -6.237413,-2.379734 -6.549283,-10.878785c-0.31187,-6.119317 -0.31187,-12.918557 0,-14.95833c0.31187,-2.379734 -1.559353,-4.759469 -4.36619,-6.119317c-2.494965,-1.019886 -4.67806,-4.079545 -4.67806,-7.139203c0,-3.059659 -2.806836,-8.499051 -6.237413,-12.578595c-3.430577,-4.079545 -6.237413,-9.518937 -6.237413,-12.578595c0,-2.719696 -0.935612,-4.079545 -1.871224,-2.719696c-2.183095,2.039772 -10.603603,-5.779355 -10.603603,-9.518937c0,-1.359848 -4.67806,-7.479165 -10.291732,-13.938444c-12.786697,-14.618368 -15.281663,-18.017988 -20.583464,-29.236735c-2.494965,-5.099431 -5.613672,-8.499051 -7.173025,-7.479165c-1.247483,1.019886 -2.494965,0.339962 -2.494965,-1.359848c0,-5.099431 -37.73635,-44.874989 -47.404341,-50.314382c-4.98993,-2.719696 -12.786697,-9.518937 -17.776628,-14.95833c-4.67806,-5.779355 -9.667991,-10.198861 -10.915473,-10.198861c-0.935612,0 -7.796766,-6.119317 -14.657921,-13.598481c-7.173025,-7.479165 -14.969791,-13.598481 -17.152886,-13.598481c-2.494965,0 -4.36619,-2.039772 -4.36619,-4.759469c0,-2.719696 -4.054318,-6.799241 -9.044249,-9.178975c-4.98993,-2.379734 -8.420508,-5.779355 -7.796766,-7.139203c0.935612,-1.359848 -0.31187,-2.719696 -2.806836,-2.719696c-2.494965,0 -5.613672,-2.379734 -6.549283,-5.439393c-0.935612,-2.719696 -3.118707,-4.419507 -4.36619,-3.399621c-1.559353,1.019886 -4.67806,-1.359848 -6.861155,-5.099431c-2.494965,-3.399621 -6.237413,-6.459279 -8.420508,-6.459279c-4.98993,0 -17.152886,-7.139203 -20.271593,-11.558709c-0.935612,-2.039772 -13.410438,-7.479165 -27.132747,-12.238633c-14.03418,-5.099431 -24.325912,-10.198861 -23.078429,-11.218747c0.935612,-1.359848 -3.118707,-2.379734 -9.35612,-2.379734c-6.237413,0 -11.539215,-1.359848 -11.539215,-3.399621c0,-1.69981 -4.054318,-3.399621 -9.35612,-3.399621c-4.98993,0 -9.35612,-1.359848 -9.35612,-3.059659c0,-3.399621 -12.786697,-6.119317 -42.10254,-9.178975c-10.291732,-1.359848 -20.583464,-3.739583 -22.766559,-5.779355c-5.613672,-5.099431 -9.979861,-5.099431 -140.965539,-9.518937c-90.442492,-3.059659 -136.911221,-3.059659 -188.681751,0c-37.73635,2.039772 -119.758334,4.079545 -182.444338,4.079545c-62.686003,0.339962 -123.500782,2.039772 -135.663738,3.739583c-31.810807,4.419507 -114.768404,9.178975 -195.542906,11.558709c-40.543186,1.019886 -70.170899,3.399621 -69.235287,5.099431c0.935612,1.69981 -9.35612,3.059659 -23.390299,3.059659c-13.722309,0 -25.573394,1.359848 -26.509006,3.059659c-0.935612,1.69981 -7.173025,3.739583 -13.410438,4.759469c-19.959722,3.059659 -61.438521,13.258519 -67.052192,16.318178c-3.118707,1.69981 -9.044249,3.059659 -13.098568,3.059659c-4.36619,0 -9.667991,2.379734 -12.474826,5.099431c-2.494965,2.719696 -7.484896,5.099431 -10.915473,5.099431c-3.430577,0 -7.173025,1.359848 -8.108638,3.399621c-0.935612,1.69981 -5.301801,3.399621 -9.667991,3.399621c-4.054318,0 -7.484896,1.69981 -7.484896,3.399621c0,2.039772 -2.806836,3.399621 -5.925543,3.399621c-3.430577,0 -7.173025,1.69981 -8.108638,3.399621c-0.935612,1.69981 -4.67806,3.399621 -8.108638,3.399621c-3.118707,0 -5.925543,1.69981 -5.925543,3.399621c0,2.039772 -1.871224,3.399621 -4.054318,3.399621c-2.183095,0 -9.979861,3.059659 -17.152886,6.799241c-6.861155,3.739583 -14.969791,6.799241 -17.464757,6.799241c-2.494965,0 -5.301801,1.359848 -6.237413,2.719696c-0.935612,1.69981 -11.851085,7.139203 -24.325912,12.578595c-12.474826,5.099431 -23.390299,10.538823 -24.325912,11.558709c-0.935612,1.019886 -5.613672,4.419507 -10.915473,7.139203c-4.98993,2.719696 -12.162956,7.819127 -15.281663,11.218747c-3.430577,3.059659 -8.108638,5.779355 -10.291732,5.779355c-2.494965,0 -4.98993,2.379734 -5.925543,5.099431c-1.247483,2.719696 -4.054318,5.099431 -6.237413,5.099431c-4.67806,0 -8.420508,2.719696 -20.271593,14.618368c-3.118707,3.059659 -7.796766,5.779355 -9.979861,5.779355c-2.183095,0 -5.925543,3.059659 -8.420508,6.799241c-2.494965,3.739583 -5.613672,6.799241 -6.861155,6.799241c-4.36619,0 -29.315842,25.497153 -68.923416,70.712104c-5.301801,5.779355 -10.915473,10.878785 -12.162956,10.878785c-1.247483,0 -2.494965,2.039772 -2.494965,4.759469c0,2.379734 -4.054318,8.839013 -8.732378,14.618368c-10.291732,11.558709 -39.919445,57.113622 -35.241385,54.053964c1.559353,-1.359848 3.742448,-0.679924 4.98993,1.359848c0.935612,1.69981 0,3.399621 -2.494965,3.399621c-5.301801,0 -12.162956,8.159089 -9.667991,11.218747c1.247483,1.019886 4.98993,0 8.420508,-2.719696c3.742448,-2.719696 7.796766,-3.739583 9.667991,-2.039772c5.301801,4.419507 33.05829,7.479165 33.05829,3.739583c0,-2.039772 -3.742448,-3.739583 -8.420508,-3.739583c-6.237413,-0.339962 -6.861155,-1.019886 -2.806836,-2.039772c3.118707,-1.019886 14.969791,-0.679924 25.885265,0.679924c16.217274,1.69981 19.335981,3.059659 16.529145,6.799241c-2.806836,3.399621 -2.183095,4.759469 2.183095,6.119317c3.118707,0.679924 1.871224,1.359848 -2.494965,1.019886c-5.925543,-0.679924 -7.796766,0.679924 -6.861155,3.739583c0.935612,2.379734 3.430577,4.419507 5.925543,4.419507c2.494965,0 4.36619,1.69981 4.36619,3.739583c0,2.379734 3.742448,3.059659 10.915473,1.69981c8.732378,-2.039772 10.603603,-1.359848 9.044249,2.719696c-1.247483,3.059659 0.623741,5.439393 5.613672,6.459279c5.301801,1.019886 4.67806,1.69981 -3.118707,2.039772c-9.979861,0.339962 -10.291732,0.679924 -9.35612,15.298292c0.623741,8.159089 1.871224,14.278406 3.430577,13.258519c1.247483,-0.679924 2.183095,0.339962 2.183095,2.039772c0,2.039772 1.871224,3.739583 4.054318,3.739583c2.183095,0 7.484896,2.719696 11.539215,5.779355c4.36619,3.399621 10.603603,5.779355 14.03418,5.439393c4.98993,-0.339962 4.98993,-0.339962 0.935612,1.019886c-5.925543,2.039772 -7.484896,13.258519 -2.494965,16.65814c1.871224,1.019886 4.67806,8.839013 6.549283,16.65814c4.36619,18.697912 12.786697,19.717799 15.593533,2.039772c1.247483,-6.459279 2.183095,15.298292 2.183095,48.27461c0,42.155293 -1.247483,64.252826 -4.36619,73.091838c-2.183095,7.139203 -4.054318,18.35795 -3.742448,24.817229l0.31187,11.898671l1.871224,-11.898671l2.183095,-11.898671l2.183095,11.898671c1.559353,7.139203 1.247483,12.238633 -0.935612,12.918557c-1.559353,0.679924 -3.118707,3.739583 -3.118707,6.459279c0,4.419507 -0.935612,4.419507 -4.67806,1.019886c-3.742448,-3.399621 -4.67806,-3.059659 -4.67806,1.359848c0,4.419507 -1.871224,5.439393 -6.861155,3.739583c-5.925543,-1.69981 -6.237413,-1.359848 -2.494965,1.69981c3.118707,2.719696 3.430577,4.419507 1.247483,5.439393c-1.871224,1.019886 -2.806836,5.439393 -1.871224,9.858899c0.623741,5.099431 0,8.499051 -2.183095,8.499051c-1.871224,0 -3.430577,-2.039772 -3.742448,-4.079545c0,-3.399621 -0.623741,-3.399621 -1.871224,0c-1.247483,3.399621 -2.494965,3.059659 -5.925543,-1.69981c-3.742448,-5.779355 -4.054318,-5.779355 -4.36619,-0.339962c0,3.739583 -1.559353,5.099431 -4.67806,4.079545c-4.98993,-2.379734 -6.237413,-10.198861 -2.183095,-12.238633c1.559353,-0.339962 3.742448,-5.099431 4.98993,-10.198861c1.559353,-7.139203 0.935612,-9.518937 -2.806836,-9.518937c-2.494965,0 -4.67806,-1.359848 -4.67806,-3.399621c0,-1.69981 2.806836,-3.399621 6.237413,-3.399621c3.430577,0 6.237413,-1.359848 6.237413,-3.399621c0,-1.69981 -5.613672,-3.399621 -12.474826,-3.399621l-12.474826,0l0,16.65814c0,11.558709 1.247483,17.338064 4.67806,18.697912c6.237413,2.379734 5.925543,8.839013 -1.559353,19.037874c-7.796766,10.878785 -7.796766,14.618368 0,10.198861c3.430577,-2.039772 5.301801,-5.439393 4.36619,-8.499051c-1.559353,-4.079545 0.935612,-5.099431 11.539215,-4.759469l13.722309,0.339962l-10.915473,4.079545c-10.603603,4.419507 -10.603603,4.759469 -3.118707,6.119317c7.796766,1.69981 7.796766,1.69981 -0.623741,2.379734c-9.667991,0.339962 -11.851085,5.779355 -3.118707,8.159089c4.36619,1.359848 4.36619,1.69981 -0.935612,2.039772c-7.796766,0.679924 -21.207205,12.578595 -19.024111,16.998102c1.247483,1.69981 -0.935612,2.379734 -4.98993,1.019886c-4.36619,-1.019886 -5.925543,-0.679924 -4.36619,2.039772c2.183095,4.079545 -3.430577,5.779355 -13.098568,4.419507c-2.494965,-0.339962 -8.108638,2.039772 -12.474826,5.439393c-4.67806,3.059659 -9.35612,5.439393 -10.915473,5.099431c-1.247483,-0.339962 -4.98993,2.379734 -8.420508,6.119317c-4.36619,4.759469 -10.291732,6.799241 -21.207205,6.799241c-8.108638,0 -19.647851,1.359848 -25.573394,3.399621c-7.484896,2.379734 -15.593533,2.039772 -27.132747,-0.679924c-15.281663,-4.079545 -16.217274,-4.759469 -17.464757,-16.318178c-0.623741,-6.459279 -1.247483,3.059659 -1.559353,21.417609c-0.31187,21.417609 0.623741,32.636356 2.494965,31.276508c1.871224,-1.359848 3.118707,4.079545 3.118707,13.938444c0,22.097533 6.549283,59.833319 11.539215,65.272712c2.183095,2.379734 4.054318,8.159089 4.054318,12.238633c0,4.419507 2.183095,13.598481 4.67806,20.057761c2.494965,6.799241 4.67806,15.978216 4.67806,20.737685c0,4.419507 2.183095,10.538823 4.67806,13.598481c2.494965,2.719696 4.67806,8.839013 4.67806,13.598481c0,4.759469 1.559353,8.839013 3.118707,8.839013c1.871224,0 3.118707,3.739583 3.118707,8.499051c0,4.759469 0.935612,8.499051 2.494965,8.499051c3.430577,0 9.979861,17.338064 9.979861,25.837115c0,4.419507 1.559353,8.839013 3.118707,9.858899c1.871224,1.019886 3.118707,5.099431 3.118707,8.839013c0,3.739583 1.247483,6.119317 2.806836,5.099431c1.247483,-1.019886 4.98993,4.079545 8.108638,11.558709c3.118707,7.479165 6.861155,13.598481 8.420508,13.598481c1.247483,0 2.494965,3.059659 2.494965,6.799241c0,3.739583 1.559353,6.799241 3.430577,6.799241c1.559353,0 2.494965,1.359848 1.559353,2.719696c-0.935612,1.69981 1.871224,8.499051 5.925543,14.95833c4.054318,6.799241 10.915473,20.737685 15.281663,30.936546c4.054318,10.198861 9.979861,21.757571 13.410438,25.157191c3.118707,3.399621 8.732378,13.598481 12.786697,22.437495c3.742448,9.178975 8.420508,18.35795 9.979861,20.397723c10.915473,14.618368 18.088498,26.177077 23.390299,37.395824c3.430577,6.799241 7.173025,12.578595 8.420508,12.578595c1.247483,0 4.67806,5.099431 7.484896,10.878785c2.806836,6.119317 9.044249,14.95833 13.722309,19.717799c4.36619,4.759469 10.915473,13.938444 14.346051,20.397723c3.118707,6.459279 9.667991,15.638254 14.657921,20.397723c4.67806,4.419507 8.420508,10.198861 8.420508,12.918557c0,2.379734 1.247483,3.399621 3.118707,2.379734c1.559353,-1.019886 3.118707,0.339962 3.118707,3.059659c0,3.059659 1.247483,5.439393 2.494965,5.439393c1.559353,0 4.36619,4.079545 6.549283,8.839013c1.871224,5.099431 4.36619,8.159089 5.613672,7.139203c0.935612,-1.359848 5.925543,4.419507 11.227344,12.238633c5.301801,7.819127 13.098568,18.017988 17.776628,22.777457c4.36619,4.759469 9.044249,11.218747 10.291732,14.618368c0.935612,3.059659 4.054318,5.779355 6.861155,5.779355c2.494965,0 4.67806,1.359848 4.67806,2.719696c0,4.759469 43.973763,53.034078 56.136719,61.873091c5.925543,4.419507 13.098568,10.538823 15.905404,13.258519c8.420508,9.178975 16.529145,15.298292 25.573394,20.397723c4.67806,2.719696 8.420508,6.119317 8.420508,7.819127c0,1.359848 2.183095,2.719696 4.67806,2.719696c2.494965,0 4.67806,1.69981 4.67806,3.739583c0,1.69981 4.36619,5.099431 9.35612,6.799241c5.301801,2.039772 9.35612,5.779355 9.35612,8.499051c0,2.719696 2.806836,4.759469 6.237413,4.759469c3.430577,0 6.237413,1.359848 6.237413,2.719696c0,1.69981 4.98993,4.759469 10.915473,7.479165c6.237413,2.719696 13.410438,7.479165 16.217274,10.878785c2.806836,3.399621 7.796766,6.119317 10.915473,6.119317c3.430577,0 5.301801,1.359848 4.36619,2.719696c-1.247483,2.379734 6.237413,6.799241 20.895334,12.238633c3.118707,1.019886 4.67806,3.399621 3.742448,5.439393c-1.247483,2.039772 1.559353,3.399621 5.925543,3.399621c4.36619,0 8.108638,1.69981 8.108638,3.399621c0,2.039772 2.806836,3.399621 6.237413,3.399621c3.430577,0 6.237413,1.69981 6.237413,3.399621c0,2.039772 2.183095,3.399621 4.67806,3.399621c2.494965,0 4.67806,1.359848 4.67806,3.059659c0,1.69981 3.118707,3.739583 7.173025,5.099431c4.054318,1.019886 11.227344,5.439393 15.905404,9.858899c4.98993,4.759469 14.657921,10.198861 21.830946,12.918557c6.861155,2.379734 15.593533,6.119317 19.024111,8.499051c3.430577,2.379734 12.474826,6.119317 20.271593,8.499051c7.796766,2.379734 15.281663,5.439393 16.841016,7.139203c1.871224,1.359848 7.796766,2.719696 13.098568,2.719696c5.613672,0 11.227344,1.69981 12.162956,3.399621c0.935612,2.039772 7.484896,3.399621 14.03418,3.399621c6.549283,0 12.786697,1.359848 13.722309,3.059659c0.935612,1.69981 14.03418,4.759469 29.003972,7.139203c15.281663,2.039772 33.370161,5.439393 40.543186,7.139203c7.173025,1.69981 24.014041,3.059659 37.42448,3.399621c13.410438,0 30.563325,2.379734 38.360092,4.759469c19.647851,6.459279 215.814498,4.419507 290.039716,-3.059659l0.000005,-0.000002l-0.000008,-0.000014zm-1149.24339,-986.909801c-2.494965,-14.95833 -3.430577,-13.598481 -5.925543,7.479165c-1.247483,11.558709 -0.935612,14.618368 0.935612,10.198861c2.806836,-6.459279 3.118707,-6.119317 3.742448,1.69981l0.623741,8.499051l1.247483,-8.159089c0.935612,-4.419507 0.623741,-13.258519 -0.623741,-19.717799l0,0.000001zm147.826694,16.318178c3.742448,-2.719696 2.806836,-3.739583 -3.742448,-5.779355c-4.98993,-1.019886 -9.667991,-1.359848 -10.603603,0c-1.247483,1.019886 0.623741,2.039772 4.054318,2.379734c5.613672,0 5.613672,0.339962 -0.31187,3.059659l-6.237413,3.059659l6.237413,0c3.430577,0 8.420508,-1.019886 10.603603,-2.719696l0,-0.000001zm-159.677779,-69.012294c-0.623741,-4.419507 -1.247483,-1.019886 -1.247483,7.479165c0,8.499051 0.623741,11.898671 1.247483,7.819127c0.623741,-4.419507 0.623741,-11.218747 0,-15.298292l0,0.000001l0,-0.000001zm1984.433024,2.719696c0,-0.679924 -2.183095,-3.059659 -4.67806,-5.439393c-4.054318,-3.739583 -4.36619,-3.399621 -2.806836,1.359848c1.559353,4.759469 7.484896,7.819127 7.484896,4.079545zm27.132747,-60.173281l0.623741,-24.137304l-6.237413,7.819127c-7.484896,9.178975 -7.796766,23.117419 -0.31187,32.976318c2.806836,4.079545 5.301801,7.479165 5.301801,7.479165c0,0 0.31187,-10.878785 0.623741,-24.137304l-0.000001,0l0.000001,-0.000002zm-1998.155334,-9.858899c0,-1.69981 -0.623741,-3.399621 -1.247483,-3.399621c-0.935612,0 -2.494965,1.69981 -3.430577,3.399621c-0.935612,2.039772 -0.31187,3.399621 1.247483,3.399621c1.871224,0 3.430577,-1.359848 3.430577,-3.399621zm1990.358567,-36.035977l-1.871224,-20.057761l-2.183095,20.397723c-1.247483,10.878785 -3.742448,20.737685 -5.613672,21.417609c-2.183095,0.679924 -2.183095,2.719696 0.623741,5.439393c6.861155,8.499051 11.539215,-4.759469 9.044249,-27.196963l-0.000001,0l0.000002,-0.000001zm-1991.294179,18.35795c-0.935612,-2.379734 -1.559353,-0.679924 -1.559353,4.079545c0,4.759469 0.623741,6.459279 1.559353,4.419507c0.623741,-2.379734 0.623741,-6.459279 0,-8.499051l0,-0.000001zm11.539215,-16.998102c-0.935612,-3.399621 -0.31187,-6.119317 1.559353,-6.119317c1.871224,0 3.430577,1.69981 3.430577,4.079545c0,2.039772 0.623741,3.059659 1.559353,2.379734c0.623741,-1.019886 0.31187,-6.799241 -1.247483,-12.578595c-1.871224,-6.799241 -1.871224,-10.878785 0,-10.878785c3.118707,0 3.742448,-18.017988 0.623741,-21.417609c-0.935612,-1.359848 -3.742448,3.399621 -6.237413,10.198861c-4.67806,15.298292 -5.613672,53.034078 -0.935612,45.214951c1.559353,-2.719696 2.183095,-7.819127 1.247483,-10.878785l0.000001,0zm36.176997,-17.678026c0,-25.157191 -0.935612,-32.296394 -4.67806,-33.996204c-9.044249,-3.739583 -3.742448,-49.634458 5.613672,-49.634458c5.301801,0 -0.623741,-4.759469 -7.173025,-5.779355c-3.742448,-0.679924 -6.237413,1.019886 -6.237413,4.079545c0,2.719696 -3.430577,12.918557 -7.796766,22.777457c-8.108638,18.017988 -9.979861,25.497153 -4.67806,16.318178c2.806836,-4.419507 3.118707,-4.419507 3.118707,0c0,2.719696 -1.247483,7.139203 -2.806836,9.858899c-1.559353,2.719696 -2.183095,7.139203 -1.247483,9.518937c3.118707,8.839013 7.173025,-2.719696 7.173025,-20.057761c0,-8.839013 1.559353,-16.998102 3.118707,-18.017988c1.871224,-1.359848 3.118707,4.419507 3.118707,14.95833c0,9.178975 1.559353,18.017988 3.118707,19.037874c1.871224,1.019886 3.118707,15.638254 3.118707,32.636356c0,18.017988 1.247483,30.256622 3.118707,30.256622c1.871224,0 3.118707,-12.918557 3.118707,-31.956432l0.000001,-0.000001l-0.000004,0.000001zm-25.885265,0.679924c-0.935612,-2.719696 -1.871224,-1.69981 -1.871224,2.039772c-0.31187,3.739583 0.623741,5.779355 1.559353,4.419507c0.935612,-1.019886 1.247483,-4.079545 0.31187,-6.459279l0.000001,0zm1959.483371,-17.678026c0,-4.759469 -1.559353,-9.518937 -3.430577,-10.538823c-4.67806,-3.399621 -5.613672,-1.359848 -3.742448,9.518937c2.183095,11.558709 7.173025,12.238633 7.173025,1.019886zm-10.291732,-46.234837c-0.935612,-9.178975 -4.054318,-21.077647 -6.861155,-26.177077c-4.98993,-9.518937 -4.98993,-9.178975 -3.430577,9.858899c1.247483,18.017988 5.925543,33.31628 10.291732,33.31628c0.935612,0 0.935612,-7.479165 0,-16.998102zm-20.895334,-32.976318c-0.935612,-21.077647 0.935612,-24.477266 3.118707,-6.119317l2.183095,16.998102l-0.623741,-20.057761c-0.31187,-14.278406 -1.871224,-21.077647 -5.925543,-24.137304c-2.806836,-2.379734 -5.613672,-7.479165 -5.925543,-11.218747c0,-3.739583 -1.559353,-6.119317 -3.430577,-5.099431c-1.559353,1.019886 -2.183095,-1.69981 -1.247483,-7.139203c0.935612,-4.759469 0.623741,-8.839013 -0.935612,-8.839013c-4.98993,0 -1.871224,35.696015 3.742448,46.234837c3.430577,5.779355 5.925543,15.298292 5.925543,21.417609c0,5.779355 0.935612,10.538823 1.871224,10.538823c0.935612,0 1.559353,-5.779355 1.247483,-12.578595l-0.000001,0zm-1904.906006,-9.518937c-1.871224,-17.338064 -4.98993,-16.65814 -8.420508,1.019886c-1.871224,10.198861 -1.559353,11.218747 3.742448,10.198861c4.054318,-1.019886 5.301801,-3.739583 4.67806,-11.218747zm4.67806,-22.777457c-0.935612,-2.719696 -1.871224,-1.69981 -1.871224,2.039772c-0.31187,3.739583 0.623741,5.779355 1.559353,4.419507c0.935612,-1.019886 1.247483,-4.079545 0.31187,-6.459279l0.000001,0zm1863.427207,-37.395824c-2.183095,-2.379734 -3.742448,-2.719696 -3.742448,-0.679924c0,4.759469 3.742448,8.839013 5.925543,6.459279c0.623741,-1.019886 -0.31187,-3.739583 -2.183095,-5.779355zm10.291732,-6.119317c0.935612,-1.69981 0.31187,-3.399621 -1.247483,-3.399621c-1.871224,0 -3.430577,1.69981 -3.430577,3.399621c0,2.039772 0.623741,3.399621 1.247483,3.399621c0.935612,0 2.494965,-1.359848 3.430577,-3.399621zm-1826.002728,-151.62307c6.237413,-6.119317 8.420508,-9.858899 6.237413,-11.558709c-2.183095,-1.359848 0,-4.079545 5.925543,-6.459279c4.98993,-2.379734 9.979861,-6.799241 11.227344,-9.858899c1.559353,-4.759469 2.183095,-4.759469 4.67806,-0.679924c1.871224,3.059659 3.118707,3.399621 3.118707,1.019886c0,-5.099431 19.024111,-24.817229 24.325912,-24.817229c1.871224,0 3.742448,-3.399621 4.054318,-7.479165c0.31187,-7.479165 0.31187,-7.479165 2.806836,0.679924c1.559353,5.779355 2.494965,6.459279 2.806836,2.719696c0.31187,-3.399621 1.559353,-6.119317 3.118707,-6.119317c1.559353,0 3.742448,-3.739583 4.67806,-8.499051c1.247483,-4.759469 3.742448,-8.499051 6.237413,-8.499051c2.183095,0 7.173025,-3.059659 10.915473,-6.459279c5.925543,-5.779355 15.905404,-11.898671 64.245356,-40.11552c23.078429,-13.598481 32.434549,-18.017988 38.671962,-18.017988c13.098568,0 47.09247,-23.797342 47.09247,-32.976318c0,-1.019886 -6.237413,-7.819127 -14.03418,-15.298292c-7.796766,-7.479165 -13.410438,-14.618368 -12.474826,-15.978216c0.623741,-1.69981 -0.623741,-5.779355 -3.118707,-9.178975c-3.430577,-5.099431 -4.36619,-5.439393 -4.67806,-1.359848c0,4.079545 -0.623741,4.419507 -2.806836,0.339962c-3.118707,-5.099431 -25.261524,-2.379734 -25.261524,3.059659c0,4.419507 -161.237132,4.419507 -162.796486,0c-0.623741,-2.039772 -11.539215,-4.419507 -24.325912,-5.099431c-12.786697,-1.019886 -29.003972,-3.059659 -35.865127,-5.099431c-6.861155,-1.69981 -17.152886,-3.399621 -22.766559,-3.399621c-6.237413,0 -9.667991,-1.359848 -8.420508,-3.399621c0.935612,-1.69981 1.559353,-3.399621 0.935612,-3.739583c-0.623741,0 -7.173025,-1.019886 -14.969791,-2.039772c-7.796766,-1.019886 -14.657921,-3.059659 -15.593533,-4.419507c-0.935612,-1.359848 -9.667991,-3.399621 -19.335981,-4.759469c-9.979861,-1.359848 -18.088498,-4.079545 -18.088498,-5.779355c0,-1.69981 -6.237413,-3.059659 -13.722309,-3.059659c-8.108638,0 -15.905404,-2.039772 -18.71224,-5.099431c-2.494965,-3.059659 -10.291732,-5.099431 -18.088498,-5.099431c-7.484896,0 -14.969791,-1.359848 -16.841016,-3.399621c-4.98993,-5.439393 -70.170899,-5.099431 -73.289606,0.339962c-4.67806,7.819127 -3.118707,20.057761 2.183095,20.057761c2.806836,0 4.36619,2.039772 3.430577,4.419507c-0.623741,2.039772 2.494965,9.518937 7.173025,15.978216c4.67806,6.459279 9.667991,15.638254 10.915473,20.397723l2.806836,8.499051l2.183095,-8.499051c1.871224,-7.819127 2.183095,-7.479165 2.494965,3.059659c0.31187,7.479165 3.430577,15.298292 9.667991,23.117419c4.98993,6.119317 9.35612,12.918557 9.35612,14.95833c0,2.039772 1.247483,2.379734 3.118707,1.359848c1.559353,-1.019886 3.118707,1.019886 3.118707,4.759469c0,4.079545 1.559353,7.139203 3.118707,7.139203c1.871224,0 3.118707,1.69981 3.118707,3.739583c0,2.379734 4.054318,8.839013 9.35612,14.618368c4.98993,5.779355 13.410438,15.978216 18.71224,22.437495c5.925543,7.479165 8.732378,9.518937 7.484896,5.099431c-1.559353,-5.099431 -0.31187,-4.419507 4.67806,2.719696c3.742448,5.099431 9.044249,9.178975 11.227344,9.178975c2.494965,0 5.301801,1.69981 6.549283,4.079545c1.559353,2.719696 0,3.059659 -5.301801,1.69981l-7.484896,-2.039772l7.484896,6.799241c4.054318,3.399621 9.979861,6.459279 13.098568,6.459279c3.742448,0 7.173025,3.399621 9.044249,8.499051c1.559353,4.759469 5.613672,9.518937 8.420508,10.878785c3.118707,1.019886 11.851085,6.799241 19.647851,12.578595c7.796766,5.779355 14.969791,10.198861 16.529145,9.518937c1.247483,-0.339962 2.183095,2.379734 2.183095,5.779355c0,4.759469 3.118707,7.139203 10.291732,8.839013c5.301801,1.359848 11.851085,4.079545 14.03418,5.779355c2.494965,2.719696 3.742448,2.039772 3.742448,-1.69981c0,-2.719696 -1.871224,-6.119317 -3.742448,-6.799241c-2.806836,-1.359848 -2.494965,-2.039772 0.623741,-2.039772c2.494965,-0.339962 6.237413,2.719696 7.796766,6.799241c3.118707,7.139203 7.173025,9.858899 32.746419,22.777457c18.71224,9.178975 22.766559,9.178975 34.305773,-1.359848l0.000001,0l0,-0.000001zm148.138564,-247.832327c6.861155,-2.379734 16.841016,-3.399621 22.142817,-2.719696c9.667991,1.69981 19.024111,-5.439393 11.227344,-8.499051c-2.183095,-0.679924 -3.742448,-2.719696 -3.742448,-4.419507c0,-1.69981 -9.667991,-13.598481 -21.830946,-26.517039c-11.851085,-12.918557 -21.830946,-25.497153 -21.830946,-27.536925c0,-2.039772 -3.430577,-7.479165 -7.796766,-11.898671c-4.054318,-4.759469 -8.420508,-14.278406 -9.667991,-21.417609c-2.183095,-14.278406 -12.474826,-34.676128 -17.464757,-34.676128c-1.871224,0 -2.494965,-2.379734 -1.247483,-5.099431c0.935612,-2.719696 0,-4.759469 -2.183095,-4.079545c-2.183095,0.339962 -4.054318,-4.419507 -4.67806,-12.238633c-0.623741,-6.799241 -2.183095,-11.898671 -3.430577,-11.218747c-1.247483,1.019886 -4.054318,0.339962 -6.549283,-1.69981c-3.430577,-2.039772 -3.742448,-3.059659 -0.623741,-3.059659c2.183095,0 3.118707,-1.69981 2.183095,-3.399621c-1.247483,-2.039772 -3.430577,-2.719696 -4.98993,-1.69981c-1.559353,1.359848 -4.36619,-2.039772 -6.237413,-7.479165c-1.559353,-5.099431 -4.054318,-10.198861 -5.301801,-11.218747c-4.36619,-3.399621 -9.979861,-16.998102 -10.291732,-24.477266c0,-4.419507 -0.935612,-5.779355 -1.871224,-3.399621c-2.183095,5.779355 -7.173025,5.099431 -7.173025,-1.019886c0,-2.379734 -2.183095,-6.119317 -4.98993,-7.819127c-3.742448,-2.039772 -4.67806,-6.119317 -3.742448,-12.238633c0.935612,-4.759469 0.31187,-8.839013 -0.935612,-8.839013c-1.559353,0 -2.806836,-4.419507 -2.806836,-9.858899c0,-8.499051 -0.935612,-9.858899 -6.861155,-8.499051c-4.054318,0.679924 -5.301801,0.679924 -3.118707,-0.679924c1.871224,-1.019886 3.742448,-4.759469 3.742448,-8.499051c0,-5.439393 -2.183095,-6.459279 -15.593533,-6.459279c-10.915473,0 -15.281663,1.359848 -14.657921,4.419507c0.31187,2.379734 -1.871224,3.739583 -5.613672,3.399621c-9.667991,-1.359848 -23.702171,2.719696 -21.519076,6.119317c0.935612,1.69981 -1.247483,3.059659 -4.67806,3.059659c-3.430577,0 -8.108638,2.379734 -10.915473,5.099431c-2.806836,3.059659 -10.291732,5.099431 -19.024111,5.099431c-9.667991,0 -14.657921,1.69981 -15.905404,5.099431c-1.247483,2.719696 -5.301801,5.099431 -9.35612,5.099431c-4.054318,0 -7.484896,1.359848 -7.484896,3.059659c0,1.69981 -4.36619,4.079545 -9.35612,5.439393c-4.98993,1.359848 -9.35612,4.079545 -9.35612,6.459279c0,2.719696 -3.742448,3.739583 -10.915473,2.719696c-7.796766,-1.019886 -11.227344,0 -12.786697,4.079545c-0.935612,3.059659 -5.301801,5.439393 -9.35612,5.439393c-4.67806,0 -7.484896,2.039772 -7.484896,5.099431c0,4.419507 -5.613672,6.799241 -13.098568,5.439393c-1.559353,0 -2.494965,2.039772 -2.494965,4.759469c0,3.059659 -2.806836,5.099431 -7.796766,5.099431c-4.36619,0 -7.796766,1.019886 -7.796766,2.719696c0,1.359848 -7.173025,6.119317 -15.593533,10.538823c-8.732378,4.419507 -19.024111,11.898671 -23.390299,16.65814c-4.36619,4.419507 -7.796766,7.479165 -7.796766,6.119317c0,-1.019886 -2.806836,1.019886 -6.237413,4.759469c-3.430577,3.739583 -6.237413,8.839013 -6.237413,10.878785c0,2.379734 -4.36619,4.759469 -9.35612,5.099431c-5.301801,0.339962 -13.722309,3.739583 -18.400369,7.819127c-4.98993,3.739583 -9.979861,6.799241 -11.227344,6.799241c-0.935612,0 -8.108638,6.459279 -15.593533,14.618368c-11.227344,11.218747 -14.03418,16.65814 -14.03418,25.497153c0,9.858899 0.935612,10.878785 6.237413,9.178975c7.173025,-2.379734 8.732378,3.399621 1.871224,6.119317c-2.806836,1.359848 -3.742448,4.759469 -2.806836,8.839013c1.871224,8.499051 12.162956,9.178975 34.305773,3.399621c10.603603,-3.059659 19.335981,-3.059659 36.176997,0c12.474826,2.379734 35.865127,6.459279 52.082401,9.518937c16.217274,2.719696 31.187066,7.139203 33.05829,9.858899c1.871224,2.379734 10.915473,5.439393 20.271593,6.799241c9.35612,1.019886 18.400369,4.419507 20.583464,7.479165c3.118707,4.079545 4.67806,4.419507 8.732378,0.679924c2.494965,-2.379734 4.67806,-2.719696 4.67806,-1.019886c0,4.759469 19.335981,11.218747 33.682032,11.218747c10.291732,0 12.474826,1.019886 11.227344,5.099431c-1.559353,4.079545 0.935612,5.099431 12.162956,5.099431c8.420508,0 16.217274,2.039772 19.024111,5.099431c5.613672,6.459279 34.929514,7.139203 37.112609,1.019886c0.935612,-3.399621 4.054318,-3.059659 12.786697,1.69981c6.237413,3.059659 14.969791,5.779355 19.024111,5.779355c4.36619,0 7.796766,1.69981 7.796766,3.399621c0,4.759469 78.903277,0.339962 95.120552,-5.099431l-0.000004,-0.000002l-0.000002,-0.000008z" id="svg_2" stroke-width="0" stroke="null"></path> <path d="m1386.286398,7360.440312c-0.935612,-1.019886 -21.207205,-3.739583 -45.221246,-5.779355c-68.611546,-5.439393 -78.903277,-6.459279 -78.903277,-9.518937c0,-1.69981 -9.35612,-3.739583 -20.895334,-5.099431c-29.003972,-3.059659 -53.953625,-8.499051 -53.953625,-11.898671c0,-1.359848 -4.67806,-3.399621 -9.979861,-4.419507c-24.325912,-4.759469 -30.251454,-6.799241 -28.692101,-9.518937c0.935612,-1.69981 -2.806836,-3.059659 -8.108638,-3.059659c-4.98993,0 -12.162956,-1.359848 -15.593533,-3.399621c-3.430577,-1.69981 -9.044249,-4.759469 -12.474826,-6.799241c-3.430577,-1.69981 -9.044249,-3.399621 -12.474826,-3.399621c-3.430577,0 -6.237413,-2.379734 -6.237413,-5.099431c0,-2.719696 -2.806836,-5.099431 -6.237413,-5.099431c-7.173025,0 -21.830946,-6.799241 -27.444619,-12.578595c-2.183095,-2.379734 -7.484896,-5.439393 -11.851085,-6.459279c-4.054318,-1.019886 -7.484896,-3.399621 -7.484896,-5.099431c0,-1.69981 -3.742448,-3.059659 -8.108638,-3.059659c-4.36619,0 -7.173025,-1.359848 -5.925543,-3.399621c0.935612,-1.69981 0,-3.399621 -2.494965,-3.399621c-5.925543,0 -24.014041,-10.198861 -24.014041,-13.258519c0,-1.359848 -5.613672,-5.439393 -12.474826,-8.839013c-7.173025,-3.399621 -16.841016,-11.218747 -21.830946,-17.678026c-4.98993,-6.119317 -10.603603,-11.218747 -12.474826,-11.218747c-1.559353,0 -3.118707,-1.359848 -3.118707,-3.399621c0,-1.69981 -1.871224,-3.399621 -3.742448,-3.399621c-2.183095,0 -7.484896,-4.759469 -11.539215,-10.198861c-4.054318,-5.779355 -9.044249,-10.198861 -11.539215,-10.198861c-2.494965,0 -4.36619,-1.359848 -4.36619,-3.059659c0,-2.039772 -8.420508,-12.918557 -18.71224,-24.477266c-10.291732,-11.558709 -18.71224,-23.797342 -18.71224,-27.196963c0,-3.739583 -1.871224,-6.459279 -4.054318,-6.459279c-2.183095,0 -7.173025,-6.119317 -11.227344,-13.598481c-3.742448,-7.479165 -7.796766,-13.598481 -9.044249,-13.598481c-1.247483,0 -4.054318,-5.099431 -6.549283,-10.878785c-2.494965,-6.119317 -5.301801,-11.898671 -6.237413,-12.918557c-3.742448,-3.399621 -9.667991,-16.998102 -9.667991,-22.097533c0,-2.719696 -2.183095,-5.099431 -4.67806,-5.099431c-2.494965,0 -4.67806,-2.719696 -4.67806,-6.459279c0,-3.399621 -2.183095,-8.159089 -4.67806,-10.538823c-2.494965,-2.379734 -4.67806,-6.459279 -4.67806,-9.178975c0,-2.379734 -2.183095,-5.439393 -4.67806,-6.459279c-2.494965,-1.359848 -4.67806,-4.079545 -4.67806,-6.799241c0,-2.719696 -1.247483,-4.759469 -3.118707,-4.759469c-1.559353,0 -3.118707,-3.059659 -3.118707,-7.139203c0,-3.739583 -1.247483,-5.779355 -3.118707,-4.759469c-1.559353,1.019886 -3.118707,-0.339962 -3.118707,-3.399621c0,-3.059659 -2.806836,-8.499051 -6.237413,-12.578595c-3.430577,-4.079545 -6.237413,-9.518937 -6.237413,-11.898671c0,-2.379734 -1.247483,-4.419507 -2.806836,-4.419507c-1.559353,0 -3.430577,-3.399621 -4.67806,-7.819127c-0.935612,-4.079545 -4.36619,-10.878785 -7.796766,-14.95833c-8.732378,-9.858899 -19.024111,-30.596584 -19.024111,-37.395824c0,-3.059659 -0.935612,-4.759469 -1.871224,-3.399621c-2.494965,2.719696 -23.078429,-39.775558 -23.078429,-46.914762c0,-3.059659 -2.183095,-6.119317 -4.67806,-7.139203c-2.494965,-1.359848 -4.67806,-5.099431 -4.67806,-8.499051c0,-3.399621 -1.247483,-6.459279 -3.118707,-6.459279c-1.559353,0 -3.118707,-1.69981 -3.118707,-3.399621c0,-2.039772 -2.806836,-10.198861 -6.237413,-17.678026c-3.430577,-7.819127 -6.237413,-17.678026 -6.237413,-21.757571c0,-4.419507 -1.559353,-8.839013 -3.118707,-9.858899c-1.871224,-1.019886 -3.118707,-7.139203 -3.118707,-13.598481c0,-6.119317 -1.247483,-11.898671 -2.494965,-12.578595c-4.054318,-1.69981 -16.217274,-73.091838 -16.217274,-94.509447c0,-10.198861 -2.183095,-33.996204 -4.67806,-52.694116c-5.301801,-39.095634 -5.925543,-108.447891 -1.247483,-130.885385c1.871224,-8.499051 4.36619,-29.916659 5.925543,-47.594686c2.806836,-30.596584 6.549283,-61.533129 11.227344,-94.169485c1.247483,-8.159089 3.430577,-14.618368 4.67806,-14.618368c1.559353,0 2.806836,-3.399621 2.806836,-7.479165c0,-7.479165 6.549283,-30.256622 9.35612,-33.31628c0.935612,-1.019886 3.742448,-8.499051 5.925543,-16.998102c4.98993,-19.717799 10.603603,-33.996204 13.410438,-33.996204c0.935612,0 3.430577,-5.099431 5.613672,-11.558709c1.871224,-6.459279 6.861155,-15.978216 10.915473,-21.077647c4.36619,-5.439393 7.796766,-11.898671 7.796766,-13.938444c0,-2.379734 1.559353,-4.419507 3.118707,-4.419507c1.871224,0 3.118707,-2.039772 3.118707,-4.419507c0,-2.719696 2.806836,-7.479165 6.237413,-10.878785c3.430577,-3.399621 6.237413,-8.159089 6.237413,-10.878785c0,-2.379734 1.871224,-4.419507 4.36619,-4.419507c2.183095,0 5.925543,-4.419507 8.108638,-10.198861c2.183095,-5.439393 4.98993,-9.178975 6.549283,-8.159089c1.559353,1.019886 2.806836,0 2.806836,-2.039772c0,-2.379734 4.67806,-8.839013 10.291732,-14.618368c5.301801,-5.439393 9.667991,-11.558709 9.35612,-13.258519c-0.623741,-1.359848 0,-2.719696 1.559353,-2.719696c1.247483,0 6.549283,-4.079545 11.539215,-8.839013c5.301801,-4.759469 13.098568,-11.218747 18.088498,-14.278406c4.67806,-3.059659 8.420508,-7.139203 8.732378,-9.178975c0,-1.69981 13.098568,-10.198861 29.003972,-18.697912c15.905404,-8.499051 28.38023,-16.318178 27.756489,-17.678026c-0.623741,-1.69981 1.247483,-2.719696 4.054318,-2.719696c6.861155,0 27.132747,-7.479165 29.315842,-10.878785c0.935612,-1.359848 7.484896,-4.759469 14.03418,-7.479165c6.861155,-2.379734 12.162956,-6.459279 11.851085,-8.499051c-0.623741,-2.039772 3.118707,-3.739583 8.108638,-3.739583c5.301801,0 10.291732,-1.69981 11.227344,-3.399621c0.935612,-2.039772 5.301801,-3.399621 9.35612,-3.399621c4.054318,0 8.420508,-1.359848 9.35612,-3.399621c0.935612,-1.69981 5.301801,-3.399621 9.667991,-3.399621c4.054318,0 7.484896,-1.359848 7.484896,-3.059659c0,-2.719696 13.410438,-5.099431 59.255426,-10.198861c12.786697,-1.359848 22.142817,-3.059659 20.271593,-3.739583c-1.559353,-0.339962 2.494965,-2.039772 9.35612,-3.399621c6.861155,-1.359848 20.583464,-5.099431 30.563325,-8.159089c9.979861,-3.059659 22.142817,-5.439393 27.132747,-5.439393c4.67806,0 9.35612,-1.69981 9.979861,-4.079545c1.247483,-3.739583 11.851085,-5.439393 64.245356,-11.558709c10.915473,-1.359848 18.088498,-3.399621 15.905404,-5.099431c-2.183095,-1.359848 5.301801,-3.399621 16.217274,-4.419507c39.607574,-3.739583 54.265495,-5.779355 60.502909,-8.839013c3.430577,-1.359848 37.73635,-5.439393 76.408312,-8.839013c87.011915,-7.819127 362.393709,-10.878785 425.703454,-5.099431c86.076303,8.159089 102.293577,10.198861 104.164801,13.258519c0.935612,1.69981 6.549283,4.079545 12.162956,5.439393c25.261524,5.439393 28.692101,6.459279 28.692101,8.839013c0,1.69981 4.054318,3.739583 9.044249,5.099431c4.98993,1.019886 15.593533,6.459279 23.390299,12.238633c8.108638,5.439393 15.593533,9.858899 16.841016,9.858899c1.247483,0 4.36619,3.059659 6.861155,6.799241c2.494965,3.739583 5.925543,6.799241 7.796766,6.799241c4.054318,0 13.722309,9.858899 20.271593,20.397723c2.494965,4.419507 7.796766,10.878785 11.539215,14.618368c3.742448,3.739583 10.915473,13.258519 15.593533,20.737685c4.67806,7.819127 11.227344,16.318178 14.03418,19.377837c3.118707,3.059659 5.613672,7.139203 5.613672,9.518937c0,2.039772 1.559353,3.739583 3.118707,3.739583c1.871224,0 3.118707,3.059659 3.118707,6.799241c0,3.739583 1.871224,6.799241 4.054318,6.799241c1.871224,0 7.173025,8.159089 11.539215,18.017988c4.36619,9.518937 8.732378,18.35795 9.667991,19.377837c0.935612,1.019886 3.430577,7.139203 5.925543,13.598481c2.494965,6.459279 4.98993,12.578595 6.237413,13.598481c3.118707,3.059659 9.35612,20.737685 9.35612,27.196963c0,3.399621 0.935612,6.799241 2.494965,7.479165c1.247483,0.679924 6.237413,12.578595 11.227344,26.517039c4.98993,13.938444 9.979861,26.177077 11.227344,27.196963c1.247483,1.019886 3.118707,6.459279 4.054318,11.898671c2.806836,16.318178 7.796766,34.336166 8.420508,30.596584c0.31187,-1.69981 3.118707,7.479165 6.237413,20.397723c3.118707,13.258519 8.420508,33.656242 11.851085,45.894875c3.430577,12.238633 8.108638,30.596584 9.979861,40.795444c2.183095,10.198861 5.301801,22.437495 7.484896,26.857001c4.67806,11.218747 4.054318,212.136313 -0.935612,213.836123c-1.871224,0.679924 -3.430577,5.439393 -3.430577,10.198861c0,14.618368 -9.35612,60.173281 -12.786697,61.193167c-1.559353,0.679924 -2.806836,6.799241 -2.806836,13.598481c0,11.898671 -4.36619,30.596584 -9.667991,42.155293c-1.559353,3.399621 -2.806836,9.858899 -2.806836,14.618368c0,4.759469 -1.247483,8.499051 -3.118707,8.499051c-1.559353,0 -3.118707,3.739583 -3.118707,8.499051c0,4.759469 -1.247483,8.499051 -3.118707,8.499051c-1.559353,0 -3.118707,4.759469 -3.118707,10.198861c0,5.779355 -0.935612,10.198861 -2.494965,10.198861c-1.247483,0 -4.054318,6.119317 -5.925543,13.598481c-3.430577,11.558709 -9.35612,26.177077 -24.014041,61.193167c-1.871224,4.759469 -4.054318,9.178975 -4.98993,10.198861c-3.742448,4.079545 -9.35612,17.338064 -9.35612,21.757571c0,2.719696 -0.935612,5.439393 -2.183095,6.119317c-3.430577,1.359848 -16.529145,29.576697 -16.529145,35.356052c0,2.719696 -2.183095,4.759469 -4.67806,4.759469c-2.494965,0 -4.67806,3.059659 -4.67806,6.799241c0,3.739583 -1.247483,6.799241 -3.118707,6.799241c-1.559353,0 -3.118707,3.059659 -3.118707,6.799241c0,3.739583 -1.247483,6.799241 -3.118707,6.799241c-1.559353,0 -3.118707,2.379734 -3.118707,5.099431c0,2.719696 -1.247483,5.099431 -3.118707,5.099431c-1.559353,0 -3.118707,2.379734 -3.118707,5.439393c0,3.059659 -2.494965,8.159089 -5.613672,11.218747c-2.806836,3.059659 -7.484896,10.198861 -9.979861,15.638254c-2.494965,5.779355 -7.173025,13.258519 -10.603603,17.338064c-3.118707,4.079545 -5.613672,8.159089 -5.301801,9.518937c0.623741,2.379734 -3.118707,7.479165 -14.346051,20.737685c-4.054318,4.419507 -7.173025,9.858899 -7.173025,11.898671c0,2.039772 -1.247483,2.719696 -3.118707,1.69981c-1.559353,-1.019886 -3.118707,0 -3.118707,2.719696c0,2.719696 -3.118707,8.499051 -6.861155,13.258519c-4.054318,4.419507 -10.603603,13.938444 -14.969791,20.737685c-4.36619,6.799241 -8.732378,12.578595 -9.979861,12.578595c-1.559353,0 -2.494965,2.039772 -2.494965,4.419507c0,2.039772 -5.613672,10.198861 -12.474826,17.338064c-6.861155,7.479165 -12.474826,14.95833 -12.474826,16.998102c0,3.739583 -68.611546,76.831421 -72.353994,76.831421c-1.247483,0 -9.35612,5.439393 -17.776628,11.898671c-8.108638,6.459279 -16.529145,11.898671 -18.71224,11.898671c-1.871224,0 -3.430577,1.69981 -3.430577,3.399621c0,2.039772 -1.871224,3.399621 -4.36619,3.399621c-2.183095,0 -5.925543,2.379734 -8.108638,5.099431c-2.183095,2.719696 -4.98993,4.079545 -6.549283,3.059659c-1.559353,-1.019886 -2.806836,0 -2.806836,1.69981c0,2.039772 -3.742448,3.739583 -8.108638,3.739583c-4.36619,0 -7.173025,1.359848 -6.237413,3.059659c0.935612,1.359848 -4.054318,4.759469 -10.915473,7.139203c-6.861155,2.719696 -13.410438,6.119317 -14.657921,8.159089c-4.36619,7.139203 -19.647851,12.918557 -46.468728,18.017988c-5.613672,1.019886 -10.291732,3.059659 -10.291732,4.759469c0,1.69981 -3.430577,3.059659 -7.484896,3.059659c-4.36619,0 -8.732378,1.69981 -9.667991,3.399621c-0.935612,2.039772 -6.549283,3.399621 -12.162956,3.399621c-5.301801,0 -11.539215,1.69981 -13.410438,3.739583c-1.559353,1.69981 -16.217274,5.439393 -32.122678,8.159089c-15.905404,2.719696 -29.939584,6.119317 -30.875196,7.819127c-2.183095,4.079545 -24.949653,6.799241 -89.19501,10.878785c-80.774502,5.099431 -158.742167,7.479165 -161.237132,5.099431l-0.000002,0.000005l0.000008,0.000001zm202.092189,-176.100336c8.732378,-0.339962 18.088498,-2.719696 20.583464,-5.099431c3.430577,-3.059659 17.152886,-4.079545 47.404341,-3.739583c41.790669,0.339962 47.09247,-0.339962 47.09247,-7.819127c0,-2.039772 5.925543,-6.119317 13.410438,-8.499051c10.603603,-4.079545 13.098568,-6.459279 13.098568,-13.258519c0,-4.759469 1.247483,-7.819127 2.806836,-6.799241c1.559353,1.359848 3.430577,1.019886 4.054318,-0.679924c0.31187,-1.359848 6.861155,-7.479165 14.346051,-13.938444c7.484896,-6.119317 12.786697,-11.898671 12.474826,-12.578595c-1.871224,-1.69981 -47.404341,-11.558709 -54.577366,-11.558709c-4.054318,0 -7.173025,-1.359848 -7.173025,-3.059659c0,-2.719696 -3.430577,-3.739583 -31.810807,-9.178975c-6.549283,-1.019886 -11.851085,-3.059659 -11.851085,-4.419507c0,-1.359848 -4.98993,-4.419507 -10.915473,-6.799241c-5.925543,-2.379734 -12.786697,-6.119317 -14.969791,-8.159089c-5.613672,-5.779355 -17.152886,-12.578595 -21.207205,-12.578595c-4.36619,0 -12.162956,-8.499051 -12.162956,-13.258519c0,-2.039772 -1.559353,-3.739583 -3.118707,-3.739583c-1.871224,0 -4.98993,-3.739583 -6.861155,-8.499051c-1.871224,-4.759469 -5.301801,-8.499051 -7.484896,-8.499051c-2.183095,0 -5.925543,-3.399621 -7.796766,-7.479165c-2.183095,-4.419507 -6.237413,-10.198861 -9.35612,-13.258519c-3.118707,-3.059659 -4.98993,-6.119317 -4.36619,-7.139203c0.935612,-1.019886 -0.31187,-3.739583 -3.118707,-6.119317c-2.494965,-2.379734 -4.67806,-6.459279 -4.67806,-9.178975c0,-2.719696 -1.247483,-3.739583 -3.118707,-2.719696c-1.559353,1.019886 -3.118707,-0.679924 -3.118707,-4.079545c0,-3.399621 -2.806836,-9.858899 -5.925543,-14.278406l-5.613672,-7.819127l-4.98993,13.938444c-2.806836,7.479165 -6.861155,13.938444 -9.044249,13.938444c-1.871224,0 -2.494965,1.019886 -1.559353,2.379734c2.494965,2.379734 -11.227344,29.576697 -20.271593,39.775558c-3.118707,3.739583 -5.613672,8.159089 -5.613672,9.858899c0,1.69981 -2.494965,5.779355 -5.301801,8.839013c-3.118707,3.059659 -10.603603,12.238633 -16.529145,20.737685c-10.603603,15.298292 -23.078429,27.876887 -26.509006,27.196963c-0.935612,-0.339962 -5.925543,4.419507 -10.915473,10.198861c-4.67806,5.439393 -10.915473,10.198861 -13.722309,10.198861c-2.806836,0 -4.98993,1.69981 -4.98993,3.399621c0,2.039772 -2.806836,3.399621 -5.925543,3.399621c-3.118707,0 -6.549283,2.379734 -7.796766,5.099431c-0.935612,2.719696 -4.98993,5.099431 -9.044249,5.099431c-9.667991,0 -21.519076,12.238633 -20.271593,21.417609c0.935612,6.459279 17.152886,18.35795 32.434549,23.797342c3.430577,1.359848 11.539215,4.759469 18.400369,7.819127c24.325912,10.878785 35.241385,11.558709 165.603322,7.139203l-0.000003,-0.000002l0.000001,0.000002zm-224.858748,-126.125917c3.430577,-1.359848 9.979861,-4.079545 14.657921,-6.119317c4.67806,-2.039772 7.796766,-4.759469 6.861155,-6.459279c-0.935612,-1.69981 -0.31187,-3.059659 1.559353,-3.059659c4.054318,0 31.498937,-29.576697 31.498937,-33.996204c0,-2.039772 2.183095,-3.399621 4.67806,-3.399621c4.054318,0 5.301801,-2.039772 4.36619,-8.839013c0,-1.019886 2.494965,-4.419507 5.613672,-7.479165c3.118707,-3.059659 7.484896,-9.858899 9.979861,-14.95833c2.494965,-5.439393 5.613672,-9.518937 7.173025,-9.518937c1.247483,0 2.494965,-2.379734 2.494965,-5.099431c0,-2.719696 1.247483,-5.099431 3.118707,-5.099431c1.559353,0 5.301801,-5.099431 7.796766,-10.878785c2.806836,-6.119317 8.108638,-17.338064 11.851085,-25.157191c3.742448,-7.479165 9.35612,-20.397723 12.474826,-28.896773c3.118707,-8.159089 6.861155,-17.678026 8.732378,-20.737685c1.559353,-3.399621 2.806836,-11.558709 2.806836,-18.017988c0,-6.459279 1.559353,-11.898671 3.118707,-11.898671c1.871224,0 3.118707,-21.077647 3.118707,-56.093736c0,-35.01609 -1.247483,-56.093736 -3.118707,-56.093736c-1.559353,0 -3.118707,-6.799241 -3.118707,-14.95833c0,-8.499051 -1.247483,-16.318178 -3.118707,-17.338064c-1.559353,-1.019886 -3.118707,-5.099431 -3.118707,-8.839013c0,-3.399621 -0.935612,-6.459279 -2.494965,-6.459279c-1.247483,0 -4.054318,-4.759469 -6.549283,-10.538823c-2.494965,-6.119317 -10.291732,-17.678026 -17.776628,-26.177077c-7.484896,-8.499051 -13.722309,-16.65814 -13.722309,-18.35795c0,-1.359848 -1.247483,-2.719696 -3.118707,-2.719696c-1.559353,0 -6.861155,-4.419507 -11.539215,-10.198861c-4.36619,-5.439393 -10.291732,-10.198861 -13.098568,-10.198861c-2.806836,0 -7.796766,-3.739583 -10.915473,-8.499051c-3.118707,-4.759469 -7.484896,-8.499051 -9.35612,-8.499051c-2.183095,0 -8.732378,-4.079545 -14.657921,-8.839013c-5.925543,-4.759469 -15.593533,-11.218747 -21.519076,-14.278406c-5.925543,-3.059659 -11.539215,-6.459279 -12.474826,-7.479165c-3.430577,-4.079545 -19.335981,-10.198861 -26.820877,-10.198861c-4.36619,0 -7.173025,-1.359848 -6.237413,-3.059659c6.861155,-11.558709 -130.050066,-13.938444 -146.267341,-2.379734c-4.054318,3.059659 -10.291732,5.439393 -13.722309,5.439393c-3.430577,0 -7.173025,1.69981 -8.108638,3.399621c-0.935612,2.039772 -5.925543,3.399621 -11.227344,3.399621c-4.98993,0 -9.044249,1.69981 -9.044249,3.399621c0,2.039772 -2.806836,3.399621 -5.925543,3.399621c-3.430577,0 -7.173025,1.69981 -8.108638,3.399621c-0.935612,2.039772 -4.67806,3.399621 -8.108638,3.399621c-3.118707,0 -5.925543,1.69981 -5.925543,3.399621c0,2.039772 -2.806836,3.399621 -6.237413,3.399621c-3.430577,0 -6.237413,1.359848 -6.237413,2.719696c0,1.69981 -5.613672,5.779355 -12.474826,9.178975c-13.098568,6.459279 -40.543186,33.656242 -40.543186,40.455482c0,2.039772 6.237413,9.858899 14.03418,17.338064c7.796766,7.479165 14.03418,15.298292 14.03418,18.017988c0,2.379734 4.67806,6.459279 10.603603,9.178975c5.613672,2.719696 11.227344,7.139203 12.162956,10.198861c1.247483,3.059659 5.925543,5.099431 11.227344,5.099431c6.861155,0 10.915473,2.719696 14.657921,8.499051c3.430577,5.779355 7.796766,8.499051 14.03418,8.499051c7.173025,0 9.667991,2.379734 13.722309,11.898671c2.806836,8.159089 7.796766,13.598481 14.969791,16.998102c5.925543,2.719696 11.539215,7.819127 12.474826,11.898671c2.183095,9.858899 7.484896,8.499051 13.098568,-3.399621c7.484896,-15.638254 14.03418,-12.578595 18.71224,8.159089c2.806836,11.898671 4.67806,13.598481 17.152886,17.678026c27.444619,9.178975 51.146788,4.079545 57.696073,-11.558709c1.559353,-4.079545 4.054318,-7.479165 5.301801,-7.479165c1.559353,0 2.494965,-2.379734 2.494965,-5.439393c0,-6.119317 7.484896,-14.95833 12.786697,-14.95833c1.871224,0 5.925543,-2.719696 8.732378,-5.779355c7.796766,-9.518937 18.088498,-14.618368 28.38023,-14.618368c5.613672,0 9.044249,-1.359848 7.796766,-3.399621c-3.430577,-6.119317 47.404341,-5.779355 52.706142,0.339962c1.871224,1.69981 5.613672,3.059659 8.732378,3.059659c7.173025,0 16.841016,5.779355 29.003972,17.678026c4.98993,5.439393 11.227344,9.518937 13.410438,9.518937c2.183095,0 3.430577,1.359848 2.183095,3.059659c-0.935612,1.69981 0.935612,5.779355 3.742448,9.178975c13.722309,14.618368 19.647851,35.696015 19.647851,69.692218c0,17.678026 -1.247483,33.656242 -2.494965,35.696015c-1.559353,1.69981 -5.301801,10.198861 -8.108638,19.377837c-3.118707,8.839013 -6.861155,15.298292 -8.420508,13.938444c-1.559353,-1.019886 -2.806836,0.679924 -2.806836,3.399621c0,3.059659 -4.98993,8.839013 -10.915473,12.918557c-5.925543,4.419507 -10.915473,9.518937 -10.915473,11.218747c0,2.039772 -6.549283,5.779355 -14.657921,8.159089c-8.420508,2.719696 -15.593533,6.119317 -16.529145,7.479165c-0.935612,1.359848 -14.346051,3.059659 -29.627713,3.739583c-28.068359,1.019886 -28.068359,1.019886 -27.132747,9.518937c0.623741,4.759469 2.494965,10.198861 4.054318,12.238633c1.871224,2.719696 -0.623741,5.779355 -8.108638,9.518937c-7.796766,4.079545 -10.915473,7.819127 -10.915473,13.598481c0,4.419507 -2.183095,9.858899 -4.67806,12.238633c-6.237413,5.779355 -5.925543,11.218747 1.559353,18.697912c3.430577,3.399621 6.237413,9.518937 6.237413,13.258519c0.31187,8.499051 6.861155,36.035977 9.979861,41.135407c2.183095,4.079545 13.410438,4.079545 22.766559,0.339962l0.000003,-0.000001l0.000004,0zm450.964978,-32.976318c4.98993,-5.779355 9.044249,-11.898671 9.044249,-13.598481c0,-1.69981 1.559353,-2.719696 3.742448,-2.039772c1.871224,0.339962 4.98993,-2.379734 6.861155,-6.119317c1.871224,-3.739583 7.173025,-13.938444 11.539215,-22.097533c4.36619,-8.499051 9.044249,-19.377837 10.291732,-24.477266c0.935612,-5.439393 4.054318,-9.518937 6.237413,-9.518937c2.806836,0 3.742448,-2.379734 2.806836,-6.799241c-0.935612,-4.419507 -4.36619,-6.799241 -9.044249,-6.799241c-4.054318,0 -7.484896,-1.359848 -7.484896,-3.399621c0,-1.69981 -2.183095,-3.399621 -4.67806,-3.399621c-2.494965,0 -4.67806,-1.359848 -4.67806,-3.059659c0,-1.69981 -2.806836,-4.079545 -5.925543,-5.439393c-8.732378,-3.059659 -34.617644,-30.936546 -34.617644,-37.395824c0,-3.059659 -1.247483,-4.759469 -2.806836,-3.739583c-3.118707,2.039772 -6.237413,-6.459279 -9.979861,-26.857001c-1.247483,-7.479165 -3.430577,-18.697912 -4.67806,-24.817229c-2.494965,-14.278406 9.044249,-65.272712 14.969791,-65.272712c1.247483,0 2.494965,-2.039772 2.494965,-4.419507c0,-6.459279 23.702171,-32.976318 29.315842,-32.976318c2.806836,0 4.98993,-1.359848 4.98993,-3.399621c0,-1.69981 2.806836,-3.399621 6.237413,-3.399621c3.430577,0 6.237413,-1.359848 6.237413,-3.399621c0,-1.69981 3.430577,-3.399621 7.484896,-3.399621c4.36619,0 8.732378,-1.359848 9.667991,-3.399621c0.935612,-1.69981 13.722309,-3.399621 28.068359,-3.399621c14.346051,0 27.132747,1.69981 28.068359,3.399621c0.935612,2.039772 4.67806,3.399621 8.108638,3.399621c3.118707,0 5.925543,1.69981 5.925543,3.399621c0,2.039772 2.183095,3.399621 4.67806,3.399621c2.494965,0 4.67806,1.69981 4.67806,3.399621c0,2.039772 2.806836,3.399621 6.549283,3.399621c3.430577,0 5.301801,1.69981 4.36619,3.399621c-0.935612,2.039772 -0.623741,3.399621 1.247483,3.399621c4.054318,0 19.024111,16.318178 19.024111,20.397723c0,2.039772 1.247483,3.399621 2.806836,3.399621c2.494965,0 5.613672,7.819127 8.420508,21.417609c1.559353,6.799241 13.722309,22.437495 13.722309,17.338064c0,-1.69981 1.559353,-0.339962 3.430577,3.059659c4.36619,8.159089 8.420508,7.139203 9.667991,-2.719696c0.623741,-4.759469 2.183095,-8.499051 3.742448,-8.499051c1.559353,0.339962 4.36619,-3.059659 6.237413,-7.139203c3.430577,-7.479165 16.529145,-18.017988 27.756489,-22.097533c2.806836,-1.359848 5.301801,-4.079545 5.301801,-6.459279c0,-2.719696 2.806836,-5.439393 5.925543,-6.799241c11.227344,-3.739583 12.786697,-9.518937 7.796766,-27.876887c-2.494965,-9.518937 -6.861155,-19.377837 -9.35612,-21.417609c-2.183095,-2.379734 -4.36619,-7.139203 -4.36619,-10.878785c0,-3.399621 -4.67806,-11.558709 -10.291732,-17.678026c-5.613672,-6.119317 -12.786697,-16.65814 -15.905404,-23.457381c-2.806836,-7.139203 -6.549283,-12.578595 -8.108638,-12.578595c-1.871224,0 -3.118707,-2.039772 -3.118707,-4.759469c0,-2.379734 -4.054318,-9.178975 -9.35612,-14.95833c-4.98993,-6.119317 -9.35612,-12.238633 -9.35612,-14.278406c0,-2.039772 -6.549283,-10.198861 -14.346051,-18.35795c-22.142817,-22.777457 -25.885265,-25.837115 -30.875196,-25.837115c-2.494965,0 -4.67806,-1.019886 -4.67806,-2.719696c0,-4.079545 -29.627713,-17.678026 -38.360092,-17.678026c-4.36619,0 -10.291732,-2.379734 -13.098568,-5.439393c-4.36619,-4.759469 -13.410438,-5.779355 -64.245356,-5.439393c-32.434549,0.339962 -61.438521,1.69981 -64.557227,3.739583c-2.806836,1.69981 -16.529145,4.759469 -30.251454,7.139203c-13.722309,2.379734 -28.068359,6.459279 -31.810807,8.839013c-3.742448,2.719696 -11.227344,4.759469 -16.217274,4.759469c-4.98993,0 -10.291732,1.69981 -11.227344,3.399621c-0.935612,2.039772 -5.301801,3.399621 -9.667991,3.399621c-4.36619,0 -6.861155,1.359848 -5.925543,3.399621c1.247483,2.039772 -1.871224,3.399621 -7.484896,3.399621c-4.98993,0 -10.291732,1.69981 -11.227344,3.399621c-0.935612,2.039772 -4.36619,3.399621 -7.173025,3.399621c-2.806836,0 -10.291732,4.759469 -16.217274,10.198861c-5.925543,5.779355 -13.098568,10.878785 -15.905404,11.898671c-4.98993,1.69981 -18.400369,26.177077 -18.400369,33.656242c0,2.379734 -2.183095,8.839013 -4.67806,14.618368c-15.281663,33.31628 -23.078429,151.963032 -12.474826,190.03878c2.494965,9.178975 4.67806,21.077647 4.67806,26.517039c0,13.598481 6.549283,36.035977 9.667991,33.996204c1.559353,-1.019886 2.806836,1.359848 2.806836,5.439393c0,3.739583 1.247483,9.518937 2.806836,12.918557c1.559353,3.059659 4.36619,9.858899 6.237413,15.298292c7.173025,19.377837 10.915473,26.177077 21.830946,40.795444c6.237413,8.159089 14.03418,19.037874 17.464757,23.797342c3.430577,5.099431 7.796766,9.178975 9.979861,9.178975c2.183095,0 4.054318,1.69981 4.054318,3.399621c0,2.039772 2.183095,3.399621 4.67806,3.399621c2.494965,0 4.67806,1.69981 4.67806,3.399621c0,2.039772 1.871224,3.399621 4.36619,3.399621c2.494965,0 6.549283,2.039772 8.732378,4.419507c9.044249,9.178975 18.400369,12.238633 54.889236,18.017988c7.173025,1.359848 14.03418,3.739583 14.969791,5.099431c0.935612,1.69981 15.593533,3.059659 33.05829,3.059659c30.875196,0 31.187066,0 40.231315,-10.538823l0.000002,-0.000005l0.000005,-0.000001zm-553.882297,-247.832327c1.247483,-2.039772 -3.118707,-3.059659 -11.539215,-3.059659l-13.410438,0.679924l10.915473,2.379734c5.925543,1.359848 11.227344,2.719696 11.539215,3.059659c0.31187,0 1.559353,-1.019886 2.494965,-3.059659l0,0.000001zm879.163397,-124.086145c2.806836,-4.759469 6.549283,-7.819127 8.108638,-6.799241c1.871224,1.359848 3.118707,-0.679924 3.118707,-3.739583c0,-3.399621 1.247483,-10.538823 2.806836,-16.318178c8.420508,-30.596584 12.786697,-61.193167 12.786697,-86.010396l0,-28.216849l-10.915473,0c-5.925543,0 -10.915473,1.69981 -10.915473,3.399621c0,2.039772 -10.915473,3.399621 -26.509006,3.399621c-15.593533,0 -26.509006,-1.359848 -26.509006,-3.399621c0,-1.69981 -2.806836,-3.399621 -5.925543,-3.399621c-3.430577,0 -7.173025,-1.69981 -8.420508,-3.739583c-0.935612,-2.039772 -6.861155,-6.119317 -12.786697,-8.839013c-5.925543,-2.719696 -11.539215,-7.819127 -12.474826,-11.218747c-0.935612,-3.739583 -2.806836,-5.779355 -4.36619,-4.759469c-1.559353,0.679924 -4.36619,-1.359848 -6.549283,-5.439393c-2.183095,-3.739583 -4.98993,-6.799241 -6.237413,-6.799241c-4.054318,0 -17.464757,-16.65814 -24.637782,-30.596584c-3.742448,-7.479165 -8.108638,-13.598481 -9.667991,-13.598481c-1.247483,0 -2.494965,-2.379734 -2.494965,-5.099431c0,-5.099431 -5.925543,-18.697912 -9.667991,-22.097533c-6.861155,-6.119317 -12.162956,-127.145803 -6.237413,-133.605082c1.871224,-2.039772 3.430577,-7.479165 3.430577,-11.898671c0,-4.419507 1.247483,-6.799241 3.118707,-5.779355c1.871224,1.019886 3.118707,-1.019886 3.118707,-4.759469c0,-3.739583 1.559353,-7.819127 3.118707,-8.839013c1.871224,-1.019886 3.118707,-4.419507 3.118707,-7.479165c0,-11.558709 51.77053,-72.751876 70.170899,-82.610776c14.03418,-7.819127 13.410438,-18.017988 -2.806836,-45.894875c-7.796766,-12.918557 -15.593533,-25.497153 -17.464757,-27.876887c-1.559353,-2.379734 -3.118707,-5.779355 -3.118707,-7.819127c0,-1.69981 -1.247483,-3.399621 -3.118707,-3.399621c-1.559353,0 -3.118707,-2.379734 -3.118707,-5.099431c0,-2.719696 -1.871224,-5.099431 -4.36619,-5.099431c-2.494965,0 -5.301801,-3.059659 -6.549283,-6.459279c-0.935612,-3.739583 -8.108638,-12.918557 -15.593533,-20.397723c-7.796766,-7.819127 -14.03418,-15.638254 -14.03418,-17.338064c0,-1.69981 -3.430577,-4.079545 -7.796766,-5.439393c-4.36619,-1.019886 -7.796766,-3.399621 -7.796766,-4.759469c0,-1.359848 -4.67806,-5.099431 -9.979861,-8.159089c-5.613672,-3.059659 -12.474826,-7.139203 -14.969791,-8.839013c-2.494965,-1.359848 -16.529145,-6.119317 -31.187066,-10.538823c-14.657921,-4.079545 -29.315842,-8.499051 -32.746419,-10.198861c-12.786697,-5.439393 -73.601476,-7.479165 -243.259117,-7.139203c-175.895053,0 -258.540779,2.379734 -251.367754,7.139203c3.430577,2.379734 -75.784571,12.918557 -124.436394,16.318178c-11.227344,1.019886 -21.830946,3.059659 -23.702171,4.759469c-1.871224,1.69981 -14.03418,4.759469 -26.509006,6.799241c-39.607574,6.119317 -43.350022,7.139203 -43.350022,10.198861c0,1.69981 -5.613672,3.059659 -12.162956,3.059659c-6.861155,0 -13.410438,1.69981 -14.346051,3.399621c-0.935612,2.039772 -8.108638,3.399621 -15.905404,3.399621c-7.484896,0 -13.722309,1.359848 -13.722309,3.059659c0,1.359848 -6.549283,4.079545 -14.657921,5.099431c-26.509006,4.419507 -48.963694,8.499051 -63.933486,11.558709c-8.420508,1.69981 -14.969791,2.379734 -14.969791,1.69981c0,-0.679924 -3.118707,1.019886 -6.861155,3.739583c-3.742448,3.059659 -9.979861,5.439393 -14.03418,5.439393c-8.420508,0 -22.766559,6.799241 -22.766559,10.878785c0,1.359848 -2.806836,2.719696 -6.237413,2.719696c-3.430577,0 -6.237413,1.69981 -6.237413,3.399621c0,2.039772 -2.806836,3.399621 -5.925543,3.399621c-3.430577,0 -7.173025,1.69981 -8.108638,3.399621c-0.935612,2.039772 -6.861155,3.399621 -13.098568,3.399621c-6.237413,0 -10.291732,1.019886 -9.35612,2.379734c2.494965,2.379734 -11.851085,11.218747 -18.400369,11.218747c-2.494965,0 -5.301801,2.379734 -6.237413,5.099431c-1.247483,2.719696 -3.118707,4.079545 -4.67806,3.059659c-1.559353,-1.019886 -2.806836,1.359848 -2.806836,4.759469c0,3.739583 2.494965,7.479165 5.613672,8.839013c8.420508,3.059659 15.905404,9.178975 32.746419,26.857001c15.281663,15.978216 36.488867,45.554913 36.488867,50.654344c0,1.359848 4.054318,12.578595 9.35612,24.817229c4.98993,12.238633 9.35612,24.477266 9.35612,26.857001c0,2.379734 2.183095,10.538823 4.98993,17.678026c4.36619,10.878785 4.98993,21.077647 3.430577,57.453585c-0.935612,26.517039 -3.118707,44.535027 -4.98993,45.214951c-1.871224,0.679924 -3.430577,6.459279 -3.430577,12.578595c0,6.459279 -1.247483,12.578595 -3.118707,13.598481c-1.559353,1.019886 -3.118707,4.759469 -3.118707,8.159089c0,13.598481 -20.271593,48.614572 -39.607574,68.33237c-10.915473,11.218747 -20.895334,20.397723 -22.454688,20.397723c-1.559353,0 -3.430577,1.019886 -4.054318,2.719696c-1.871224,4.759469 -41.790669,24.477266 -49.899306,24.477266c-4.36619,0 -8.732378,1.69981 -9.35612,3.399621c-0.623741,2.379734 -14.346051,4.079545 -33.682032,4.419507c-33.05829,0.339962 -45.533117,-2.379734 -37.112609,-8.159089c3.430577,-2.379734 3.118707,-3.059659 -0.935612,-3.059659c-8.420508,0 -14.969791,3.739583 -14.969791,8.839013c0,2.719696 -2.494965,4.759469 -5.925543,4.759469c-4.98993,0 -5.301801,1.69981 -3.118707,16.998102c2.494965,16.998102 9.35612,32.296394 13.098568,28.556811c0.935612,-1.019886 3.742448,1.019886 5.925543,5.099431c2.183095,4.079545 6.549283,7.139203 9.667991,7.139203c3.118707,0 4.98993,1.359848 4.054318,3.059659c-4.98993,8.499051 71.730252,14.95833 81.086372,6.799241c1.871224,-1.69981 13.722309,-4.079545 26.509006,-5.099431c17.152886,-1.69981 26.820877,-0.679924 38.04822,3.399621c8.108638,3.059659 15.281663,5.439393 15.905404,5.439393c0.935612,0 6.549283,-5.439393 12.474826,-11.898671c6.237413,-6.459279 13.410438,-11.898671 16.217274,-11.898671c2.494965,0 3.742448,-1.359848 2.806836,-3.399621c-0.935612,-1.69981 -0.31187,-3.399621 1.871224,-3.399621c1.871224,0 5.925543,-2.719696 8.732378,-6.459279c2.806836,-3.399621 9.667991,-8.839013 15.281663,-11.898671c5.301801,-3.059659 9.979861,-7.139203 9.979861,-8.839013c0,-2.039772 2.806836,-3.399621 6.237413,-3.399621c3.430577,0 6.237413,-1.359848 6.237413,-3.399621c0,-1.69981 1.871224,-3.399621 4.054318,-3.399621c5.613672,0 20.895334,-8.159089 20.895334,-10.878785c0,-1.69981 2.806836,-2.719696 6.237413,-2.719696c5.925543,0 18.400369,-6.119317 21.830946,-10.538823c2.806836,-3.739583 43.038152,-16.65814 51.458659,-16.65814c4.67806,0 11.227344,-2.039772 14.969791,-4.079545c3.742448,-2.379734 19.959722,-5.099431 35.553255,-6.119317c15.905404,-1.019886 30.563325,-3.739583 32.122678,-5.439393c2.494965,-2.719696 1.247483,-7.479165 -4.36619,-16.65814c-4.36619,-7.139203 -8.108638,-14.278406 -8.108638,-15.638254c0,-1.69981 -2.183095,-3.059659 -4.67806,-3.059659c-2.494965,0 -4.67806,-1.69981 -4.67806,-3.739583c0,-2.039772 -2.183095,-5.779355 -4.67806,-8.499051c-2.494965,-3.059659 -4.67806,-8.159089 -4.67806,-11.558709c0,-3.399621 -1.247483,-7.139203 -2.806836,-8.499051c-4.36619,-2.719696 -12.786697,-22.097533 -12.786697,-29.236735c0,-3.059659 -1.247483,-6.459279 -3.118707,-7.139203c-9.044249,-3.399621 -10.603603,-68.672332 -1.871224,-78.531231c2.183095,-2.379734 5.925543,-9.178975 8.420508,-14.95833c2.183095,-6.119317 5.301801,-11.218747 6.549283,-11.218747c1.559353,0 2.494965,-1.69981 2.494965,-3.739583c0,-3.739583 14.03418,-18.697912 33.682032,-36.375938c5.925543,-5.099431 14.346051,-12.918557 18.71224,-17.678026c4.67806,-4.759469 12.786697,-10.878785 17.776628,-13.598481c5.301801,-2.719696 12.162956,-7.819127 15.281663,-10.878785c3.430577,-3.399621 7.796766,-6.119317 9.979861,-6.119317c2.183095,0 4.36619,-1.359848 4.98993,-2.719696c1.247483,-3.739583 30.563325,-21.077647 35.553255,-21.077647c2.494965,0 4.36619,-1.359848 4.36619,-3.399621c0,-1.69981 4.054318,-3.399621 9.044249,-3.399621c5.301801,0 10.291732,-1.359848 11.227344,-3.399621c0.935612,-2.039772 6.861155,-3.399621 12.786697,-3.399621c5.925543,0 10.603603,-1.359848 10.603603,-3.399621c0,-1.69981 3.430577,-3.399621 7.796766,-3.399621c4.36619,0 7.796766,-1.359848 7.796766,-3.059659c0,-1.69981 3.118707,-3.739583 7.173025,-4.759469c3.742448,-1.019886 14.657921,-4.759469 24.014041,-8.499051c9.35612,-3.739583 27.444619,-8.499051 39.919445,-10.878785c12.162956,-2.039772 21.830946,-5.439393 20.583464,-7.139203c-1.871224,-3.739583 146.267341,-4.079545 149.697918,-0.339962c1.247483,1.359848 19.335981,4.759469 40.231315,7.819127c43.350022,6.459279 53.018013,10.198861 77.343924,30.596584c28.068359,23.117419 57.384201,54.733888 63.933486,68.672332c2.494965,5.099431 5.925543,9.178975 7.484896,9.178975c1.871224,0 3.118707,2.039772 3.118707,4.419507c0,2.039772 4.36619,9.518937 9.35612,15.978216c4.98993,6.459279 9.35612,13.938444 9.35612,16.318178c0,2.039772 1.247483,4.079545 2.494965,4.079545c2.494965,0 13.410438,26.517039 17.776628,43.515141c1.247483,4.079545 3.430577,6.799241 4.98993,5.779355c1.559353,-1.359848 2.806836,11.898671 2.806836,31.956432c0,20.397723 -1.247483,34.336166 -3.118707,34.336166c-1.559353,0 -4.98993,5.439393 -7.484896,11.898671c-5.613672,14.278406 -33.370161,45.894875 -40.543186,45.894875c-2.806836,0 -4.98993,2.379734 -4.98993,5.099431c0,2.719696 -2.183095,5.099431 -4.67806,5.099431c-2.494965,0 -4.67806,1.69981 -4.67806,3.399621c0,2.039772 -1.871224,3.399621 -4.36619,3.399621c-3.430577,0 -9.979861,9.178975 -7.173025,10.538823c0.31187,0 14.657921,1.69981 31.810807,3.399621c35.241385,3.399621 67.052192,8.499051 62.374133,9.858899c-3.118707,1.019886 16.217274,5.779355 36.488867,9.178975c6.549283,1.019886 13.098568,3.739583 15.281663,6.459279c1.871224,2.719696 5.925543,4.759469 9.044249,4.759469c7.484896,0 31.810807,15.298292 29.003972,18.017988c-0.935612,1.359848 0.935612,2.379734 4.67806,2.379734c3.742448,0 6.861155,1.69981 6.861155,3.399621c0,2.039772 1.559353,3.399621 3.430577,3.399621c1.871224,0 4.98993,2.039772 7.173025,4.419507c2.183095,2.039772 7.796766,7.139203 12.162956,10.878785c4.67806,3.739583 8.420508,8.499051 8.420508,10.878785c0,2.379734 1.559353,4.419507 3.430577,4.419507c3.742448,0 21.519076,20.397723 21.519076,24.477266c0,1.359848 1.871224,4.419507 4.054318,6.799241c2.183095,2.379734 8.108638,10.538823 13.098568,18.017988c5.301801,7.479165 10.291732,14.278406 11.227344,15.298292c0.935612,1.019886 3.742448,6.799241 6.237413,12.918557c2.494965,5.779355 5.301801,10.878785 6.549283,10.878785c1.559353,0 2.494965,2.039772 2.494965,4.419507c0,7.819127 9.667991,27.196963 18.400369,37.055862c9.044249,10.198861 14.657921,8.839013 23.390299,-5.779355l0.000003,0l0.000007,0.000002zm-613.449593,-64.252826c6.861155,-16.65814 5.613672,-19.037874 -10.915473,-19.037874c-8.420508,0 -15.905404,1.019886 -17.152886,2.039772c-2.806836,3.399621 1.247483,11.558709 5.925543,11.558709c2.494965,0 4.36619,1.69981 4.36619,3.399621c0,5.099431 7.173025,12.918557 10.915473,12.578595c1.559353,-0.339962 4.67806,-5.099431 6.861155,-10.538823l-0.000001,0l-0.000001,0zm77.343924,-93.829523c0.935612,-1.69981 4.98993,-3.399621 9.044249,-3.399621c3.742448,0 12.474826,-2.719696 19.335981,-6.459279c6.549283,-3.399621 17.776628,-8.499051 24.637782,-10.878785c6.861155,-2.719696 13.722309,-6.799241 14.969791,-8.839013c1.247483,-2.379734 4.054318,-4.419507 6.237413,-4.419507c2.183095,0 7.796766,-3.739583 12.786697,-8.499051c4.98993,-4.759469 10.291732,-8.499051 11.851085,-8.499051c1.247483,0 2.494965,-2.379734 2.494965,-5.099431c0,-2.719696 1.559353,-5.099431 3.118707,-5.099431c1.871224,0 3.118707,-2.379734 3.118707,-5.439393c0,-2.719696 1.247483,-4.419507 2.494965,-3.399621c1.559353,1.019886 4.67806,-2.039772 6.861155,-6.459279c2.183095,-4.759469 4.98993,-8.499051 6.237413,-8.499051c0.935612,0 9.979861,-8.499051 19.959722,-18.697912c9.667991,-10.198861 19.024111,-18.697912 20.271593,-18.697912c1.247483,0 7.484896,-5.439393 13.722309,-11.898671c6.237413,-6.459279 13.098568,-11.898671 14.657921,-11.898671c1.871224,0 3.118707,-2.379734 3.118707,-5.099431c0,-3.059659 -2.806836,-5.099431 -7.484896,-5.099431c-4.36619,0 -8.732378,-1.359848 -9.667991,-3.399621c-0.935612,-1.69981 -8.732378,-3.399621 -17.152886,-3.399621c-8.420508,0 -16.217274,-1.359848 -17.152886,-3.399621c-0.935612,-1.69981 -13.722309,-3.399621 -27.756489,-3.399621c-14.346051,0 -33.370161,-1.69981 -42.41441,-3.399621c-9.35612,-2.039772 -51.77053,-3.739583 -94.808681,-3.739583c-43.038152,-0.339962 -74.848959,-1.69981 -70.482769,-3.059659c6.549283,-2.379734 5.613672,-2.719696 -5.301801,-3.059659c-7.484896,-0.339962 -13.410438,1.359848 -13.410438,3.059659c0,2.039772 -15.281663,3.399621 -39.607574,3.399621c-42.41441,0 -103.852931,6.459279 -103.852931,10.878785c0,1.359848 -4.98993,2.719696 -10.915473,2.719696c-5.925543,0 -10.915473,1.69981 -10.915473,3.399621c0,2.039772 -2.494965,3.399621 -5.301801,3.399621c-3.118707,0 -9.044249,3.059659 -13.410438,6.799241c-4.36619,3.739583 -10.603603,6.799241 -14.03418,6.799241c-3.430577,0 -10.915473,4.419507 -16.841016,9.858899c-9.35612,8.159089 -9.979861,10.198861 -6.861155,16.65814c1.871224,4.079545 4.98993,7.479165 6.549283,7.479165c1.871224,0 3.118707,2.379734 3.118707,5.099431c0,2.719696 1.559353,5.099431 3.430577,5.099431c1.559353,0 2.494965,1.359848 1.559353,2.719696c-0.935612,1.69981 3.118707,8.499051 9.044249,15.298292c5.925543,7.139203 10.915473,13.938444 10.915473,15.298292c0,4.419507 9.35612,14.618368 21.207205,23.797342c15.905404,12.238633 50.834918,31.276508 57.072331,31.276508c3.430577,0 5.925543,1.69981 5.925543,3.399621c0,2.039772 5.301801,3.399621 11.851085,3.399621c6.237413,0 13.722309,1.69981 16.217274,3.399621c6.549283,4.419507 183.068079,4.419507 185.563044,0l0,0.000002l0.000002,0.000001zm-345.552694,-202.617376c-0.935612,-1.019886 -3.742448,-1.359848 -5.925543,-0.339962c-2.494965,1.019886 -1.559353,2.039772 1.871224,2.039772c3.430577,0.339962 5.301801,-0.679924 4.054318,-1.69981l0.000001,0zm10.291732,-8.159089c0,-1.69981 1.871224,-3.399621 4.36619,-3.399621c2.494965,0 9.667991,-2.719696 16.529145,-6.459279c16.217274,-8.499051 32.434549,-13.938444 42.41441,-13.938444c4.36619,0 9.35612,-2.039772 10.603603,-4.759469c2.806836,-5.099431 19.335981,-7.819127 67.987804,-10.878785c20.583464,-1.359848 29.003972,-3.059659 24.949653,-5.099431c-3.430577,-1.359848 34.617644,-2.719696 84.205079,-2.719696c49.899306,0 87.635656,1.359848 84.205079,2.719696c-3.742448,1.69981 11.227344,3.739583 37.42448,5.099431c35.865127,1.69981 106.347896,7.139203 110.090344,8.499051c0.623741,0.339962 0,2.039772 -0.935612,3.739583c-1.247483,2.039772 5.301801,3.399621 16.841016,3.399621c19.647851,0 24.325912,-4.419507 14.346051,-13.598481c-2.494965,-2.379734 -3.742448,-5.779355 -2.494965,-7.819127c0.935612,-2.039772 0.31187,-2.379734 -1.559353,-1.019886c-2.183095,1.359848 -5.301801,-1.019886 -7.484896,-6.119317c-1.871224,-4.759469 -4.67806,-8.839013 -5.925543,-8.839013c-1.247483,0 -5.301801,-5.439393 -9.044249,-11.898671c-3.742448,-6.459279 -7.796766,-11.898671 -9.35612,-11.898671c-1.247483,0 -6.861155,-4.419507 -12.474826,-10.198861c-5.613672,-5.439393 -12.786697,-10.198861 -15.905404,-10.198861c-3.118707,0 -7.484896,-3.059659 -9.667991,-6.799241c-2.183095,-3.739583 -7.173025,-6.799241 -10.915473,-6.799241c-4.054318,0 -7.173025,-1.359848 -7.173025,-3.399621c0,-2.039772 -9.35612,-3.399621 -22.142817,-3.399621c-11.851085,0 -21.207205,-1.359848 -20.271593,-3.059659c4.054318,-7.139203 -114.768404,-10.198861 -141.589281,-3.399621c-7.796766,2.039772 -18.71224,4.419507 -24.325912,5.439393c-5.613672,1.019886 -10.915473,3.059659 -11.851085,4.759469c-0.935612,1.69981 -5.613672,3.059659 -10.915473,3.059659c-4.98993,0 -9.044249,1.359848 -9.044249,2.719696c0,1.359848 -6.549283,4.419507 -14.657921,6.799241c-8.420508,2.719696 -17.464757,6.119317 -20.271593,7.819127c-3.118707,1.69981 -8.420508,3.059659 -11.539215,3.059659c-3.430577,0 -6.861155,1.359848 -7.796766,3.059659c-0.935612,1.69981 -8.732378,4.759469 -17.152886,7.139203c-8.732378,2.039772 -17.152886,6.119317 -19.335981,8.839013c-1.871224,2.719696 -6.237413,4.759469 -9.35612,4.759469c-5.925543,0 -25.885265,10.878785 -32.434549,18.017988c-1.871224,2.379734 -10.915473,9.518937 -19.647851,15.978216c-9.044249,6.459279 -16.217274,13.598481 -16.217274,15.978216c0,2.039772 -2.806836,5.099431 -6.237413,6.119317c-3.430577,1.019886 -6.237413,3.739583 -6.237413,5.439393c0,1.69981 -1.871224,3.059659 -4.054318,3.059659c-2.183095,0 -5.613672,3.059659 -7.796766,6.799241c-3.430577,6.119317 -3.118707,6.799241 4.054318,6.799241c4.36619,0 7.796766,-1.359848 7.796766,-3.399621l-0.000001,0l-0.000004,-0.000003z" id="svg_3" stroke-width="0" stroke="null"></path> <path d="m557.957919,6372.850587c0,-4.759469 0.623741,-6.459279 1.559353,-4.079545c0.623741,2.039772 0.623741,6.119317 0,8.499051c-0.935612,2.039772 -1.559353,0.339962 -1.559353,-4.419507l0,0.000001z" id="svg_4" stroke-width="0" stroke="null"></path> <path d="m547.978057,6237.205733c0,-1.69981 -0.935612,-5.439393 -1.871224,-8.499051c-1.247483,-3.739583 -0.31187,-5.439393 3.118707,-5.439393c3.118707,0 4.98993,3.059659 4.98993,8.499051c0,4.759469 -1.247483,8.499051 -3.118707,8.499051c-1.559353,0 -3.118707,-1.359848 -3.118707,-3.059659l0.000001,0.000001z" id="svg_5" stroke-width="0" stroke="null"></path> <path d="m522.092792,6197.090212c-1.247483,-1.019886 -2.183095,-6.459279 -2.183095,-11.898671c0,-13.598481 7.484896,-10.538823 8.732378,3.399621c0.935612,10.198861 -1.871224,13.938444 -6.549283,8.499051l0,-0.000001z" id="svg_6" stroke-width="0" stroke="null"></path> <path d="m497.45501,6146.095906c2.183095,-1.019886 4.98993,-0.679924 5.925543,0.339962c1.247483,1.019886 -0.623741,2.039772 -4.054318,1.69981c-3.430577,0 -4.36619,-1.019886 -1.871224,-2.039772l-0.000001,0z" id="svg_7" stroke-width="0" stroke="null"></path> <path d="m2238.628918,6132.837387c0,-3.739583 0.935612,-4.759469 1.871224,-2.039772c0.935612,2.379734 0.623741,5.439393 -0.31187,6.459279c-0.935612,1.359848 -1.871224,-0.679924 -1.559353,-4.419507l-0.000001,0z" id="svg_8" stroke-width="0" stroke="null"></path> <path d="m993.329363,5785.736144c2.183095,-1.019886 4.98993,-0.679924 5.925543,0.339962c1.247483,1.019886 -0.623741,2.039772 -4.054318,1.69981c-3.430577,0 -4.36619,-1.019886 -1.871224,-2.039772l-0.000001,0z" id="svg_9" stroke-width="0" stroke="null"></path> <path d="m376.449193,5685.787304c0,-1.69981 1.559353,-2.379734 3.118707,-1.359848c1.871224,1.019886 3.118707,2.719696 3.118707,3.739583c0,0.679924 -1.247483,1.359848 -3.118707,1.359848c-1.559353,0 -3.118707,-1.69981 -3.118707,-3.739583z" id="svg_10" stroke-width="0" stroke="null"></path> <path d="m111.982871,5924.100694c0,-4.759469 0.623741,-6.459279 1.559353,-4.079545c0.623741,2.039772 0.623741,6.119317 0,8.499051c-0.935612,2.039772 -1.559353,0.339962 -1.559353,-4.419507l0,0.000001z" id="svg_11" stroke-width="0" stroke="null"></path> </g> </g> </svg> <span class="text-xl font-bold sm:text-2xl">知道的越多，才知知道的越少</span> </a> <nav aria-label="Main menu" class="absolute -inset-x-4 top-14 hidden flex-col items-end gap-y-4 rounded-md bg-bgColor/[.85] py-4 text-accent shadow backdrop-blur group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:items-center sm:divide-x sm:divide-dashed sm:divide-accent sm:rounded-none sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none" id="navigation-menu"> <a class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" data-astro-prefetch href="/astro-theme-cactus/"> Home </a><a class="px-4 py-4 underline-offset-2 sm:py-0 sm:hover:underline" data-astro-prefetch href="/astro-theme-cactus/posts/"> Blog </a> </nav> </div> <site-search class="ms-auto" id="search" data-astro-cid-otpdt6jm> <button class="flex h-9 w-9 items-center justify-center rounded-md ring-zinc-400 transition-all hover:ring-2" data-open-modal disabled data-astro-cid-otpdt6jm> <svg aria-label="search" class="h-7 w-7" fill="none" height="16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg" data-astro-cid-otpdt6jm> <path d="M0 0h24v24H0z" stroke="none" data-astro-cid-otpdt6jm></path> <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6" data-astro-cid-otpdt6jm></path> </svg> </button> <dialog aria-label="search" class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-bgColor shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md" data-astro-cid-otpdt6jm> <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6" data-astro-cid-otpdt6jm> <button class="ms-auto cursor-pointer rounded-md bg-zinc-200 p-2 font-semibold dark:bg-zinc-700" data-close-modal data-astro-cid-otpdt6jm>Close</button> <div class="search-container" data-astro-cid-otpdt6jm> <div id="cactus__search" data-astro-cid-otpdt6jm></div> </div> </div> </dialog> </site-search>    <theme-toggle class="ms-2 sm:ms-4"> <button class="relative h-9 w-9 rounded-md p-2 ring-zinc-400 transition-all hover:ring-2" type="button"> <span class="sr-only">Dark Theme</span> <svg aria-hidden="true" class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-100 opacity-100 transition-all dark:scale-0 dark:opacity-0" fill="none" focusable="false" id="sun-svg" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M22 12L23 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 2V1" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 23V22" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M20 20L19 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M20 4L19 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M4 20L5 19" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M4 4L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M1 12L2 12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <svg aria-hidden="true" class="absolute start-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 scale-0 opacity-0 transition-all dark:scale-100 dark:opacity-100" fill="none" focusable="false" id="moon-svg" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M0 0h24v24H0z" fill="none" stroke="none"></path> <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path> <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path> <path d="M19 11h2m-1 -1v2"></path> </svg> </button> </theme-toggle>  <mobile-button> <button aria-expanded="false" aria-haspopup="menu" aria-label="Open main menu" class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden" id="toggle-navigation-menu" type="button"> <svg aria-hidden="true" class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0" fill="none" focusable="false" id="line-svg" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <svg aria-hidden="true" class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100" class="text-accent" fill="none" focusable="false" id="cross-svg" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </button> </mobile-button> </header>  <main id="main">  <div class="gap-x-10 lg:flex lg:items-start"> <aside class="sticky top-20 order-2 -me-32 hidden basis-64 lg:block"> <h2 class="font-semibold">Table of Contents</h2> <ul class="mt-4 text-xs"> <li class=""> <a aria-label="Scroll to section: 常见异常" class="block line-clamp-2 hover:text-accent mt-3" href="#常见异常"><span class="me-0.5">#</span>常见异常</a>  </li><li class=""> <a aria-label="Scroll to section: lambda" class="block line-clamp-2 hover:text-accent mt-3" href="#lambda"><span class="me-0.5">#</span>lambda</a>  </li><li class=""> <a aria-label="Scroll to section: 正则" class="block line-clamp-2 hover:text-accent mt-3" href="#正则"><span class="me-0.5">#</span>正则</a>  </li><li class=""> <a aria-label="Scroll to section: Spring boot" class="block line-clamp-2 hover:text-accent mt-3" href="#spring-boot"><span class="me-0.5">#</span>Spring boot</a> <ul> <li class="ms-2"> <a aria-label="Scroll to section: java -jar 做了什么" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#java--jar-做了什么"><span class="me-0.5">#</span>java -jar 做了什么</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: JarLauncher的执行流程" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#jarlauncher的执行流程"><span class="me-0.5">#</span>JarLauncher的执行流程</a> <ul> <li class="ms-2"> <a aria-label="Scroll to section: 使用依赖包common" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#使用依赖包common"><span class="me-0.5">#</span>使用依赖包common</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: jar启动器的作用" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#jar启动器的作用"><span class="me-0.5">#</span>jar启动器的作用</a>  </li> </ul> </li><li class="ms-2"> <a aria-label="Scroll to section: Spring 自动配置" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#spring-自动配置"><span class="me-0.5">#</span>Spring 自动配置</a> <ul> <li class="ms-2"> <a aria-label="Scroll to section: @Conditional" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#conditional"><span class="me-0.5">#</span>@Conditional</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: @ConditionalOnProperty" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#conditionalonproperty"><span class="me-0.5">#</span>@ConditionalOnProperty</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: @ComponentScan" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#componentscan"><span class="me-0.5">#</span>@ComponentScan</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: @Import &#38; @Configuration" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#import--configuration"><span class="me-0.5">#</span>@Import &amp; @Configuration</a>  </li> </ul> </li><li class="ms-2"> <a aria-label="Scroll to section: Spring 自动装配" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#spring-自动装配"><span class="me-0.5">#</span>Spring 自动装配</a> <ul> <li class="ms-2"> <a aria-label="Scroll to section: Spring注解发展过程" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#spring注解发展过程"><span class="me-0.5">#</span>Spring注解发展过程</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: SpringBoot自动装配原理" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#springboot自动装配原理"><span class="me-0.5">#</span>SpringBoot自动装配原理</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: 何时进行自动装配" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#何时进行自动装配"><span class="me-0.5">#</span>何时进行自动装配</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: run 方法" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#run-方法"><span class="me-0.5">#</span>run 方法</a>  </li> </ul> </li><li class="ms-2"> <a aria-label="Scroll to section: 什么是 Starter" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#什么是-starter"><span class="me-0.5">#</span>什么是 Starter</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: Maven 中的可选依赖" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#maven-中的可选依赖"><span class="me-0.5">#</span>Maven 中的可选依赖</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: Spring 中的注解处理器" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#spring-中的注解处理器"><span class="me-0.5">#</span>Spring 中的注解处理器</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: 自定义装换器" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#自定义装换器"><span class="me-0.5">#</span>自定义装换器</a> <ul> <li class="ms-2"> <a aria-label="Scroll to section: WebMvcConfigurationAdapter" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#webmvcconfigurationadapter"><span class="me-0.5">#</span>WebMvcConfigurationAdapter</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: WebMvcConfigurationSupport" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#webmvcconfigurationsupport"><span class="me-0.5">#</span>WebMvcConfigurationSupport</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: WebMvcAutoConfiguration" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#webmvcautoconfiguration"><span class="me-0.5">#</span>WebMvcAutoConfiguration</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: WebMvcConfigurer" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#webmvcconfigurer"><span class="me-0.5">#</span>WebMvcConfigurer</a>  </li><li class="ms-2"> <a aria-label="Scroll to section: @EnableWebMVC" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#enablewebmvc"><span class="me-0.5">#</span>@EnableWebMVC</a>  </li> </ul> </li><li class="ms-2"> <a aria-label="Scroll to section: junit" class="block line-clamp-2 hover:text-accent mt-2 text-[0.6875rem]" href="#junit"><span class="me-0.5">#</span>junit</a>  </li> </ul> </li><li class=""> <a aria-label="Scroll to section: 疑问" class="block line-clamp-2 hover:text-accent mt-3" href="#疑问"><span class="me-0.5">#</span>疑问</a>  </li> </ul> </aside> <article class="flex-grow break-words" data-pagefind-body> <div id="blog-hero"><h1 class="title mb-3 sm:mb-1"> Spring </h1> <div class="flex flex-wrap items-center gap-x-3 gap-y-2"> <p class="font-semibold"> <time datetime="2022-09-25T15:20:35.000Z"> September 25, 2022 </time> /  43 min read </p> <span class="rounded-lg bg-quote/10 p-1 text-quote">
Last Updated:
<time datetime="2024-05-16T14:00:41.000Z" class="ms-1"> May 16, 2024 </time> </span> </div> <div class="mt-3"> <svg aria-hidden="true" class="inline-block h-6 w-6" fill="none" focusable="false" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M0 0h24v24H0z" fill="none" stroke="none"></path> <path d="M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z"></path> <path d="M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116"></path> <path d="M6 9h-.01"></path> </svg>  <a aria-label="View more blogs with the tag java" class="cactus-link inline-block before:content-['#']" data-pagefind-filter="tag" href="/astro-theme-cactus/tags/java/"> java </a> ,  <a aria-label="View more blogs with the tag spring" class="cactus-link inline-block before:content-['#']" data-pagefind-filter="tag" href="/astro-theme-cactus/tags/spring/"> spring </a>  </div></div> <div class="prose prose-sm prose-cactus mt-12 prose-headings:font-semibold prose-headings:text-accent-2 prose-headings:before:absolute prose-headings:before:-ms-4 prose-headings:before:text-accent prose-headings:before:content-['#'] prose-th:before:content-none">  <h2 id="常见异常">常见异常</h2>









































































































































<table><thead><tr><th>异常</th><th>描述</th></tr></thead><tbody><tr><td>ClassCastException</td><td>类型强制转换异常</td></tr><tr><td>NegativeArrayException</td><td>数组负下标异常</td></tr><tr><td>ArrayIndexOutOfBoundsException</td><td>数组下标越界异常</td></tr><tr><td>SecturityException</td><td>违背安全原则异常</td></tr><tr><td>EOFException</td><td>文件已结束异常</td></tr><tr><td>FileNotFoundException</td><td>文件未找到异常</td></tr><tr><td>NumberFormatException</td><td>字符串转换为数字异常</td></tr><tr><td>SQLException</td><td>操作数据库异常</td></tr><tr><td>IOException</td><td>输入输出异常</td></tr><tr><td>NoSuchMethodException</td><td>方法未找到异常</td></tr><tr><td>Java.lang.AbstractMethodError</td><td>抽象方法错误。当应用试图调用抽象方法时抛出。</td></tr><tr><td>java.lang.AssertionError</td><td>断言错。用来指示一个断言失败的情况。</td></tr><tr><td>java.lang.ClassCircularityError</td><td>类循环依赖错误。在初始化一个类时,若检测到类之间循环依赖则抛出该异常。</td></tr><tr><td>java.lang.ClassFormatError</td><td>类格式错误。当Java虚拟机试图从一个文件中读取Java类,而检测到该文件的内容不符合类的有效格式时抛出。</td></tr><tr><td>java.lang.Error</td><td>错误。是所有错误的基类,用于标识严重的程序运行问题。这些问题通常描述一些不应被应用程序捕获的反常情况。</td></tr><tr><td>java.lang.ExceptionInInitializerError</td><td>初始化程序错误。当执行一个类的静态初始化程序的过程中,发生了异常时抛出。静态初始化程序是指直接包含于类中的static语句段。</td></tr><tr><td>java.lang.IllegalAccessError</td><td>违法访问错误。当一个应用试图访问、修改某个类的域(Field)或者调用其方法,但是又违反域或方法的可见性声明,则抛出该异常。</td></tr><tr><td>java.lang.IncompatibleClassChangeError</td><td>不兼容的类变化错误。当正在执行的方法所依赖的类定义发生了不兼容的改变时,抛出该异常。一般在修改了应用中的某些类的声明定义而没有对整个应用重新编译而直接运行的情况下,容易引发该错误。</td></tr><tr><td>java.lang.InstantiationError</td><td>实例化错误。当一个应用试图通过Java的new操作符构造一个抽象类或者接口时抛出该异常.</td></tr><tr><td>java.lang.InternalError</td><td>内部错误。用于指示Java虚拟机发生了内部错误。</td></tr><tr><td>java.lang.LinkageError</td><td>链接错误。该错误及其所有子类指示某个类依赖于另外一些类,在该类编译之后,被依赖的类改变了其类定义而没有重新编译所有的类,进而引发错误的情况。</td></tr><tr><td>java.lang.NoClassDefFoundError</td><td>未找到类定义错误。当Java虚拟机或者类装载器试图实例化某个类,而找不到该类的定义时抛出该错误。</td></tr><tr><td>java.lang.NoSuchFieldError</td><td>域不存在错误。当应用试图访问或者修改某类的某个域,而该类的定义中没有该域的定义时抛出该错误。</td></tr><tr><td>java.lang.NoSuchMethodError</td><td>方法不存在错误。当应用试图调用某类的某个方法,而该类的定义中没有该方法的定义时抛出该错误。</td></tr><tr><td>java.lang.OutOfMemoryError</td><td>内存不足错误。当可用内存不足以让Java虚拟机分配给一个对象时抛出该错误。</td></tr><tr><td>java.lang.StackOverflowError</td><td>堆栈溢出错误。当一个应用递归调用的层次太深而导致堆栈溢出时抛出该错误。</td></tr><tr><td>java.lang.ThreadDeath</td><td>线程结束。当调用Thread类的stop方法时抛出该错误,用于指示线程结束。</td></tr><tr><td>java.lang.UnknownError</td><td>未知错误。用于指示Java虚拟机发生了未知严重错误的情况。</td></tr><tr><td>java.lang.UnsatisfiedLinkError</td><td>未满足的链接错误。当Java虚拟机未找到某个类的声明为native方法的本机语言定义时抛出。</td></tr><tr><td>java.lang.UnsupportedClassVersionError</td><td>不支持的类版本错误。当Java虚拟机试图从读取某个类文件,但是发现该文件的主、次版本号不被当前Java虚拟机支持的时候,抛出该错误。</td></tr><tr><td>java.lang.VerifyError</td><td>验证错误。当验证器检测到某个类文件中存在内部不兼容或者安全问题时抛出该错误。</td></tr><tr><td>java.lang.VirtualMachineError</td><td>虚拟机错误。用于指示虚拟机被破坏或者继续执行操作所需的资源不足的情况</td></tr></tbody></table>
<h2 id="lambda">lambda</h2>
<p>求两个对象 list 的交集</p>
<div class="expressive-code"><link rel="stylesheet" href="/astro-theme-cactus/_astro/ec.v6sg1.css"/><script type="module" src="/astro-theme-cactus/_astro/ec.3zb7u.js"></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">private</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">List</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">People</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">sameList</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">List</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">People</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> oldArrayList, </span><span style="--0:#8BE9FD;--0fs:italic">List</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">People</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> newArrayList) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">List</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">People</span><span style="--0:#F8F8F2;--1:#24292E">&gt; resultList </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> newArrayList.</span><span style="--0:#50FA7B;--1:#6F42C1">stream</span><span style="--0:#F8F8F2;--1:#24292E">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">filter</span><span style="--0:#F8F8F2;--1:#24292E">(item </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">-&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> oldArrayList.</span><span style="--0:#50FA7B;--1:#6F42C1">stream</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">map</span><span style="--0:#F8F8F2;--1:#24292E">(e </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">-&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> e.</span><span style="--0:#50FA7B;--1:#6F42C1">getCode</span><span style="--0:#F8F8F2;--1:#24292E">())</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                    </span></span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">collect</span><span style="--0:#F8F8F2;--1:#24292E">(Collectors.</span><span style="--0:#50FA7B;--1:#6F42C1">toList</span><span style="--0:#F8F8F2;--1:#24292E">()).</span><span style="--0:#50FA7B;--1:#6F42C1">contains</span><span style="--0:#F8F8F2;--1:#24292E">(item.</span><span style="--0:#50FA7B;--1:#6F42C1">getCode</span><span style="--0:#F8F8F2;--1:#24292E">()))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">collect</span><span style="--0:#F8F8F2;--1:#24292E">(Collectors.</span><span style="--0:#50FA7B;--1:#6F42C1">toList</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> resultList;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="private List<People> sameList(List<People> oldArrayList, List<People> newArrayList) {    List<People> resultList = newArrayList.stream()            .filter(item -> oldArrayList.stream().map(e -> e.getCode())                    .collect(Collectors.toList()).contains(item.getCode()))            .collect(Collectors.toList());    return resultList;}"><div></div></button></div></figure></div>
<p>求两个对象 list 的差集</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">private</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">List</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">People</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">diffList</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">List</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">People</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> firstArrayList, </span><span style="--0:#8BE9FD;--0fs:italic">List</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">People</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> secondArrayList) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">List</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">People</span><span style="--0:#F8F8F2;--1:#24292E">&gt; resultList </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> firstArrayList.</span><span style="--0:#50FA7B;--1:#6F42C1">stream</span><span style="--0:#F8F8F2;--1:#24292E">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">filter</span><span style="--0:#F8F8F2;--1:#24292E">(item </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">-&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#F8F8F2;--1:#24292E">secondArrayList.</span><span style="--0:#50FA7B;--1:#6F42C1">stream</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">map</span><span style="--0:#F8F8F2;--1:#24292E">(e </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">-&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> e.</span><span style="--0:#50FA7B;--1:#6F42C1">getCode</span><span style="--0:#F8F8F2;--1:#24292E">()).</span><span style="--0:#50FA7B;--1:#6F42C1">collect</span><span style="--0:#F8F8F2;--1:#24292E">(Collectors.</span><span style="--0:#50FA7B;--1:#6F42C1">toList</span><span style="--0:#F8F8F2;--1:#24292E">()).</span><span style="--0:#50FA7B;--1:#6F42C1">contains</span><span style="--0:#F8F8F2;--1:#24292E">(item.</span><span style="--0:#50FA7B;--1:#6F42C1">getCode</span><span style="--0:#F8F8F2;--1:#24292E">()))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">collect</span><span style="--0:#F8F8F2;--1:#24292E">(Collectors.</span><span style="--0:#50FA7B;--1:#6F42C1">toList</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> resultList;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="private List<People> diffList(List<People> firstArrayList, List<People> secondArrayList) {        List<People> resultList = firstArrayList.stream()                .filter(item -> !secondArrayList.stream().map(e -> e.getCode()).collect(Collectors.toList()).contains(item.getCode()))                .collect(Collectors.toList());        return resultList;    }"><div></div></button></div></figure></div>
<p>list 去除另一个 list 重复元素的数据</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">firstList.</span><span style="--0:#50FA7B;--1:#6F42C1">removeIf</span><span style="--0:#F8F8F2;--1:#24292E">(first </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">-&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> secondList.</span><span style="--0:#50FA7B;--1:#6F42C1">stream</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">anyMatch</span><span style="--0:#F8F8F2;--1:#24292E">(second </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">-&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> first.</span><span style="--0:#50FA7B;--1:#6F42C1">getCode</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">equals</span><span style="--0:#F8F8F2;--1:#24292E">(second.</span><span style="--0:#50FA7B;--1:#6F42C1">getCode</span><span style="--0:#F8F8F2;--1:#24292E">())));</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="firstList.removeIf(first -> secondList.stream().anyMatch(second -> first.getCode().equals(second.getCode())));"><div></div></button></div></figure></div>
<h2 id="正则">正则</h2>
<p>(?!0(.0+)?$) 使用负向前瞻,排除0、0.0、0.00等数字。</p>
<p>(?!0+(.\d+)?$) 使用负向前瞻,排除以0开头的数字,如0.123、0.001等。</p>
<p>\d+(.\d+)? 匹配正整数和小数,其中小数点后面至少有一位数字</p>
<h2 id="spring-boot">Spring boot</h2>
<p>为什么打成的jar包,通过java -jar xxx.jar 就能启动运行?</p>
<p>jar包里面含有一下三部分文件</p>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main/img/image-20230404172555912.png" alt="image-20230404172555912"/>
<blockquote>
<p>org: 主要存放springboot相关的class文件</p>
<p>META-INF: 主要存放maven和MANIFEST.MF文件</p>
<p>BOOT-INF/classes: 主要存放应用编译后的class文件</p>
<p>BOOT-INF/lib: 主要存放应用依赖的jar包文件</p>
</blockquote>
<p>打开META-INF下MENIFEST.MF文件,内容如下:</p>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main/img/image-20230404172728434.png" alt="image-20230404172728434"/>
<p>从上述MANIFEST.MF中可以看到Main-Class及Start-Class配置,其中Main-Class指定jar文件的入口类JarLauncher,当使用java -jar执行jar包的时候会调用JarLauncher的main方法,而不是我们编写的启动类。</p>
<p>JarLauncher叫做jar包启动器,当我们运行java -jar 的时候就会找到这个启动器。</p>
<p>这个启动器是我们在打包的时候弄进去的,也就是我们在pom文件中加入的插件:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">build</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">plugins</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">plugin</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">groupId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;org.springframework.boot&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">groupId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">artifactId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;spring-boot-maven-plugin&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">artifactId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">plugin</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">plugins</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">build</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<build><plugins><plugin><groupId>org.springframework.boot</groupId><artifactId>spring-boot-maven-plugin</artifactId></plugin></plugins></build>"><div></div></button></div></figure></div>
<blockquote>
<p>注意:
只有添加了spring-boot-maven-plugin插件,运行mvn:package命令后打成的jar包才能直接运行。</p>
</blockquote>
<p>这个插件在打包时候就会把jar启动器添加进去。</p>
<h3 id="java--jar-做了什么">java -jar 做了什么</h3>
<blockquote>
<p>官网对java -jar的解释如下:</p>
<p>If the -jar option is specified, its argument is the name of the JAR file containing class and resource files for the application. The startup class must be indicated by the Main-Class manifest header in its source code.</p>
<p>如果指定了-jar选项,它的参数是包含应用程序的类和资源文件的JAR文件的名称。启动类必须由其源代码中的Main-Class清单头指明。</p>
</blockquote>
<p>由此可见: 当使用java -jar 启动springboot jar包时是去找Manifast.MF文件中的Main-Class指定的类来启动项目。</p>
<h3 id="jarlauncher的执行流程">JarLauncher的执行流程</h3>
<blockquote>
<p>org.springframework.boot.loader.JarLauncher#main
org.springframework.boot.loader.Launcher#launch(java.lang.String[])
org.springframework.boot.loader.Launcher#launch(java.lang.String[], java.lang.String, java.lang.ClassLoader) 中的第二个参数mainClass-》org.springframework.boot.loader.ExecutableArchiveLauncher#getMainClass
org.springframework.boot.loader.Launcher#createMainMethodRunner
org.springframework.boot.loader.MainMethodRunner#run</p>
</blockquote>
<p>添加spring-boot-loader依赖,才可以查看源码</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">dependency</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">groupId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;org.springframework.boot&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">groupId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">artifactId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;spring-boot-loader&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">artifactId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">version</span><span style="--0:#F8F8F2;--1:#24292E">&gt;2.1.16.RELEASE&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">version</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">dependency</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<dependency>  <groupId>org.springframework.boot</groupId>  <artifactId>spring-boot-loader</artifactId>  <version>2.1.16.RELEASE</version></dependency>"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">package</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#FF79C6">org.springframework.boot.loader</span><span style="--0:#F8F8F2">;</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">import</span><span style="--0:#F8F8F2;--1:#24292E"> org.springframework.boot.loader.archive.Archive;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* {@link Launcher} for JAR based archives. This launcher assumes that dependency jars are</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* included inside a {@code /BOOT-INF/lib} directory and that application classes are</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* included inside a {@code /BOOT-INF/classes} directory.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* {@link Launcher}用于基于JAR的档案。该启动程序假设依赖jar包含在{@code BOOT-INFlib}目录中,并且应用程序类包含在{@code BOOT-INFclasses}目录中。</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Phillip Webb</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Andy Wilkinson</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@since</span><span style="--0:#96A1C2;--1:#616972"> 1.0.0</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">JarLauncher</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">extends</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">ExecutableArchiveLauncher</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">String</span><span style="--0:#F8F8F2"> BOOT_INF_CLASSES </span></span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">BOOT-INF/classes/</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">String</span><span style="--0:#F8F8F2"> BOOT_INF_LIB </span></span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">BOOT-INF/lib/</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">JarLauncher</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">JarLauncher</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">Archive</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">archive</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">super</span><span style="--0:#F8F8F2;--1:#24292E">(archive);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">boolean</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">isNestedArchive</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">Archive</span><span style="--0:#F8F8F2">.</span><span style="--0:#8BE9FD;--0fs:italic">Entry</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">entry</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (entry.</span><span style="--0:#50FA7B;--1:#6F42C1">isDirectory</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> entry.</span><span style="--0:#50FA7B;--1:#6F42C1">getName</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">equals</span><span style="--0:#F8F8F2;--1:#24292E">(BOOT_INF_CLASSES);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> entry.</span><span style="--0:#50FA7B;--1:#6F42C1">getName</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">startsWith</span><span style="--0:#F8F8F2;--1:#24292E">(BOOT_INF_LIB);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">//main方法入口, 构造JarLauncher,然后调用它的launch方法。参数是控制台传递的</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">main</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#F8F8F2;--1:#24292E">) </span><span style="--0:#FF79C6;--1:#BF3441">throws</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Exception</span><span style="--0:#F8F8F2"> {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">JarLauncher</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">launch</span><span style="--0:#F8F8F2;--1:#24292E">(args);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="package org.springframework.boot.loader;import org.springframework.boot.loader.archive.Archive;/** * {@link Launcher} for JAR based archives. This launcher assumes that dependency jars are * included inside a {@code /BOOT-INF/lib} directory and that application classes are * included inside a {@code /BOOT-INF/classes} directory. * * {@link Launcher}用于基于JAR的档案。该启动程序假设依赖jar包含在{@code BOOT-INFlib}目录中,并且应用程序类包含在{@code BOOT-INFclasses}目录中。 * * @author Phillip Webb * @author Andy Wilkinson * @since 1.0.0 */public class JarLauncher extends ExecutableArchiveLauncher {  static final String BOOT_INF_CLASSES = &#34;BOOT-INF/classes/&#34;;  static final String BOOT_INF_LIB = &#34;BOOT-INF/lib/&#34;;  public JarLauncher() {  }  protected JarLauncher(Archive archive) {    super(archive);  }  @Override  protected boolean isNestedArchive(Archive.Entry entry) {    if (entry.isDirectory()) {      return entry.getName().equals(BOOT_INF_CLASSES);    }    return entry.getName().startsWith(BOOT_INF_LIB);  }  //main方法入口, 构造JarLauncher,然后调用它的launch方法。参数是控制台传递的  public static void main(String[] args) throws Exception {    new JarLauncher().launch(args);  }}"><div></div></button></div></figure></div>
<p><strong>启动类基类</strong>: org.springframework.boot.loader.Launcher-》org.springframework.boot.loader.Launcher#launch(java.lang.String[])</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* Base class for launchers that can start an application with a fully configured</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* classpath backed by one or more {@link Archive}s.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* 启动器的基类,可以用一个或多个{@link Archive}支持的完整配置的类路径启动应用程序。</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Phillip Webb</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Dave Syer</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@since</span><span style="--0:#96A1C2;--1:#616972"> 1.0.0</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">abstract</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">Launcher</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">  </span></span><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* Launch the application. This method is the initial entry point that should be</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* called by a subclass {@code public static void main(String[] args)} method.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* 启动应用程序。这个方法是一个初始入口点,它应该被子类{@code public static void main(String[] args)}方法调用。</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#96A1C2;--1:#616972"> the incoming arguments</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@throws</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#8BE9FD;--1:#6F42C1">Exception</span><span style="--0:#96A1C2;--1:#616972"> if the application fails to launch</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">launch</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#F8F8F2;--1:#24292E">) </span><span style="--0:#FF79C6;--1:#BF3441">throws</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Exception</span><span style="--0:#F8F8F2"> {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">//在系统属性中设置注册了自定义的URL处理器: org.springframework.boot.loader.jar.Handler。如果URL中没有指定处理器,会去系统属性中查询</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">JarFile.</span><span style="--0:#50FA7B;--1:#6F42C1">registerUrlProtocolHandler</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// getClassPathArchives方法在会去找lib目录下对应的第三方依赖JarFileArchive,同时也会项目自身的JarFileArchive</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// 根据getClassPathArchives得到的JarFileArchive集合去创建类加载器ClassLoader。这里会构造一个LaunchedURLClassLoader类加载器,这个类加载器继承URLClassLoader,并使用这些JarFileArchive集合的URL构造成URLClassPath</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// LaunchedURLClassLoader类加载器的父类加载器是当前执行类JarLauncher的类加载器</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">ClassLoader</span><span style="--0:#F8F8F2;--1:#24292E"> classLoader </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">createClassLoader</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#50FA7B;--1:#6F42C1">getClassPathArchives</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// getMainClass方法会去项目自身的Archive中的Manifest中找出key为Start-Class的类</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 调用重载方法launch</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#6F42C1">launch</span><span style="--0:#F8F8F2;--1:#24292E">(args, </span><span style="--0:#50FA7B;--1:#6F42C1">getMainClass</span><span style="--0:#F8F8F2;--1:#24292E">(), classLoader);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">......</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">......</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * Base class for launchers that can start an application with a fully configured * classpath backed by one or more {@link Archive}s. * 启动器的基类,可以用一个或多个{@link Archive}支持的完整配置的类路径启动应用程序。 * @author Phillip Webb * @author Dave Syer * @since 1.0.0 */public abstract class Launcher {  /**   * Launch the application. This method is the initial entry point that should be   * called by a subclass {@code public static void main(String[] args)} method.   * 启动应用程序。这个方法是一个初始入口点,它应该被子类{@code public static void main(String[] args)}方法调用。   * @param args the incoming arguments   * @throws Exception if the application fails to launch   */  protected void launch(String[] args) throws Exception {    //在系统属性中设置注册了自定义的URL处理器: org.springframework.boot.loader.jar.Handler。如果URL中没有指定处理器,会去系统属性中查询    JarFile.registerUrlProtocolHandler();    // getClassPathArchives方法在会去找lib目录下对应的第三方依赖JarFileArchive,同时也会项目自身的JarFileArchive        // 根据getClassPathArchives得到的JarFileArchive集合去创建类加载器ClassLoader。这里会构造一个LaunchedURLClassLoader类加载器,这个类加载器继承URLClassLoader,并使用这些JarFileArchive集合的URL构造成URLClassPath        // LaunchedURLClassLoader类加载器的父类加载器是当前执行类JarLauncher的类加载器    ClassLoader classLoader = createClassLoader(getClassPathArchives());    // getMainClass方法会去项目自身的Archive中的Manifest中找出key为Start-Class的类    // 调用重载方法launch    launch(args, getMainClass(), classLoader);  }  ......  ......}"><div></div></button></div></figure></div>
<p>可执行存档启动类的基类: org.springframework.boot.loader.ExecutableArchiveLauncher -》org.springframework.boot.loader.ExecutableArchiveLauncher#getMainClass</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* Base class for executable archive {@link Launcher}s.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* 可执行存档{@link启动器}的基类。</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Phillip Webb</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Andy Wilkinson</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@since</span><span style="--0:#96A1C2;--1:#616972"> 1.0.0</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">abstract</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">ExecutableArchiveLauncher</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">extends</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">Launcher</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">private</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Archive</span><span style="--0:#F8F8F2"> archive;</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">ExecutableArchiveLauncher</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">try</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.archive </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">createArchive</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">catch</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> (</span><span style="--0:#8BE9FD;--0fs:italic">Exception</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">ex</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--1:#BF3441">throw</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">IllegalStateException</span><span style="--0:#F8F8F2;--1:#24292E">(ex);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">ExecutableArchiveLauncher</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">Archive</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">archive</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.archive </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> archive;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Archive</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">getArchive</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.archive;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">String</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">getMainClass</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">throws</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Exception</span><span style="--0:#F8F8F2"> {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">//跟代码this.archive.getManifest()发现对应的是org.springframework.boot.loader.archive.JarFileArchive#getManifest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">//继续跟进入org.springframework.boot.loader.jar.JarFile#getManifest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">//最后org.springframework.boot.loader.jar.JarFile#getManifest对应的是META-INF/MANIFEST.MF文件的内容</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Manifest</span><span style="--0:#F8F8F2;--1:#24292E"> manifest </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.archive.</span><span style="--0:#50FA7B;--1:#6F42C1">getManifest</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> mainClass </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (manifest </span><span style="--0:#FF79C6;--1:#BF3441">!=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#96A1C2;--1:#616972">//获取META-INF/MANIFEST.MF文件内容中的Start-Class,这才是我们自己写的启动类</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">mainClass </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> manifest.</span><span style="--0:#50FA7B;--1:#6F42C1">getMainAttributes</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">getValue</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">Start-Class</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (mainClass </span><span style="--0:#FF79C6;--1:#BF3441">==</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--1:#BF3441">throw</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">IllegalStateException</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">No &#39;Start-Class&#39; manifest entry specified in </span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">+</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> mainClass;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">......</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">......</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * Base class for executable archive {@link Launcher}s. * 可执行存档{@link启动器}的基类。 * @author Phillip Webb * @author Andy Wilkinson * @since 1.0.0 */public abstract class ExecutableArchiveLauncher extends Launcher {  private final Archive archive;  public ExecutableArchiveLauncher() {    try {      this.archive = createArchive();    }    catch (Exception ex) {      throw new IllegalStateException(ex);    }  }  protected ExecutableArchiveLauncher(Archive archive) {    this.archive = archive;  }  protected final Archive getArchive() {    return this.archive;  }  @Override  protected String getMainClass() throws Exception {    //跟代码this.archive.getManifest()发现对应的是org.springframework.boot.loader.archive.JarFileArchive#getManifest    //继续跟进入org.springframework.boot.loader.jar.JarFile#getManifest    //最后org.springframework.boot.loader.jar.JarFile#getManifest对应的是META-INF/MANIFEST.MF文件的内容    Manifest manifest = this.archive.getManifest();    String mainClass = null;    if (manifest != null) {      //获取META-INF/MANIFEST.MF文件内容中的Start-Class,这才是我们自己写的启动类      mainClass = manifest.getMainAttributes().getValue(&#34;Start-Class&#34;);    }    if (mainClass == null) {      throw new IllegalStateException(&#34;No 'Start-Class' manifest entry specified in &#34; + this);    }    return mainClass;  }  ......  ......}"><div></div></button></div></figure></div>
<p>到此可以看出org.springframework.boot.loader.Launcher#launch(java.lang.String[], java.lang.String, java.lang.ClassLoader)中的mainClass参数正是我们自己写的启动类,也就是META-INF/MANIFEST.MF文件中Start-Class指定的类。</p>
<p><strong>Launcher的launch方法</strong>: org.springframework.boot.loader.Launcher#launch(java.lang.String[], java.lang.String, java.lang.ClassLoader)</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* Launch the application given the archive file and a fully configured classloader.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* 启动应用程序,给出归档文件和一个完全配置的类加载器。</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#96A1C2;--1:#616972"> the incoming arguments</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">mainClass</span><span style="--0:#96A1C2;--1:#616972"> the main class to run</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">classLoader</span><span style="--0:#96A1C2;--1:#616972"> the classloader</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@throws</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#8BE9FD;--1:#6F42C1">Exception</span><span style="--0:#96A1C2;--1:#616972"> if the launch fails</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">launch</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--1:#24292E"><span style="--0:#F8F8F2">[] args, </span><span style="--0:#8BE9FD;--0fs:italic">String</span><span style="--0:#F8F8F2"> mainClass, </span><span style="--0:#8BE9FD;--0fs:italic">ClassLoader</span><span style="--0:#F8F8F2"> classLoader) throws Exception {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">Thread.</span><span style="--0:#50FA7B;--1:#6F42C1">currentThread</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">setContextClassLoader</span><span style="--0:#F8F8F2;--1:#24292E">(classLoader);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#50FA7B;--1:#6F42C1">createMainMethodRunner</span><span style="--0:#F8F8F2;--1:#24292E">(mainClass, args, classLoader).</span><span style="--0:#50FA7B;--1:#6F42C1">run</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * Launch the application given the archive file and a fully configured classloader. * 启动应用程序,给出归档文件和一个完全配置的类加载器。 * @param args the incoming arguments * @param mainClass the main class to run * @param classLoader the classloader * @throws Exception if the launch fails */protected void launch(String[] args, String mainClass, ClassLoader classLoader) throws Exception {  Thread.currentThread().setContextClassLoader(classLoader);  createMainMethodRunner(mainClass, args, classLoader).run();}"><div></div></button></div></figure></div>
<p><strong>createMainMethodRunner 方法</strong>: org.springframework.boot.loader.Launcher#createMainMethodRunner</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* Create the {@code MainMethodRunner} used to launch the application.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">mainClass</span><span style="--0:#96A1C2;--1:#616972"> the main class</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#96A1C2;--1:#616972"> the incoming arguments</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">classLoader</span><span style="--0:#96A1C2;--1:#616972"> the classloader</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@return</span><span style="--0:#96A1C2;--1:#616972"> the main method runner</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">MainMethodRunner</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">createMainMethodRunner</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">String</span><span style="--0:#F8F8F2"> mainClass, </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--1:#24292E"><span style="--0:#F8F8F2">[] args, </span><span style="--0:#8BE9FD;--0fs:italic">ClassLoader</span><span style="--0:#F8F8F2"> classLoader) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">MainMethodRunner</span><span style="--0:#F8F8F2;--1:#24292E">(mainClass, args);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * Create the {@code MainMethodRunner} used to launch the application. * @param mainClass the main class * @param args the incoming arguments * @param classLoader the classloader * @return the main method runner */protected MainMethodRunner createMainMethodRunner(String mainClass, String[] args, ClassLoader classLoader) {  return new MainMethodRunner(mainClass, args);}"><div></div></button></div></figure></div>
<p><strong>MainMethodRunner</strong>: org.springframework.boot.loader.MainMethodRunner-》org.springframework.boot.loader.MainMethodRunner#run</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* Utility class that is used by {@link Launcher}s to call a main method. The class</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* containing the main method is loaded using the thread context class loader.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* 被{@link Launcher}用来调用main方法的实用程序类。包含main方法的类是使用线程上下文类装入器装入的。</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Phillip Webb</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@author</span><span style="--0:#96A1C2;--1:#616972"> Andy Wilkinson</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@since</span><span style="--0:#96A1C2;--1:#616972"> 1.0.0</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MainMethodRunner</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">private</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">String</span><span style="--0:#F8F8F2"> mainClassName;</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">private</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] args;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">  </span></span><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* Create a new {@link MainMethodRunner} instance.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">mainClass</span><span style="--0:#96A1C2;--1:#616972"> the main class</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* </span><span style="--0:#FF79C6;--1:#BF3441">@param</span><span style="--0:#96A1C2;--1:#616972"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#96A1C2;--1:#616972"> incoming arguments</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">MainMethodRunner</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">String</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">mainClass</span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.mainClassName </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> mainClass;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.args </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (args </span><span style="--0:#FF79C6;--1:#BF3441">!=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">) </span><span style="--0:#FF79C6;--1:#BF3441">?</span><span style="--0:#F8F8F2;--1:#24292E"> args.</span><span style="--0:#50FA7B;--1:#6F42C1">clone</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">:</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">run</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">throws</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Exception</span><span style="--0:#F8F8F2"> {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Class</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">?</span><span style="--0:#F8F8F2;--1:#24292E">&gt; mainClass </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> Thread.</span><span style="--0:#50FA7B;--1:#6F42C1">currentThread</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">getContextClassLoader</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">loadClass</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.mainClassName);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Method</span><span style="--0:#F8F8F2;--1:#24292E"> mainMethod </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> mainClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getDeclaredMethod</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">main</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[].class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">mainMethod.</span><span style="--0:#50FA7B;--1:#6F42C1">invoke</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Object</span><span style="--0:#F8F8F2;--1:#24292E">[] { </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.args });</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * Utility class that is used by {@link Launcher}s to call a main method. The class * containing the main method is loaded using the thread context class loader. * 被{@link Launcher}用来调用main方法的实用程序类。包含main方法的类是使用线程上下文类装入器装入的。 * @author Phillip Webb * @author Andy Wilkinson * @since 1.0.0 */public class MainMethodRunner {  private final String mainClassName;  private final String[] args;  /**   * Create a new {@link MainMethodRunner} instance.   * @param mainClass the main class   * @param args incoming arguments   */  public MainMethodRunner(String mainClass, String[] args) {    this.mainClassName = mainClass;    this.args = (args != null) ? args.clone() : null;  }  public void run() throws Exception {    Class<?> mainClass = Thread.currentThread().getContextClassLoader().loadClass(this.mainClassName);    Method mainMethod = mainClass.getDeclaredMethod(&#34;main&#34;, String[].class);    mainMethod.invoke(null, new Object[] { this.args });  }}"><div></div></button></div></figure></div>
<p>上述关键代码执行流程简化如下图:</p>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281126515.png" alt="img"/>
<h4 id="使用依赖包common">使用依赖包common</h4>
<p>common 执行mvn install时,会报错提示 Unable to find a single main class。spring boot项目使用maven打包,如果没有做配置的话,会自动寻找签名是public static void main(String[] args)的方法。common 只是一个服务工程,本来就不会存在启动入口。</p>
<p>在common中添加过滤配置即可打包成功:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">plugin</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">groupId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;org.springframework.boot&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">groupId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">artifactId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;spring-boot-maven-plugin&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">artifactId</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">configuration</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">skip</span><span style="--0:#F8F8F2;--1:#24292E">&gt;true&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">skip</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">configuration</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">plugin</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<plugin>    <groupId>org.springframework.boot</groupId>    <artifactId>spring-boot-maven-plugin</artifactId>    <configuration>        <skip>true</skip>    </configuration></plugin>"><div></div></button></div></figure></div>
<h4 id="jar启动器的作用">jar启动器的作用</h4>
<p>当我们使用java -jar的时候 JarLauncher 会将BOOT-INF/classes下的类文件和BOOT-INF/lib下依赖的jar包加载到classpath下,最后调用META-INF下的MANIFEST.MF文件的Start-Class属性来完成应用程序的启动。</p>
<h3 id="spring-自动配置">Spring 自动配置</h3>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281405585.png" alt="image-20230823113954382"/>
<p>SpringBoot 自动配置,Auto-Configuration</p>
<ul>
<li>它是指基于你引入的依赖 jar 包,对 SpringBoot 应用进行自动配置</li>
<li>它是SpringBoot框架的“开箱即用”提供了基础支撑</li>
</ul>
<p>术语“配置类”,Configuration Class</p>
<ul>
<li>广义的“配置类”: 被注解@Component 直接或间接修饰的某个类,即我们常说的 Spring 组件,其中包括了@Configuration 类</li>
<li>狭义的“配置类”: 特指被注解 @Configuration 所修饰的某个类,又成为 @Configuration 类</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281126131.png" alt="image-20230822172218836"/>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281127736.png" alt="image-20230822172402498"/>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281127191.png" alt="image-20230822173011734"/>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281128533.png" alt="image-20230823113418389"/>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281131684.png" alt="image-20230823113448199"/>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281128270.png" alt="image-20230823113602551"/>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281128307.png" alt="image-20230823113646014"/>
<h4 id="conditional">@Conditional</h4>
<ul>
<li>它的作用是实现: 只有在特定条件满足时,才会向 IOC 容器注册指定的组件</li>
<li>我们可以将 @Conditional 理解为某种 if 语句</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main//img/202402281128177.png" alt="image-20230823113909162"/>
<h4 id="conditionalonproperty">@ConditionalOnProperty</h4>
<p>该注解的作用是可以通过配置文件中的属性值来判定 configuration 是否被注入,这样就可以灵活的配置组件的启用。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">//</span></div></div><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// Source code recreated from a .class file by IntelliJ IDEA</span></div></div><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// (powered by FernFlower decompiler)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">//</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">package</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#FF79C6">org.springframework.boot.autoconfigure.condition</span><span style="--0:#F8F8F2">;</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">import</span><span style="--0:#F8F8F2;--1:#24292E"> java.lang.annotation.Documented;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">import</span><span style="--0:#F8F8F2;--1:#24292E"> java.lang.annotation.ElementType;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">import</span><span style="--0:#F8F8F2;--1:#24292E"> java.lang.annotation.Retention;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">import</span><span style="--0:#F8F8F2;--1:#24292E"> java.lang.annotation.RetentionPolicy;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">import</span><span style="--0:#F8F8F2;--1:#24292E"> java.lang.annotation.Target;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">import</span><span style="--0:#F8F8F2;--1:#24292E"> org.springframework.context.annotation.Conditional;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Retention</span><span style="--0:#F8F8F2;--1:#24292E">(RetentionPolicy.RUNTIME)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Target</span><span style="--0:#F8F8F2;--1:#24292E">({ElementType.TYPE, ElementType.METHOD})</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Documented</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Conditional</span><span style="--0:#F8F8F2;--1:#24292E">({OnPropertyCondition.class})</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> @</span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ConditionalOnProperty</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* 该属性与下面的 name 属性不可同时使用,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* 当value所对应配置文件中的值为false时,注入不生效,不为fasle注入生效</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* value有多个值时,只要有一个值对应为false,则注入不成功</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">value</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* 配置文件中key的前缀,可与value 或 name 组合使用</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">prefix</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#E9F284;--1:#032F62">&quot;&quot;</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* 与 value 作用一致</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">name</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* 与value 或 name 组合使用,只有当value 或 name 对应的值与havingValue的值相同时,注入生效</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">havingValue</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#E9F284;--1:#032F62">&quot;&quot;</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">* 该属性为true时,配置文件中缺少对应的value或name的对应的属性值,也会注入成功</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972">   </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">boolean</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">matchIfMissing</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">false</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="//// Source code recreated from a .class file by IntelliJ IDEA// (powered by FernFlower decompiler)//package org.springframework.boot.autoconfigure.condition;import java.lang.annotation.Documented;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;import org.springframework.context.annotation.Conditional;@Retention(RetentionPolicy.RUNTIME)@Target({ElementType.TYPE, ElementType.METHOD})@Documented@Conditional({OnPropertyCondition.class})public @interface ConditionalOnProperty {  /**   * 该属性与下面的 name 属性不可同时使用,   * 当value所对应配置文件中的值为false时,注入不生效,不为fasle注入生效   * value有多个值时,只要有一个值对应为false,则注入不成功   */  String[] value() default {};  /**   * 配置文件中key的前缀,可与value 或 name 组合使用   */  String prefix() default &#34;&#34;;  /**   * 与 value 作用一致   */  String[] name() default {};  /**   * 与value 或 name 组合使用,只有当value 或 name 对应的值与havingValue的值相同时,注入生效   */  String havingValue() default &#34;&#34;;  /**   * 该属性为true时,配置文件中缺少对应的value或name的对应的属性值,也会注入成功   */  boolean matchIfMissing() default false;}"><div></div></button></div></figure></div>
<p>配置文件</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#8BE9FD;--1:#1E7734">cod</span><span style="--0:#FF79C6;--1:#24292E">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--1:#1E7734">test</span><span style="--1:#24292E"><span style="--0:#FF79C6">:</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#BD93F9;--1:#005CC5">false</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="cod:  test: false"><div></div></button></div></figure></div>
<p>配置类</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Slf4j</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Component</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableScheduling</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ConditionalOnProperty</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">name</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">cod.test</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">ConditionalOnPropertyTest</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Scheduled</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">cron</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">*/5 * * * * ?</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">test</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">log.</span><span style="--0:#50FA7B;--1:#6F42C1">info</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">定时器执行。。。。</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Slf4j@Component@EnableScheduling@ConditionalOnProperty(name = &#34;cod.test&#34;)public class ConditionalOnPropertyTest {    @Scheduled(cron = &#34;*/5 * * * * ?&#34;)    public void test() {        log.info(&#34;定时器执行。。。。&#34;);    }}"><div></div></button></div></figure></div>
<p>启动服务之后,只要配置了 code.test 且不为 false,都是有效的。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// 只要配置文件中 code.test 为 false,即使设置 matchIfMissing = true 也是无效的</span></div></div><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// 若没有配置 code.test,则 matchIfMissing 为 true 执行,false 不执行</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ConditionalOnProperty</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">prefix</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">cod</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#BD93F9;--1:#005CC5">name</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">test</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#BD93F9;--1:#005CC5">matchIfMissing</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">true</span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// 只要配置文件中 code.test 为 false,即使设置 matchIfMissing = true 也是无效的// 若没有配置 code.test,则 matchIfMissing 为 true 执行,false 不执行@ConditionalOnProperty(prefix = &#34;cod&#34;, name = &#34;test&#34;, matchIfMissing = true)"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// 配置 code.test=111,相等于 havingValue,则执行,不同,不执行,即使设置 matchIfMissing = true 也是无效的</span></div></div><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// 若 code.test=false,havingValue=false,则认为相等,执行</span></div></div><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// 若没有配置 code.test,则 matchIfMissing 为 true 执行,false 不执行</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ConditionalOnProperty</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">prefix</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">cod</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#BD93F9;--1:#005CC5">name</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">test</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#BD93F9;--1:#005CC5">havingValue</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">111</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">,</span><span style="--0:#BD93F9;--1:#005CC5">matchIfMissing</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">true</span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// 配置 code.test=111,相等于 havingValue,则执行,不同,不执行,即使设置 matchIfMissing = true 也是无效的// 若 code.test=false,havingValue=false,则认为相等,执行// 若没有配置 code.test,则 matchIfMissing 为 true 执行,false 不执行@ConditionalOnProperty(prefix = &#34;cod&#34;, name = &#34;test&#34;, havingValue = &#34;111&#34;,matchIfMissing = true)"><div></div></button></div></figure></div>
<p>有配置看value,没配置看matchIfMissing。</p>
<h4 id="componentscan">@ComponentScan</h4>
<p>@ComponentScan,来自 Spring 框架的一个注解</p>
<ul>
<li>对指定的 package 进行扫描,找到其中符合条件的类,默认是搜索被注解@Component 修饰的配置类</li>
<li>通过属性 basePackages 或 basePackageClasses,来指定要进行扫描的 package</li>
<li>如果未指定 package,则默认扫描当前 @ComponentScan 所修饰的类所在的 package</li>
</ul>
<h4 id="import--configuration">@Import &amp; @Configuration</h4>
<p>通常,<code>@Import</code> 和 <code>@Configuration</code> 共同使用,用于在容器中注册对应的 <strong>BeanDefinition</strong>。</p>
<h5 id="configuration">@Configuration</h5>
<p>被 <code>@Configuration</code> 标注的类,通常称为 <strong>配置类</strong>,但配置类,并不单单指标注了 <code>@Configuration</code> 的类</p>
<ul>
<li>标注了 @Configuration 的配置类,称为 FULL 配置类,在 FULL 配置类中注册的 组件类,会在 ConfigurationClassPostProcessor#postProcessBeanFactory 方法中被 ConfigurationClassEnhancer 代理,交由 容器 处理依赖关系</li>
<li>而对于没有标注 <code>@Configuration</code>,但是标注了 <code>@Import</code> <code>Component</code> <code>ComponentScan</code> <code>ImportResource</code> 或者含有被 <code>Bean</code> 注解标注方法的配置类,称为 <strong>LITE</strong> 配置类</li>
<li>对于 FULL配置类 和 LITE配置类,ConfigurationClassPostProcessor 会委托 ConfigurationClassParser 类解析处理对应的 Component @PropertySource @ComponentScan @Import @ImportResource 注解以及标注了 @Bean 的方法</li>
</ul>
<h6 id="full--lite">FULL &amp; LITE</h6>
<p><strong>FULL配置类</strong> &amp; <strong>LITE配置类</strong> 的区别,可以看以下示例体会</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">A</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">A</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">...A</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">B</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">B</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">A</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">a</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">...B</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ComponentScan</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">com.xsn.configurationtest</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyConfigurationConfig</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Bean</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">A</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">a</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">A</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Bean</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">B</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">b</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">B</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#50FA7B;--1:#6F42C1">a</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">main</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] args) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac </span><span style="--0:#FF79C6;--1:#BF3441">=</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E">(MyConfigurationConfig.class);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">A</span><span style="--0:#F8F8F2;--1:#24292E"> a </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ac.</span><span style="--0:#50FA7B;--1:#6F42C1">getBean</span><span style="--0:#F8F8F2;--1:#24292E">(A.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(a);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">B</span><span style="--0:#F8F8F2;--1:#24292E"> b </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ac.</span><span style="--0:#50FA7B;--1:#6F42C1">getBean</span><span style="--0:#F8F8F2;--1:#24292E">(B.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(b);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">结果</span><span style="--0:#FF79C6;--1:#BF3441">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#50FA7B;--1:#6F42C1">FULL配置类</span><span style="--0:#F8F8F2;--1:#24292E">(加了 @</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span><span style="--0:#F8F8F2;--1:#24292E">)</span><span style="--0:#FF79C6;--1:#BF3441">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">...A</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">...B</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#50FA7B;--1:#6F42C1">LITE配置类</span><span style="--0:#F8F8F2;--1:#24292E">(注释掉 @</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span><span style="--0:#F8F8F2;--1:#24292E">)</span><span style="--0:#FF79C6;--1:#BF3441">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">...A</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">...A</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">...B</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public class A {  public A() {    System.out.println(&#34;...A&#34;);  }}public class B {  public B(A a) {    System.out.println(&#34;...B&#34;);  }}@Configuration@ComponentScan(&#34;com.xsn.configurationtest&#34;)public class MyConfigurationConfig {  @Bean  public A a() {    return new A();  }  @Bean  public B b() {    return new B(a());  }}public static void main(String[] args) {  AnnotationConfigApplicationContext ac =      new AnnotationConfigApplicationContext(MyConfigurationConfig.class);  A a = ac.getBean(A.class);  System.out.println(a);  B b = ac.getBean(B.class);  System.out.println(b);}结果:FULL配置类(加了 @Configuration):...A...BLITE配置类(注释掉 @Configuration):...A...A...B"><div></div></button></div></figure></div>
<p>可以看到在 <strong>FULL配置类</strong> 下,<strong>A</strong> 和 <strong>B</strong> 的 <strong>依赖关系</strong> 将由 <strong>容器</strong> 处理。</p>
<p>我们可以看到,没有 @Configuration 修饰的时候,A 被实例化了两次。</p>
<p>现在我们搞清楚了@Configuration主要是用来做什么的了吧,它就是为了能够让我们spring,比如所我们的springboot或者spring在写上这种@Bean注解的时候(利用Java Config注解来完成对spring环境开发的时候),保证bean的一个作用域,保证它(bean)的生命周期跟它的作用域,包括Scope,Scope就是我们讲的单例(singletion)和原型(prototype)。</p>
<p>正常来说,我们在 B 中实现了 A 就应该是实例化两次,为什么会出现添加了 @Configuration 只实例化一次的情况那?</p>
<p>那么它没有执行两遍只有一个原因,你们可以思考一下,当我们一个方法调用的时候它的预期结果跟你想的不一样,那么你觉得是什么导致的。说白了,就是这个方法被改变了,这个方法不再是原来的这个方法,。因为我们这个方法,它的结果是必然的,它必然会产生一个类,但是我们调用两次它只产生一个类。那就违背了它的必然结果,那就说明了这个代码已经被别人改了。那么被随改了,肯定是被spring改了。那么按照我们现在所学的知识当中,我们要去改变一个方法的行为,没有改源码,可以用什么实现?</p>
<p>在这里用的是cglib动态代理。</p>
<p>不添加 @Configuration</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">main</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] args) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac </span><span style="--0:#FF79C6;--1:#BF3441">=</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E">(MyConfigurationConfig.class);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">MyConfigurationConfig</span><span style="--0:#F8F8F2;--1:#24292E"> myConfigurationConfig </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ac.</span><span style="--0:#50FA7B;--1:#6F42C1">getBean</span><span style="--0:#F8F8F2;--1:#24292E">(MyConfigurationConfig.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(myConfigurationConfig);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">结果</span><span style="--0:#FF79C6;--1:#BF3441">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">(注释掉 @</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">xxx.MyConfigurationConfig@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">2833cc44</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">(加了 @</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">xxx.MyConfigurationConfig$$EnhancerBySpringCGLIB$$e52e37ff@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">588df31b</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public static void main(String[] args) {    AnnotationConfigApplicationContext ac =        new AnnotationConfigApplicationContext(MyConfigurationConfig.class);    MyConfigurationConfig myConfigurationConfig = ac.getBean(MyConfigurationConfig.class);  System.out.println(myConfigurationConfig);}结果:  (注释掉 @Configuration)  xxx.MyConfigurationConfig@2833cc44  (加了 @Configuration)  xxx.MyConfigurationConfig$$EnhancerBySpringCGLIB$$e52e37ff@588df31b"><div></div></button></div></figure></div>
<p>当然这里,会有疑问既然加不加 @Configuration 都可以获取 bean,那为什么还要使用那?</p>
<p>别傻了,小伙子,这里只是一个特殊情况,我们自己手动注册实现的,AnnotationConfigApplicationContext 里面会执行 this.register(componentClasses),正常情况,不添加 @Configuration,Spring 容器根本就不会扫描,怎么可能会获取到 bean 那。</p>
<h5 id="import">@Import</h5>
<ul>
<li>
<p>提供了一种显示地从其他地方加载配置类的方式,这样可以避免使用性能较差的组件扫描(Component Scan)</p>
</li>
<li>
<p>属性值</p>
<ul>
<li>
<p>@Import 的属性值可以是一个 配置类,此处的配置类,可以是一个 @Configuration 注解标注的配置类(FULL 配置类)、一个标注了 @Import Component ComponentScan ImportResource 或者含有被 Bean 注解标注的方法(LITE 配置类)、甚至一个普通类</p>
</li>
<li>
<p>一个实现了 <strong>ImportSelector</strong> 的类</p>
</li>
<li>
<p>一个实现了 <strong>ImportBeanDefinitionRegistrar</strong> 的类</p>
</li>
</ul>
</li>
</ul>
<p><code>@Import</code> 和 <code>@Configuration</code> 共同使用,用于在容器中注册对应的 <strong>BeanDefinition</strong></p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Target</span><span style="--0:#F8F8F2;--1:#24292E">(ElementType.TYPE)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Retention</span><span style="--0:#F8F8F2;--1:#24292E">(RetentionPolicy.RUNTIME)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Documented</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> @</span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Class</span><span style="--0:#FF79C6;--1:#BF3441">&lt;?&gt;</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">value</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documentedpublic @interface Import {  Class<?>[] value();}"><div></div></button></div></figure></div>
<h5 id="配置类">配置类</h5>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">C</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">C</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">...c</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ComponentScan</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">com.xsn.configurationtest</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(C.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyConfigurationConfig</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">main</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] args) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac </span><span style="--0:#FF79C6;--1:#BF3441">=</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E">(MyConfigurationConfig.class);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">C</span><span style="--0:#F8F8F2;--1:#24292E"> c </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ac.</span><span style="--0:#50FA7B;--1:#6F42C1">getBean</span><span style="--0:#F8F8F2;--1:#24292E">(C.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(c);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">结果</span><span style="--0:#FF79C6;--1:#BF3441">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">com.xsn.configurationtest.C@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">71ba6d4e</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public class C {  public C() {    System.out.println(&#34;...c&#34;);  }}@Configuration@ComponentScan(&#34;com.xsn.configurationtest&#34;)@Import(C.class)public class MyConfigurationConfig {}public static void main(String[] args) {  AnnotationConfigApplicationContext ac =      new AnnotationConfigApplicationContext(MyConfigurationConfig.class);  C c = ac.getBean(C.class);  System.out.println(c);}结果:com.xsn.configurationtest.C@71ba6d4e"><div></div></button></div></figure></div>
<p>类 <strong>C</strong> 就是一个普通类,同样也可以 <strong>Import</strong> 一个配置类(<strong>FULL</strong> &amp; <strong>LITE</strong>),如下</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(C.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">ImportConfiguration</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ComponentScan</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">com.xsn.configurationtest</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(ImportConfiguration.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyConfigurationConfig</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">main</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] args) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac </span><span style="--0:#FF79C6;--1:#BF3441">=</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E">(MyConfigurationConfig.class);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">C</span><span style="--0:#F8F8F2;--1:#24292E"> c </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ac.</span><span style="--0:#50FA7B;--1:#6F42C1">getBean</span><span style="--0:#F8F8F2;--1:#24292E">(C.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(c);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">结果</span><span style="--0:#FF79C6;--1:#BF3441">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">com.xsn.configurationtest.C@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">71ba6d4e</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Configuration@Import(C.class)public class ImportConfiguration {}@Configuration@ComponentScan(&#34;com.xsn.configurationtest&#34;)@Import(ImportConfiguration.class)public class MyConfigurationConfig {}public static void main(String[] args) {  AnnotationConfigApplicationContext ac =      new AnnotationConfigApplicationContext(MyConfigurationConfig.class);  C c = ac.getBean(C.class);  System.out.println(c);}结果:com.xsn.configurationtest.C@71ba6d4e"><div></div></button></div></figure></div>
<h6 id="importselector">ImportSelector</h6>
<p>同样,<code>@Import</code> 注解可以 <strong>Import</strong> 一个 <strong>ImportSelector</strong> 的实现类</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">ImportSelector</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">// 返回要 Import 的配置类名</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">selectImports</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">importingClassMetadata</span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">// 允许提供一个 Predicate 过滤 selectImports 方法对应的类</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Nullable</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Predicate</span><span style="--0:#F8F8F2">&lt;</span></span><span style="--0:#F8F8F2;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">&gt; </span><span style="--0:#50FA7B;--1:#6F42C1">getExclusionFilter</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public interface ImportSelector {  // 返回要 Import 的配置类名  String[] selectImports(AnnotationMetadata importingClassMetadata);  // 允许提供一个 Predicate 过滤 selectImports 方法对应的类  @Nullable  default Predicate<String> getExclusionFilter() {    return null;  }}"><div></div></button></div></figure></div>
<p>类似于直接 Import 配置类,但是 ImportSelector 的实现类可以基于对应配置类的 AnnotationMetadata 属性进行 select,同时还可以实现各种 Aware 接口类似 EnvironmentAware BeanFactoryAware 等,持有对应的 Environment BeanFactory 来进行 select</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyImportSelector</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">ImportSelector</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">selectImports</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">importingClassMetadata</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">StandardAnnotationMetadata</span><span style="--0:#F8F8F2;--1:#24292E"> standardAnnotationMetadata</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (StandardAnnotationMetadata) importingClassMetadata;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[]{</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">com.xsn.configurationtest.C</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Predicate</span><span style="--0:#F8F8F2">&lt;</span></span><span style="--0:#F8F8F2;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">&gt; </span><span style="--0:#50FA7B;--1:#6F42C1">getExclusionFilter</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ComponentScan</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">com.xsn.configurationtest</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(MyImportSelector.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyConfigurationConfig</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">main</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] args) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac </span><span style="--0:#FF79C6;--1:#BF3441">=</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E">(MyConfigurationConfig.class);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">C</span><span style="--0:#F8F8F2;--1:#24292E"> c </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ac.</span><span style="--0:#50FA7B;--1:#6F42C1">getBean</span><span style="--0:#F8F8F2;--1:#24292E">(C.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">System.out.</span><span style="--0:#50FA7B;--1:#6F42C1">println</span><span style="--0:#F8F8F2;--1:#24292E">(c);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">结果</span><span style="--0:#FF79C6;--1:#BF3441">:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">com.xsn.configurationtest.C@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">5ab956d7</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public class MyImportSelector implements ImportSelector {  @Override  public String[] selectImports(AnnotationMetadata importingClassMetadata) {    StandardAnnotationMetadata standardAnnotationMetadata        = (StandardAnnotationMetadata) importingClassMetadata;    return new String[]{&#34;com.xsn.configurationtest.C&#34;};  }  @Override  public Predicate<String> getExclusionFilter() {    return null;  }}@Configuration@ComponentScan(&#34;com.xsn.configurationtest&#34;)@Import(MyImportSelector.class)public class MyConfigurationConfig {}public static void main(String[] args) {  AnnotationConfigApplicationContext ac =      new AnnotationConfigApplicationContext(MyConfigurationConfig.class);  C c = ac.getBean(C.class);  System.out.println(c);}结果:com.xsn.configurationtest.C@5ab956d7"><div></div></button></div></figure></div>
<h6 id="deferredimportselector">DeferredImportSelector</h6>
<p><strong>DeferredImportSelector</strong> 继承了 <strong>ImportSelector</strong>,当 <strong>Import</strong> 的是一个 <strong>DeferredImportSelector</strong> 时,该 <strong>DeferredImportSelector</strong> 会在最后解析,主要用于有 <code>@Conditional</code> 注解的配置类</p>
<h6 id="importbeandefinitionregistrar">ImportBeanDefinitionRegistrar</h6>
<p>ImportBeanDefinitionRegistrar 通常和@Import注解配合使用,@Import注解将ImportBeanDefinitionRegistrar的实现类注入到@Import所属根类的ConfigurationClass属性中,在注册跟类的BeanDefinition时,会遍历调用其@Import的所有ImportBeanDefinitionRegistrar接口的 registerBeanDefinitions()方法。</p>
<p><strong>介绍:</strong></p>
<p>ImportBeanDefinitionRegistrar 是 Spring 对外提供的动态注册 BeanDefinition 的接口,并且 Spring 内部大多也用该接口动态注册 BeanDefinition。</p>
<blockquote>
<p>ImportBeanDefinitionRegistrar 接口的 Bean 不会直接注册到 IOC 容器,它的执行时机比较早,发生在 SpringBoot 启动流程的注册 BeanDefinition。</p>
<p>ImportBeanDefinitionRegistrar 接口提供了 registerBeanDefinitions(AnnotationMetadata, BeanDefinitionRegistry) 供子类重写:</p>
<ul>
<li>开发者可以直接调用 BeanDefinitionRegistry#registerBeanDefinition() 方法传入 BeanDefinitionName 和对应的 BeanDefinition 对象,直接往 Spring 临时容器(beanDefinitionMap)中注册。</li>
<li>所谓的 Spring 临时容器是指: 在 Spring 解析类时会将所有符合注册要求的类放到一个临时容器中,后续执行完 BeanPostProcessor、initMessageSource、initApplicationEventMulticaster、
onRefresh 等操作之后,才会从临时容器中取出所有类,真正注入到 Spring 容器(singletonObjects)中。</li>
</ul>
</blockquote>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">ImportBeanDefinitionRegistrar</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">// 基于 AnnotationMetadata BeanDefinitionRegistry 注册对应的 BeanDefinition</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">registerBeanDefinitions</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">importingClassMetadata</span><span style="--1:#24292E"><span style="--0:#F8F8F2">, </span><span style="--0:#8BE9FD;--0fs:italic">BeanDefinitionRegistry</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">registry</span><span style="--0:#F8F8F2;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">      </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">BeanNameGenerator</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">importBeanNameGenerator</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#6F42C1">registerBeanDefinitions</span><span style="--0:#F8F8F2;--1:#24292E">(importingClassMetadata, registry);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">registerBeanDefinitions</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">importingClassMetadata</span><span style="--1:#24292E"><span style="--0:#F8F8F2">, </span><span style="--0:#8BE9FD;--0fs:italic">BeanDefinitionRegistry</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">registry</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public interface ImportBeanDefinitionRegistrar {  // 基于 AnnotationMetadata BeanDefinitionRegistry 注册对应的 BeanDefinition  default void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry,      BeanNameGenerator importBeanNameGenerator) {    registerBeanDefinitions(importingClassMetadata, registry);  }  default void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {  }}"><div></div></button></div></figure></div>
<p><strong>ImportBeanDefinitionRegistrar</strong> 也可以实现各种 <strong>Aware</strong> 接口类似 <strong>EnvironmentAware</strong> <strong>BeanFactoryAware</strong> 等,持有对应的 <strong>Environment</strong> <strong>BeanFactory</strong> 来进行 <code>register</code></p>
<p>我们使用 <strong>Spring AOP</strong> 时,在配置类上添加的 <code>@EnableAspectJAutoProxy</code> 注解</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Target</span><span style="--0:#F8F8F2;--1:#24292E">(ElementType.TYPE)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Retention</span><span style="--0:#F8F8F2;--1:#24292E">(RetentionPolicy.RUNTIME)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Documented</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(AspectJAutoProxyRegistrar.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> @</span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableAspectJAutoProxy</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Import(AspectJAutoProxyRegistrar.class)public @interface EnableAspectJAutoProxy"><div></div></button></div></figure></div>
<p>它 Import 的 AspectJAutoProxyRegistrar 便是一个 ImportBeanDefinitionRegistrar,该类会帮我们注册一个 AnnotationAwareAspectJAutoProxyCreator 的 BeanDefinition,实现 AOP 代理</p>
<p><strong>ImportBeanDefinitionRegistrar在 SpringBoot 启动流程中的体现?</strong></p>
<ol>
<li>
<p>处理ImportBeanDefinitionRegistrar的入口</p>
<p>在 SpringBoot 启动流程中,通过 ConfigurationClassParser#doProcessConfigurationClass() 解析启动类的注解时,会做@Import注解的process操作,即进入到ConfigurationClassParser#processImports()方法。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Nullable</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">SourceClass</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">doProcessConfigurationClass</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">ConfigurationClass</span><span style="--0:#F8F8F2"> configClass, </span><span style="--0:#8BE9FD;--0fs:italic">SourceClass</span><span style="--0:#F8F8F2"> sourceClass, </span><span style="--0:#8BE9FD;--0fs:italic">Predicate</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">String</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> filter) throws IOException {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">isAnnotated</span><span style="--0:#F8F8F2;--1:#24292E">(Component.class.</span><span style="--0:#50FA7B;--1:#6F42C1">getName</span><span style="--0:#F8F8F2;--1:#24292E">())) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">processMemberClasses</span><span style="--0:#F8F8F2;--1:#24292E">(configClass, sourceClass, filter);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Iterator</span><span style="--0:#F8F8F2;--1:#24292E"> var4 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> AnnotationConfigUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">attributesForRepeatable</span><span style="--0:#F8F8F2;--1:#24292E">(sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">(), PropertySources.class, PropertySource.class).</span><span style="--0:#50FA7B;--1:#6F42C1">iterator</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationAttributes</span><span style="--0:#F8F8F2;--1:#24292E"> importResource;</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">while</span><span style="--0:#F8F8F2;--1:#24292E">(var4.</span><span style="--0:#50FA7B;--1:#6F42C1">hasNext</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">importResource </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (AnnotationAttributes)var4.</span><span style="--0:#50FA7B;--1:#6F42C1">next</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (</span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.environment </span><span style="--0:#FF79C6;--1:#BF3441">instanceof</span><span style="--0:#F8F8F2;--1:#24292E"> ConfigurableEnvironment) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">processPropertySource</span><span style="--0:#F8F8F2;--1:#24292E">(importResource);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">} </span><span style="--0:#FF79C6;--1:#BF3441">else</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.logger.</span><span style="--0:#50FA7B;--1:#6F42C1">info</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">Ignoring @PropertySource annotation on [</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">+</span><span style="--0:#F8F8F2;--1:#24292E"> sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">getClassName</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">+</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">]. Reason: Environment must implement ConfigurableEnvironment</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Set</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">AnnotationAttributes</span><span style="--0:#F8F8F2;--1:#24292E">&gt; componentScans </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> AnnotationConfigUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">attributesForRepeatable</span><span style="--0:#F8F8F2;--1:#24292E">(sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">(), ComponentScans.class, ComponentScan.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (</span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#F8F8F2;--1:#24292E">componentScans.</span><span style="--0:#50FA7B;--1:#6F42C1">isEmpty</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">&amp;&amp;</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.conditionEvaluator.</span><span style="--0:#50FA7B;--1:#6F42C1">shouldSkip</span><span style="--0:#F8F8F2;--1:#24292E">(sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">(), ConfigurationPhase.REGISTER_BEAN)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Iterator</span><span style="--0:#F8F8F2;--1:#24292E"> var14 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> componentScans.</span><span style="--0:#50FA7B;--1:#6F42C1">iterator</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">while</span><span style="--0:#F8F8F2;--1:#24292E">(var14.</span><span style="--0:#50FA7B;--1:#6F42C1">hasNext</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">            </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationAttributes</span><span style="--0:#F8F8F2;--1:#24292E"> componentScan </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (AnnotationAttributes)var14.</span><span style="--0:#50FA7B;--1:#6F42C1">next</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">            </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Set</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">BeanDefinitionHolder</span><span style="--0:#F8F8F2;--1:#24292E">&gt; scannedBeanDefinitions </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.componentScanParser.</span><span style="--0:#50FA7B;--1:#6F42C1">parse</span><span style="--0:#F8F8F2;--1:#24292E">(componentScan, sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">getClassName</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">            </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Iterator</span><span style="--0:#F8F8F2;--1:#24292E"> var8 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> scannedBeanDefinitions.</span><span style="--0:#50FA7B;--1:#6F42C1">iterator</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#FF79C6;--1:#BF3441">while</span><span style="--0:#F8F8F2;--1:#24292E">(var8.</span><span style="--0:#50FA7B;--1:#6F42C1">hasNext</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">                </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">BeanDefinitionHolder</span><span style="--0:#F8F8F2;--1:#24292E"> holder </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (BeanDefinitionHolder)var8.</span><span style="--0:#50FA7B;--1:#6F42C1">next</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">                </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">BeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E"> bdCand </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> holder.</span><span style="--0:#50FA7B;--1:#6F42C1">getBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">getOriginatingBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (bdCand </span><span style="--0:#FF79C6;--1:#BF3441">==</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                    </span></span><span style="--0:#F8F8F2;--1:#24292E">bdCand </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> holder.</span><span style="--0:#50FA7B;--1:#6F42C1">getBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (ConfigurationClassUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">checkConfigurationClassCandidate</span><span style="--0:#F8F8F2;--1:#24292E">(bdCand, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.metadataReaderFactory)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">                    </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">parse</span><span style="--0:#F8F8F2;--1:#24292E">(bdCand.</span><span style="--0:#50FA7B;--1:#6F42C1">getBeanClassName</span><span style="--0:#F8F8F2;--1:#24292E">(), holder.</span><span style="--0:#50FA7B;--1:#6F42C1">getBeanName</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">processImports</span><span style="--0:#F8F8F2;--1:#24292E">(configClass, sourceClass, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">getImports</span><span style="--0:#F8F8F2;--1:#24292E">(sourceClass), filter, </span><span style="--0:#BD93F9;--1:#005CC5">true</span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">importResource </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> AnnotationConfigUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">attributesFor</span><span style="--0:#F8F8F2;--1:#24292E">(sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">(), ImportResource.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (importResource </span><span style="--0:#FF79C6;--1:#BF3441">!=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] resources </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> importResource.</span><span style="--0:#50FA7B;--1:#6F42C1">getStringArray</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">locations</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Class</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">?</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">extends</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#F8F8F2;--1:#BF3441">BeanDefinitionReader</span><span style="--0:#F8F8F2;--1:#24292E">&gt; readerClass </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> importResource.</span><span style="--0:#50FA7B;--1:#6F42C1">getClass</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">reader</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] var20 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> resources;</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">int</span><span style="--0:#F8F8F2;--1:#24292E"> var22 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> resources.length;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">for</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">int</span><span style="--0:#F8F8F2;--1:#24292E"> var23 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">0</span><span style="--0:#F8F8F2;--1:#24292E">; var23 </span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E"> var22; </span><span style="--0:#FF79C6;--1:#BF3441">++</span><span style="--0:#F8F8F2;--1:#24292E">var23) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">            </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> resource </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> var20[var23];</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">            </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> resolvedResource </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.environment.</span><span style="--0:#50FA7B;--1:#6F42C1">resolveRequiredPlaceholders</span><span style="--0:#F8F8F2;--1:#24292E">(resource);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">addImportedResource</span><span style="--0:#F8F8F2;--1:#24292E">(resolvedResource, readerClass);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Set</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">MethodMetadata</span><span style="--0:#F8F8F2;--1:#24292E">&gt; beanMethods </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">retrieveBeanMethodMetadata</span><span style="--0:#F8F8F2;--1:#24292E">(sourceClass);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Iterator</span><span style="--0:#F8F8F2;--1:#24292E"> var18 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> beanMethods.</span><span style="--0:#50FA7B;--1:#6F42C1">iterator</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">while</span><span style="--0:#F8F8F2;--1:#24292E">(var18.</span><span style="--0:#50FA7B;--1:#6F42C1">hasNext</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">MethodMetadata</span><span style="--0:#F8F8F2;--1:#24292E"> methodMetadata </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (MethodMetadata)var18.</span><span style="--0:#50FA7B;--1:#6F42C1">next</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">addBeanMethod</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">BeanMethod</span><span style="--0:#F8F8F2;--1:#24292E">(methodMetadata, configClass));</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">processInterfaces</span><span style="--0:#F8F8F2;--1:#24292E">(configClass, sourceClass);</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">hasSuperClass</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> superclass </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">getSuperClassName</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (superclass </span><span style="--0:#FF79C6;--1:#BF3441">!=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">&amp;&amp;</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#F8F8F2;--1:#24292E">superclass.</span><span style="--0:#50FA7B;--1:#6F42C1">startsWith</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">java</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">) </span><span style="--0:#FF79C6;--1:#BF3441">&amp;&amp;</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.knownSuperclasses.</span><span style="--0:#50FA7B;--1:#6F42C1">containsKey</span><span style="--0:#F8F8F2;--1:#24292E">(superclass)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.knownSuperclasses.</span><span style="--0:#50FA7B;--1:#6F42C1">put</span><span style="--0:#F8F8F2;--1:#24292E">(superclass, configClass);</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> sourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getSuperClass</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Nullableprotected final SourceClass doProcessConfigurationClass(ConfigurationClass configClass, SourceClass sourceClass, Predicate<String> filter) throws IOException {    if (configClass.getMetadata().isAnnotated(Component.class.getName())) {        this.processMemberClasses(configClass, sourceClass, filter);    }    Iterator var4 = AnnotationConfigUtils.attributesForRepeatable(sourceClass.getMetadata(), PropertySources.class, PropertySource.class).iterator();    AnnotationAttributes importResource;    while(var4.hasNext()) {        importResource = (AnnotationAttributes)var4.next();        if (this.environment instanceof ConfigurableEnvironment) {            this.processPropertySource(importResource);        } else {            this.logger.info(&#34;Ignoring @PropertySource annotation on [&#34; + sourceClass.getMetadata().getClassName() + &#34;]. Reason: Environment must implement ConfigurableEnvironment&#34;);        }    }    Set<AnnotationAttributes> componentScans = AnnotationConfigUtils.attributesForRepeatable(sourceClass.getMetadata(), ComponentScans.class, ComponentScan.class);    if (!componentScans.isEmpty() &#38;&#38; !this.conditionEvaluator.shouldSkip(sourceClass.getMetadata(), ConfigurationPhase.REGISTER_BEAN)) {        Iterator var14 = componentScans.iterator();        while(var14.hasNext()) {            AnnotationAttributes componentScan = (AnnotationAttributes)var14.next();            Set<BeanDefinitionHolder> scannedBeanDefinitions = this.componentScanParser.parse(componentScan, sourceClass.getMetadata().getClassName());            Iterator var8 = scannedBeanDefinitions.iterator();            while(var8.hasNext()) {                BeanDefinitionHolder holder = (BeanDefinitionHolder)var8.next();                BeanDefinition bdCand = holder.getBeanDefinition().getOriginatingBeanDefinition();                if (bdCand == null) {                    bdCand = holder.getBeanDefinition();                }                if (ConfigurationClassUtils.checkConfigurationClassCandidate(bdCand, this.metadataReaderFactory)) {                    this.parse(bdCand.getBeanClassName(), holder.getBeanName());                }            }        }    }    this.processImports(configClass, sourceClass, this.getImports(sourceClass), filter, true);    importResource = AnnotationConfigUtils.attributesFor(sourceClass.getMetadata(), ImportResource.class);    if (importResource != null) {        String[] resources = importResource.getStringArray(&#34;locations&#34;);        Class<? extends BeanDefinitionReader> readerClass = importResource.getClass(&#34;reader&#34;);        String[] var20 = resources;        int var22 = resources.length;        for(int var23 = 0; var23 < var22; ++var23) {            String resource = var20[var23];            String resolvedResource = this.environment.resolveRequiredPlaceholders(resource);            configClass.addImportedResource(resolvedResource, readerClass);        }    }    Set<MethodMetadata> beanMethods = this.retrieveBeanMethodMetadata(sourceClass);    Iterator var18 = beanMethods.iterator();    while(var18.hasNext()) {        MethodMetadata methodMetadata = (MethodMetadata)var18.next();        configClass.addBeanMethod(new BeanMethod(methodMetadata, configClass));    }    this.processInterfaces(configClass, sourceClass);    if (sourceClass.getMetadata().hasSuperClass()) {        String superclass = sourceClass.getMetadata().getSuperClassName();        if (superclass != null &#38;&#38; !superclass.startsWith(&#34;java&#34;) &#38;&#38; !this.knownSuperclasses.containsKey(superclass)) {            this.knownSuperclasses.put(superclass, configClass);            return sourceClass.getSuperClass();        }    }    return null;}"><div></div></button></div></figure></div>
</li>
<li>
<p>将 ImportBeanDefinitionRegistrar 添加到所属 ConfigClass 的一个属性上
进入到 ConfigurationClassParser#processImports() 方法中,接着看processImports()方法针对ImportBeanDefinitionRegistrar接口的具体处理逻辑</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (candidate.</span><span style="--0:#50FA7B;--1:#6F42C1">isAssignable</span><span style="--0:#F8F8F2;--1:#24292E">(ImportBeanDefinitionRegistrar.class)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">candidateClass </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> candidate.</span><span style="--0:#50FA7B;--1:#6F42C1">loadClass</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">ImportBeanDefinitionRegistrar</span><span style="--0:#F8F8F2;--1:#24292E"> registrar </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (ImportBeanDefinitionRegistrar)ParserStrategyUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">instantiateClass</span><span style="--0:#F8F8F2;--1:#24292E">(candidateClass, ImportBeanDefinitionRegistrar.class, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.environment, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.resourceLoader, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.registry);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">addImportBeanDefinitionRegistrar</span><span style="--0:#F8F8F2;--1:#24292E">(registrar, currentSourceClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="if (candidate.isAssignable(ImportBeanDefinitionRegistrar.class)) {    candidateClass = candidate.loadClass();    ImportBeanDefinitionRegistrar registrar = (ImportBeanDefinitionRegistrar)ParserStrategyUtils.instantiateClass(candidateClass, ImportBeanDefinitionRegistrar.class, this.environment, this.resourceLoader, this.registry);    configClass.addImportBeanDefinitionRegistrar(registrar, currentSourceClass.getMetadata());}"><div></div></button></div></figure></div>
<p>processImports()方法中会判断如果一个类A实现了ImportBeanDefinitionRegistrar接口,会对类A做实例化,并将其存储到当前ConfigClass的一个属性(Map类型的变量importBeanDefinitionRegistrars)中,以便在注册ConfigurationClass到Spring容器时,拿出importBeanDefinitionRegistrars中的所有内容,执行每个ImportBeanDefinitionRegistrar的registerBeanDefinitions()方法。</p>
</li>
<li>
<p>执行 ImportBeanDefinitionRegistrar 接口方法的时机</p>
<p>解析完所有的candidates候选类之后,会进入到 <code>ConfigurationClassBeanDefinitionReader#loadBeanDefinitions(Set&lt;ConfigurationClass&gt;)</code> 方法对所有的ConfigurationClass做条件装配、属性处理,然后将相应BeanDefinition注册到Spring中。
ConfigurationClassPostProcessor#processConfigBeanDefinitions</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">processConfigBeanDefinitions</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">BeanDefinitionRegistry</span><span style="--0:#F8F8F2"> registry) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">...</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">do</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#96A1C2;--1:#616972">// 解析启动类中的所有 ConfigurationClass 或者说 BeanDefinition</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">parser.</span><span style="--0:#50FA7B;--1:#6F42C1">parse</span><span style="--0:#F8F8F2;--1:#24292E">(candidates);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">parser.</span><span style="--0:#50FA7B;--1:#6F42C1">validate</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">      </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Set</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">ConfigurationClass</span><span style="--0:#F8F8F2;--1:#24292E">&gt; configClasses </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">LinkedHashSet</span><span style="--0:#F8F8F2;--1:#24292E">(parser.</span><span style="--0:#50FA7B;--1:#6F42C1">getConfigurationClasses</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">configClasses.</span><span style="--0:#50FA7B;--1:#6F42C1">removeAll</span><span style="--0:#F8F8F2;--1:#24292E">(alreadyParsed);</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (</span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.reader </span><span style="--0:#FF79C6;--1:#BF3441">==</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">null</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.reader </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">ConfigurationClassBeanDefinitionReader</span><span style="--0:#F8F8F2;--1:#24292E">(registry, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.sourceExtractor, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.resourceLoader, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.environment, </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.importBeanNameGenerator, parser.</span><span style="--0:#50FA7B;--1:#6F42C1">getImportRegistry</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#96A1C2;--1:#616972">// 真正加载所有的 ConfigurationClass</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.reader.</span><span style="--0:#50FA7B;--1:#6F42C1">loadBeanDefinitions</span><span style="--0:#F8F8F2;--1:#24292E">(configClasses);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">alreadyParsed.</span><span style="--0:#50FA7B;--1:#6F42C1">addAll</span><span style="--0:#F8F8F2;--1:#24292E">(configClasses);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">candidates.</span><span style="--0:#50FA7B;--1:#6F42C1">clear</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">      </span></span><span style="--0:#F8F8F2;--1:#24292E">...</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">} </span><span style="--0:#FF79C6;--1:#BF3441">while</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#F8F8F2;--1:#24292E">candidates.</span><span style="--0:#50FA7B;--1:#6F42C1">isEmpty</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public void processConfigBeanDefinitions(BeanDefinitionRegistry registry) {  ...  do {      // 解析启动类中的所有 ConfigurationClass 或者说 BeanDefinition      parser.parse(candidates);      parser.validate();      Set<ConfigurationClass> configClasses = new LinkedHashSet(parser.getConfigurationClasses());      configClasses.removeAll(alreadyParsed);      if (this.reader == null) {          this.reader = new ConfigurationClassBeanDefinitionReader(registry, this.sourceExtractor, this.resourceLoader, this.environment, this.importBeanNameGenerator, parser.getImportRegistry());      }      // 真正加载所有的 ConfigurationClass      this.reader.loadBeanDefinitions(configClasses);      alreadyParsed.addAll(configClasses);      candidates.clear();      ...  } while(!candidates.isEmpty());}"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">loadBeanDefinitions</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">Set</span></span><span style="--0:#FF79C6;--1:#BF3441">&lt;</span><span style="--0:#F8F8F2;--1:#24292E">ConfigurationClass</span><span style="--0:#FF79C6;--1:#BF3441">&gt;</span><span style="--0:#F8F8F2;--1:#24292E"> configurationModel) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">TrackedConditionEvaluator</span><span style="--0:#F8F8F2;--1:#24292E"> trackedConditionEvaluator </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">TrackedConditionEvaluator</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Iterator</span><span style="--0:#F8F8F2;--1:#24292E"> var3 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> configurationModel.</span><span style="--0:#50FA7B;--1:#6F42C1">iterator</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">while</span><span style="--0:#F8F8F2;--1:#24292E">(var3.</span><span style="--0:#50FA7B;--1:#6F42C1">hasNext</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">ConfigurationClass</span><span style="--0:#F8F8F2;--1:#24292E"> configClass </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (ConfigurationClass)var3.</span><span style="--0:#50FA7B;--1:#6F42C1">next</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">loadBeanDefinitionsForConfigurationClass</span><span style="--0:#F8F8F2;--1:#24292E">(configClass, trackedConditionEvaluator);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">private</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">loadBeanDefinitionsForConfigurationClass</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">ConfigurationClass</span><span style="--0:#F8F8F2"> configClass, </span><span style="--0:#8BE9FD;--0fs:italic">TrackedConditionEvaluator</span><span style="--0:#F8F8F2"> trackedConditionEvaluator) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 类注册阶段的条件装配</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (trackedConditionEvaluator.</span><span style="--0:#50FA7B;--1:#6F42C1">shouldSkip</span><span style="--0:#F8F8F2;--1:#24292E">(configClass)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> beanName </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getBeanName</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (StringUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">hasLength</span><span style="--0:#F8F8F2;--1:#24292E">(beanName) </span><span style="--0:#FF79C6;--1:#BF3441">&amp;&amp;</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.registry.</span><span style="--0:#50FA7B;--1:#6F42C1">containsBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">(beanName)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.registry.</span><span style="--0:#50FA7B;--1:#6F42C1">removeBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">(beanName);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.importRegistry.</span><span style="--0:#50FA7B;--1:#6F42C1">removeImportingClass</span><span style="--0:#F8F8F2;--1:#24292E">(configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getMetadata</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">getClassName</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">} </span><span style="--0:#FF79C6;--1:#BF3441">else</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">isImported</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">registerBeanDefinitionForImportedConfigurationClass</span><span style="--0:#F8F8F2;--1:#24292E">(configClass);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Iterator</span><span style="--0:#F8F8F2;--1:#24292E"> var3 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getBeanMethods</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">iterator</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// 处理 @Bean 方法</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">while</span><span style="--0:#F8F8F2;--1:#24292E">(var3.</span><span style="--0:#50FA7B;--1:#6F42C1">hasNext</span><span style="--0:#F8F8F2;--1:#24292E">()) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">            </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">BeanMethod</span><span style="--0:#F8F8F2;--1:#24292E"> beanMethod </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> (BeanMethod)var3.</span><span style="--0:#50FA7B;--1:#6F42C1">next</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">loadBeanDefinitionsForBeanMethod</span><span style="--0:#F8F8F2;--1:#24292E">(beanMethod);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">loadBeanDefinitionsFromImportedResources</span><span style="--0:#F8F8F2;--1:#24292E">(configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getImportedResources</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// 执行 @Import 导入的 ImportBeanDefinitionRegistrar 接口方法</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">loadBeanDefinitionsFromRegistrars</span><span style="--0:#F8F8F2;--1:#24292E">(configClass.</span><span style="--0:#50FA7B;--1:#6F42C1">getImportBeanDefinitionRegistrars</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public void loadBeanDefinitions(Set<ConfigurationClass> configurationModel) {    TrackedConditionEvaluator trackedConditionEvaluator = new TrackedConditionEvaluator();    Iterator var3 = configurationModel.iterator();    while(var3.hasNext()) {        ConfigurationClass configClass = (ConfigurationClass)var3.next();        this.loadBeanDefinitionsForConfigurationClass(configClass, trackedConditionEvaluator);    }}private void loadBeanDefinitionsForConfigurationClass(ConfigurationClass configClass, TrackedConditionEvaluator trackedConditionEvaluator) {    // 类注册阶段的条件装配    if (trackedConditionEvaluator.shouldSkip(configClass)) {        String beanName = configClass.getBeanName();        if (StringUtils.hasLength(beanName) &#38;&#38; this.registry.containsBeanDefinition(beanName)) {            this.registry.removeBeanDefinition(beanName);        }        this.importRegistry.removeImportingClass(configClass.getMetadata().getClassName());    } else {        if (configClass.isImported()) {            this.registerBeanDefinitionForImportedConfigurationClass(configClass);        }        Iterator var3 = configClass.getBeanMethods().iterator();        // 处理 @Bean 方法        while(var3.hasNext()) {            BeanMethod beanMethod = (BeanMethod)var3.next();            this.loadBeanDefinitionsForBeanMethod(beanMethod);        }        this.loadBeanDefinitionsFromImportedResources(configClass.getImportedResources());        // 执行 @Import 导入的 ImportBeanDefinitionRegistrar 接口方法        this.loadBeanDefinitionsFromRegistrars(configClass.getImportBeanDefinitionRegistrars());    }}"><div></div></button></div></figure></div>
<blockquote>
<p>在加载并注册启动类的BeanDefinition时,会将启动类ConfigurationClass下的一些属性进行解析处理,其中就包括对@Import的所有ImportBeanDefinitionRegistrar接口方法进行执行。</p>
</blockquote>
</li>
</ol>
<h3 id="spring-自动装配">Spring 自动装配</h3>
<p>自动配置: Auto-Configuration</p>
<p>自动装配: Autowire</p>
<p>这是两个不同的东西。</p>
<h4 id="spring注解发展过程">Spring注解发展过程</h4>
<p>SpringBoot的自动装配依赖于注解,所以我们先来看一下注解的发展过程。</p>
<p>以下主要对核心注解进行说明</p>
<ul>
<li>
<p><strong>Spring1.0</strong>: 刚刚出现注解。</p>
<ul>
<li><code>@Transaction</code>: 简化了事务的操作</li>
</ul>
</li>
<li>
<p><strong>Spring2.0</strong>: 一些配置开始被 xml 代替,但是还不能完全摆脱xml,主要是component-scan标签。</p>
<ul>
<li><code>@Required</code>: 用在set方法上,如果加上该注解,表示在xml中必须设置属性的值,不然就会报错。</li>
<li><code>@Aspect</code> : AOP相关的一个注解,用来标识配置类。</li>
<li><code>@Autowired,@Qualifier</code>: 依赖注入</li>
<li><code>@Component,@Service,@Controller,@Repository</code>: 主要是声明一些bean对象放入IOC中。</li>
<li><code>@RequestMapping</code>: 声明请求对应的处理方法</li>
</ul>
</li>
<li>
<p><strong>Spring3.0</strong>: 已经完全可以用注解代替xml文件了</p>
<ul>
<li>
<p><code>@Configuration</code>: 配置类,代理xml配置文件</p>
</li>
<li>
<p><code>@ComponentScan</code>: 扫描其他注解,代理xml中的component-scan标签。</p>
</li>
<li>
<p><code>@Import</code>: 只能用在类上,主要是用来加载第三方的类。</p>
<ul>
<li>
<p><code>@import(value = {XXX.class})</code>: 加载一个普通的类</p>
</li>
<li>
<p><code>@Import(MyImportSelector.class)</code>: 这种主要是根据业务选择性加载一些类。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// 继承该接口</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyImportSelector</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">ImportSelector</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 重写 selectImports 方法</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">selectImports</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">importingClassMetadata</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// 返回对象对应的类型的全类路径的字符串数组</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[]{XXX1.class.</span><span style="--0:#50FA7B;--1:#6F42C1">getName</span><span style="--0:#F8F8F2;--1:#24292E">(), XXX2.class.</span><span style="--0:#50FA7B;--1:#6F42C1">getName</span><span style="--0:#F8F8F2;--1:#24292E">()};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// 继承该接口public class MyImportSelector implements ImportSelector {    // 重写 selectImports 方法    @Override    public String[] selectImports(AnnotationMetadata importingClassMetadata) {        // 返回对象对应的类型的全类路径的字符串数组        return new String[]{XXX1.class.getName(), XXX2.class.getName()};    }}"><div></div></button></div></figure></div>
</li>
<li>
<p><code>@Import(MyImportBeanDefinitionRegistrar.class)</code>: 跟上面一样,都是根据业务选择性的加载一些类。只是返回的内容不一样,上面是直接返回选择的类的全路径,这个是将加载的类注册到一个BeanDefinitionRegistry中返回。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyImportBeanDefinitionRegistrar</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">ImportBeanDefinitionRegistrar</span><span style="--0:#F8F8F2;--1:#24292E"> {</span><span style="--0:#96A1C2;--1:#616972">//继承该接口</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span><span style="--0:#F8F8F2;--1:#24292E">   </span><span style="--0:#96A1C2;--1:#616972">//重写registerBeanDefinitions方法</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">registerBeanDefinitions</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">importingClassMetadata</span><span style="--1:#24292E"><span style="--0:#F8F8F2">, </span><span style="--0:#8BE9FD;--0fs:italic">BeanDefinitionRegistry</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">registry</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">         </span><span style="--0:#96A1C2;--1:#616972">// 将需要注册的对象封装为 RootBeanDefinition 对象</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">RootBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E"> xxx1 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">RootBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">(XXX1.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">registry.</span><span style="--0:#50FA7B;--1:#6F42C1">registerBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">xxx1</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">, xxx1);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//再注册一个</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">RootBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E"> xxx2 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">RootBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">(XXX2.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">registry.</span><span style="--0:#50FA7B;--1:#6F42C1">registerBeanDefinition</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">xxx2</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">, xxx2);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public class MyImportBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {//继承该接口    @Override   //重写registerBeanDefinitions方法    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) {         // 将需要注册的对象封装为 RootBeanDefinition 对象        RootBeanDefinition xxx1 = new RootBeanDefinition(XXX1.class);        registry.registerBeanDefinition(&#34;xxx1&#34;, xxx1);        //再注册一个        RootBeanDefinition xxx2 = new RootBeanDefinition(XXX2.class);        registry.registerBeanDefinition(&#34;xxx2&#34;, xxx2);    }}"><div></div></button></div></figure></div>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Spring4.0</strong>:</p>
<ul>
<li>
<p><code>@Conditional</code>: 按照一定的条件进行判断,满足条件就给容器注册Bean实例。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">/**</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">* 定义一个 Condition 接口的是实现</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#96A1C2;--1:#616972"> </span></span><span style="--0:#96A1C2;--1:#616972">*/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyCondition</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">Condition</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">boolean</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">matches</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">ConditionContext</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">context</span><span style="--1:#24292E"><span style="--0:#F8F8F2">, </span><span style="--0:#8BE9FD;--0fs:italic">AnnotatedTypeMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">metadata</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//业务逻辑...</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">false</span><span style="--0:#F8F8F2;--1:#24292E">; </span><span style="--0:#96A1C2;--1:#616972">// 默认返回false</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * 定义一个 Condition 接口的是实现 */public class MyCondition implements Condition {    @Override    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {        //业务逻辑...        return false; // 默认返回false    }}"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">//使用</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">JavaConfig</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Bean</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 条件注解,添加的类型必须是 实现了 Condition 接口的类型</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// MyCondition的 matches 方法返回true 则注入,返回false 则不注入</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Conditional</span><span style="--0:#F8F8F2;--1:#24292E">(MyCondition.class)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">StudentService</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">studentService</span><span style="--0:#F8F8F2;--1:#24292E">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">StudentService</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="//使用@Configurationpublic class JavaConfig {    @Bean    // 条件注解,添加的类型必须是 实现了 Condition 接口的类型    // MyCondition的 matches 方法返回true 则注入,返回false 则不注入    @Conditional(MyCondition.class)    public StudentService studentService() {        return new StudentService();    }}"><div></div></button></div></figure></div>
</li>
</ul>
</li>
<li>
<p><strong>Spring5.0</strong>:</p>
<ul>
<li><code>@Indexed</code>: 在Spring Boot应用场景中,大量使用 @ComponentScan 扫描,导致Spring模式的注解解析时间耗时增大,因此,5.0时代引入 @Indexed,为Spring模式注解添加索引。
<ul>
<li>当我们在项目中使用了 @Indexed 之后,编译打包的时候会在项目中自动生成METAINT/spring.components文件。根据该文件进行扫描注入,可以提高效率。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="springboot自动装配原理">SpringBoot自动装配原理</h4>
<p>自动装配还是利用了SpringFactoriesLoader来加载META-INF/spring.factoires文件里所有配置的EnableAutoConfgruation,它会经过exclude和filter等操作,最终确定要装配的类。</p>
<p>一切的开始都源于 @SpringBootApplication,它是一个组合注解</p>
<p>除了元注解之外,关注这三个注解:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">SpringBootConfiguration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableAutoConfiguration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ComponentScan</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan"><div></div></button></div></figure></div>
<ul>
<li>@SpringBootConfiguration 该注解的作用是用来指定扫描路径的,如果不指定特定的扫描路径的话,扫描的路径是当前修饰的类所在的包及其子包。</li>
<li>@SpringBootConfiguration 这个注解的本质其实是 @Configuration 注解。</li>
</ul>
<p>看来这个@EnableAutoConfiguration不简单</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(AutoConfigurationImportSelector.class)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Import(AutoConfigurationImportSelector.class)"><div></div></button></div></figure></div>
<p>它的内部主要是使用@import注解导入一个选择器。</p>
<p>那么我们看看这个AutoConfigurationImportSelector类</p>
<p>上文提到继承ImportSelector接口的类,需要重写 selectImports( ),那我们就看看这个方法</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">selectImports</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> annotationMetadata) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (</span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#50FA7B;--1:#6F42C1">isEnabled</span><span style="--0:#F8F8F2;--1:#24292E">(annotationMetadata)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> NO_IMPORTS;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AutoConfigurationEntry</span><span style="--0:#F8F8F2;--1:#24292E"> autoConfigurationEntry </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">getAutoConfigurationEntry</span><span style="--0:#F8F8F2;--1:#24292E">(annotationMetadata);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> StringUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">toStringArray</span><span style="--0:#F8F8F2;--1:#24292E">(autoConfigurationEntry.</span><span style="--0:#50FA7B;--1:#6F42C1">getConfigurations</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Override    public String[] selectImports(AnnotationMetadata annotationMetadata) {        if (!isEnabled(annotationMetadata)) {            return NO_IMPORTS;        }        AutoConfigurationEntry autoConfigurationEntry = getAutoConfigurationEntry(annotationMetadata);        return StringUtils.toStringArray(autoConfigurationEntry.getConfigurations());    }"><div></div></button></div></figure></div>
<p>该方法其实也没说啥,现在的重心就放在getAutoConfigurationEntry()中。</p>
<p>getAutoConfigurationEntry()</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">protected</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">AutoConfigurationEntry</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#50FA7B;--1:#6F42C1">getAutoConfigurationEntry</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> annotationMetadata) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (</span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#50FA7B;--1:#6F42C1">isEnabled</span><span style="--0:#F8F8F2;--1:#24292E">(annotationMetadata)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> EMPTY_ENTRY;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AnnotationAttributes</span><span style="--0:#F8F8F2;--1:#24292E"> attributes </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">getAttributes</span><span style="--0:#F8F8F2;--1:#24292E">(annotationMetadata);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">//获取候选配置信息,加载的是当前项目的classpath目录下的所有的 spring.factories 文件中的 key 为</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">//org.springframework.boot.autoconfigure.EnableAutoConfiguration 的信息。</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">//点进去通过&quot;SpringFactoriesLoader&quot;进行加载</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">List</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">&gt; configurations </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">getCandidateConfigurations</span><span style="--0:#F8F8F2;--1:#24292E">(annotationMetadata, attributes);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">// removeDuplicates方法的作用是 移除同名的</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">configurations </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">removeDuplicates</span><span style="--0:#F8F8F2;--1:#24292E">(configurations);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">// 获取我们配置的 exclude 信息</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">// 比如: @SpringBootApplication(exclude = {RabbitAutoConfiguration.class}) ,显示的指定不要加载那个配置类</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Set</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">&gt; exclusions </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">getExclusions</span><span style="--0:#F8F8F2;--1:#24292E">(annotationMetadata, attributes);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#50FA7B;--1:#6F42C1">checkExcludedClasses</span><span style="--0:#F8F8F2;--1:#24292E">(configurations, exclusions);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">configurations.</span><span style="--0:#50FA7B;--1:#6F42C1">removeAll</span><span style="--0:#F8F8F2;--1:#24292E">(exclusions);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#96A1C2;--1:#616972">// filter的作用是 过滤掉咱们不需要使用的配置类。</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">configurations </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">getConfigurationClassFilter</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">filter</span><span style="--0:#F8F8F2;--1:#24292E">(configurations);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#50FA7B;--1:#6F42C1">fireAutoConfigurationImportEvents</span><span style="--0:#F8F8F2;--1:#24292E">(configurations, exclusions);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">AutoConfigurationEntry</span><span style="--0:#F8F8F2;--1:#24292E">(configurations, exclusions);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="protected AutoConfigurationEntry getAutoConfigurationEntry(AnnotationMetadata annotationMetadata) {  if (!isEnabled(annotationMetadata)) {      return EMPTY_ENTRY;  }  AnnotationAttributes attributes = getAttributes(annotationMetadata);  //获取候选配置信息,加载的是当前项目的classpath目录下的所有的 spring.factories 文件中的 key 为  //org.springframework.boot.autoconfigure.EnableAutoConfiguration 的信息。  //点进去通过&#34;SpringFactoriesLoader&#34;进行加载  List<String> configurations = getCandidateConfigurations(annotationMetadata, attributes);  // removeDuplicates方法的作用是 移除同名的  configurations = removeDuplicates(configurations);  // 获取我们配置的 exclude 信息  // 比如: @SpringBootApplication(exclude = {RabbitAutoConfiguration.class}) ,显示的指定不要加载那个配置类  Set<String> exclusions = getExclusions(annotationMetadata, attributes);  checkExcludedClasses(configurations, exclusions);  configurations.removeAll(exclusions);  // filter的作用是 过滤掉咱们不需要使用的配置类。  configurations = getConfigurationClassFilter().filter(configurations);  fireAutoConfigurationImportEvents(configurations, exclusions);  return new AutoConfigurationEntry(configurations, exclusions);}"><div></div></button></div></figure></div>
<p>前面几个都好理解,现在我们主要看看filter(),是怎么移除不需要的类</p>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main/img/2597186-20220218230920130-226480162.png" alt="img"/>
<p>我们可以看到有具体的匹配方法 match。里面有个关键的属性是 autoConfigurationMetadata , 的本质是 加载的 META-INF/spring-autoconfigure-metadata.properties 的文件中的内容。</p>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main/img/2597186-20220218231102908-1017908901.png" alt="img"/>
<p>其实原理很简单,如果没有对应的实现类,就不进行加载。</p>
<h4 id="何时进行自动装配">何时进行自动装配</h4>
<ul>
<li>处理@Configuration的核心还是ConfigurationClassPostProcessor,这个类实现了BeanFactoryPostProcessor,</li>
<li>因此当AbstractApplicationContext执行refresh方法里的invokeBeanFactoryPostProcessors(beanFactory)方法时会执行自动装配</li>
</ul>
<h4 id="run-方法">run 方法</h4>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">SpringBootApplication</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">SpringBootVipDemoApplication</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">static</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">main</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">args</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// 基于配置文件的方式</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">ApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac1 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">ClassPathXmlApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#E9F284;--1:#032F62">&quot;&quot;</span><span style="--0:#F8F8F2;--1:#24292E">);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// 基于Java配置类的方式</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">ApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac2 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">AnnotationConfigApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E">(SpringBootVipDemoApplication.class);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">// run 方法的返回对象是 ConfigurableApplicationContext 对象,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//ConfigurableApplicationContext就是ApplicationContext的一个子接口</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">ConfigurableApplicationContext</span><span style="--0:#F8F8F2;--1:#24292E"> ac3 </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> SpringApplication.</span><span style="--0:#50FA7B;--1:#6F42C1">run</span><span style="--0:#F8F8F2;--1:#24292E">(SpringBootVipDemoApplication.class, args);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@SpringBootApplicationpublic class SpringBootVipDemoApplication {    public static void main(String[] args) {        // 基于配置文件的方式        ApplicationContext ac1 = new ClassPathXmlApplicationContext(&#34;&#34;);        // 基于Java配置类的方式        ApplicationContext ac2 = new AnnotationConfigApplicationContext(SpringBootVipDemoApplication.class);        // run 方法的返回对象是 ConfigurableApplicationContext 对象,        //ConfigurableApplicationContext就是ApplicationContext的一个子接口        ConfigurableApplicationContext ac3 = SpringApplication.run(SpringBootVipDemoApplication.class, args);    }}"><div></div></button></div></figure></div>
<p>根据返回结果,我们猜测SpringBoot项目的启动其实就是Spring的初始化操作【IOC】。</p>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main/img/2597186-20220218232932423-556100027.png" alt="img"/>
<h3 id="什么是-starter">什么是 Starter</h3>
<p>starter 是“一站式服务(one-stop)”的依赖 jar 包:</p>
<ul>
<li>包含Spring以及相关技术(比如 Redis)的所有依赖</li>
<li>提供了自动配置的功能,开箱即用</li>
<li>提供了良好的依赖管理,避免了包遗漏、版本冲突等问题。</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main/img/image-20230819192249343.png" alt="image-20230819192249343"/>
<h3 id="maven-中的可选依赖">Maven 中的可选依赖</h3>
<p>可选依赖(optional)的作用: 阻断“<strong>依赖传递</strong>”</p>
<h3 id="spring-中的注解处理器">Spring 中的注解处理器</h3>
<p>注解处理器: 在编译阶段,生成指定注解的元数据。</p>
<ul>
<li>spring-boot-configuration-processor</li>
<li>spring-boot-autoconfigure-processor</li>
</ul>
<h3 id="自定义装换器">自定义装换器</h3>
<ol>
<li>实现WebMvcConfigurer: 不会覆盖WebMvcAutoConfiguration的配置。</li>
<li>实现WebMvcConfigurer+注解@EnableWebMvc: 会覆盖WebMvcAutoConfiguration的配置。</li>
<li>继承WebMvcConfigurationSupport: 会覆盖WebMvcAutoConfiguration的配置。</li>
<li>继承DelegatingWebMvcConfiguration: 会覆盖WebMvcAutoConfiguration的配置。</li>
</ol>
<h4 id="webmvcconfigurationadapter">WebMvcConfigurationAdapter</h4>
<ul>
<li>WebMvcConfigurerAdapter 是 WebMvcConfigurer 的实现类大部分为空方法,是 WebMvcConfigurer的子类实现,由于Java8中可以使用default关键字为接口添加默认方法,为在源代码中spring5.0之后就已经弃用本类,如果需要可以实现WebMvcConfigurer类。</li>
<li><code>WebMvcConfigurationAdapter</code>已经废弃,最好用<code>WebMvcConfigurer</code>代替。</li>
</ul>
<h4 id="webmvcconfigurationsupport">WebMvcConfigurationSupport</h4>
<ul>
<li>WebMvcConfigurationSupport 是mvc的基本实现并包含了WebMvcConfigurer接口中的方法。</li>
</ul>
<h4 id="webmvcautoconfiguration">WebMvcAutoConfiguration</h4>
<ul>
<li>
<p>WebMvcAutoConfiguration 是mvc的自动装在类并部分包含了WebMvcConfigurer接口中的方法。</p>
</li>
<li>
<p>springboot会自动启用WebMvcAutoConfiguration类做自动加载;项目中的配置都是默认的,比如静态资源文件的访问。</p>
</li>
<li>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ConditionalOnWebApplication</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">type</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> Type.SERVLET)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ConditionalOnClass</span><span style="--0:#F8F8F2;--1:#24292E">({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class })</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ConditionalOnMissingBean</span><span style="--0:#F8F8F2;--1:#24292E">(WebMvcConfigurationSupport.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AutoConfigureOrder</span><span style="--0:#F8F8F2;--1:#24292E">(Ordered.HIGHEST_PRECEDENCE </span><span style="--0:#FF79C6;--1:#BF3441">+</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#BD93F9;--1:#005CC5">10</span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AutoConfigureAfter</span><span style="--0:#F8F8F2;--1:#24292E">({ DispatcherServletAutoConfiguration.class,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class })</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">WebMvcAutoConfiguration</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Configuration@ConditionalOnWebApplication(type = Type.SERVLET)@ConditionalOnClass({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class })@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter({ DispatcherServletAutoConfiguration.class,    TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class })public class WebMvcAutoConfiguration {  ...}"><div></div></button></div></figure></div>
<ul>
<li><code>@ConditionalOnMissingBean({WebMvcConfigurationSupport.class})</code>,当Spring容器中不存在WebMvcConfigurationSupportbean,WebMvcAutoConfiguration才会注入。</li>
<li>如果有配置文件继承了DelegatingWebMvcConfiguration,或者WebMvcConfigurationSupport,或者配置类注解了@EnableWebMvc,那么WebMvcAutoConfiguration 将不会被自动配置,而是使用WebMvcConfigurationSupport的配置。那么所有实现了WebMvcConfigurer的配置类有可能会全部失效。</li>
</ul>
</li>
</ul>
<h4 id="webmvcconfigurer">WebMvcConfigurer</h4>
<ul>
<li>
<p>用途: 跨域、拦截器、静态资源处理。</p>
</li>
<li>
<p>接口方法的作用:</p>
</li>
</ul>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="text"><code><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">addInterceptors: 拦截器</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">addViewControllers: 页面跳转</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">addResourceHandlers: 静态资源</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">configureDefaultServletHandling: 默认静态资源处理器</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">configureViewResolvers: 视图解析器</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">configureContentNegotiation: 配置内容裁决的一些参数</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">addCorsMappings: 跨域</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#f8f8f2;--1:#24292e">  </span></span><span style="--0:#f8f8f2;--1:#24292e">configureMessageConverters: 信息转换器</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  addInterceptors: 拦截器  addViewControllers: 页面跳转  addResourceHandlers: 静态资源  configureDefaultServletHandling: 默认静态资源处理器  configureViewResolvers: 视图解析器  configureContentNegotiation: 配置内容裁决的一些参数  addCorsMappings: 跨域  configureMessageConverters: 信息转换器"><div></div></button></div></figure></div>
<ul>
<li>
<p>WebMvcConfigurer配置类其实是<code>Spring</code>内部的种配置方式,可以自定义一些Handler,Interceptor,ViewResolver,MessageConverter等等的东西对springmvc框架进行配置。</p>
</li>
<li>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">MyWebMvcConfigurer</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">WebMvcConfigurer</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">void</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">configureMessageConverters</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">List</span><span style="--0:#F8F8F2">&lt;</span><span style="--0:#8BE9FD;--0fs:italic">HttpMessageConverter</span><span style="--0:#F8F8F2">&lt;</span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">?</span><span style="--0:#F8F8F2;--1:#24292E">&gt;&gt; </span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">converters</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//创建fastJson消息转换器</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">FastJsonHttpMessageConverter</span><span style="--0:#F8F8F2;--1:#24292E"> converter </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">FastJsonHttpMessageConverter</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">List</span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#F8F8F2;--1:#BF3441">MediaType</span><span style="--0:#F8F8F2;--1:#24292E">&gt; supportedMediaTypes </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">ArrayList</span><span style="--0:#F8F8F2">&lt;</span></span><span style="--0:#F8F8F2;--1:#BF3441">MediaType</span><span style="--0:#F8F8F2;--1:#24292E">&gt;();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">MediaType</span><span style="--0:#F8F8F2;--1:#24292E"> mediaTypeJson </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> MediaType.</span><span style="--0:#50FA7B;--1:#6F42C1">valueOf</span><span style="--0:#F8F8F2;--1:#24292E">(MediaType.APPLICATION_JSON_UTF8_VALUE);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">supportedMediaTypes.</span><span style="--0:#50FA7B;--1:#6F42C1">add</span><span style="--0:#F8F8F2;--1:#24292E">(mediaTypeJson);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">converter.</span><span style="--0:#50FA7B;--1:#6F42C1">setSupportedMediaTypes</span><span style="--0:#F8F8F2;--1:#24292E">(supportedMediaTypes);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//创建配置类</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">        </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">FastJsonConfig</span><span style="--0:#F8F8F2;--1:#24292E"> config </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">FastJsonConfig</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">config.</span><span style="--0:#50FA7B;--1:#6F42C1">getSerializeConfig</span><span style="--0:#F8F8F2;--1:#24292E">().</span><span style="--0:#50FA7B;--1:#6F42C1">put</span><span style="--0:#F8F8F2;--1:#24292E">(Json.class, </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">SwaggerJsonSerializer</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//修改配置返回内容的过滤</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//WriteNullListAsEmpty  : List字段如果为null,输出为[],而非null</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//WriteNullStringAsEmpty :  字符类型字段如果为null,输出为&quot;&quot;,而非null</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//DisableCircularReferenceDetect : 消除对同一对象循环引用的问题,默认为false(如果不配置有可能会进入死循环)</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//WriteNullBooleanAsFalse: Boolean字段如果为null,输出为false,而非null</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//WriteMapNullValue: 是否输出值为null的字段,默认为false</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//WriteDateUseDateFormat: 全局修改日期格式,不添加会导致@JsonFormat失效</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">config.</span><span style="--0:#50FA7B;--1:#6F42C1">setSerializerFeatures</span><span style="--0:#F8F8F2;--1:#24292E">(SerializerFeature.WriteMapNullValue</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">, SerializerFeature.WriteNonStringKeyAsString,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">SerializerFeature.WriteNullListAsEmpty,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">SerializerFeature.DisableCircularReferenceDetect,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">SerializerFeature.WriteDateUseDateFormat,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">SerializerFeature.WriteNullBooleanAsFalse);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">converter.</span><span style="--0:#50FA7B;--1:#6F42C1">setFastJsonConfig</span><span style="--0:#F8F8F2;--1:#24292E">(config);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//将fastjson添加到视图消息转换器列表内</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">converters.</span><span style="--0:#50FA7B;--1:#6F42C1">add</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">0</span><span style="--0:#F8F8F2;--1:#24292E">, converter);</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#96A1C2;--1:#616972">//WebMvcConfigurer失效</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">converters.</span><span style="--0:#50FA7B;--1:#6F42C1">add</span><span style="--0:#F8F8F2;--1:#24292E">(converter);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Configurationpublic class MyWebMvcConfigurer implements WebMvcConfigurer {    @Override    public void configureMessageConverters(List<HttpMessageConverter<?>> converters) {        //创建fastJson消息转换器        FastJsonHttpMessageConverter converter = new FastJsonHttpMessageConverter();        List<MediaType> supportedMediaTypes = new ArrayList<MediaType>();        MediaType mediaTypeJson = MediaType.valueOf(MediaType.APPLICATION_JSON_UTF8_VALUE);        supportedMediaTypes.add(mediaTypeJson);        converter.setSupportedMediaTypes(supportedMediaTypes);        //创建配置类        FastJsonConfig config = new FastJsonConfig();        config.getSerializeConfig().put(Json.class, new SwaggerJsonSerializer());        //修改配置返回内容的过滤        //WriteNullListAsEmpty  : List字段如果为null,输出为[],而非null        //WriteNullStringAsEmpty :  字符类型字段如果为null,输出为&#34;&#34;,而非null        //DisableCircularReferenceDetect : 消除对同一对象循环引用的问题,默认为false(如果不配置有可能会进入死循环)        //WriteNullBooleanAsFalse: Boolean字段如果为null,输出为false,而非null        //WriteMapNullValue: 是否输出值为null的字段,默认为false        //WriteDateUseDateFormat: 全局修改日期格式,不添加会导致@JsonFormat失效        config.setSerializerFeatures(SerializerFeature.WriteMapNullValue                , SerializerFeature.WriteNonStringKeyAsString,                SerializerFeature.WriteNullListAsEmpty,                SerializerFeature.DisableCircularReferenceDetect,                SerializerFeature.WriteDateUseDateFormat,                SerializerFeature.WriteNullBooleanAsFalse);        converter.setFastJsonConfig(config);        //将fastjson添加到视图消息转换器列表内        converters.add(0, converter);        //WebMvcConfigurer失效        converters.add(converter);    }}"><div></div></button></div></figure></div>
</li>
<li>
<p>默认已经有多个消息转换器了。而 configureMessageConverters 方法中是一个 list 参数。直接向其中添加 HttpMessageConverter后,默认是排在最后的。就造成了你自定义的消息转换器不生效。其实是被其他转换器接管了。因此,想要让我们自定义的消息转换器生效只需要把它添加到list 的第一个就可以了。</p>
</li>
<li>
<p>SerializerFeature属性</p>
<img src="https://cdn.jsdelivr.net/gh/chou401/pic-md@main/img/image-20230203141903620.png" alt="image-20230203141903620"/>
</li>
</ul>
<h4 id="enablewebmvc">@EnableWebMVC</h4>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Retention</span><span style="--0:#F8F8F2;--1:#24292E">(RetentionPolicy.RUNTIME)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Target</span><span style="--0:#F8F8F2;--1:#24292E">(ElementType.TYPE)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Documented</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(DelegatingWebMvcConfiguration.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> @</span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableWebMvc</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.TYPE)@Documented@Import(DelegatingWebMvcConfiguration.class)public @interface EnableWebMvc {}"><div></div></button></div></figure></div>
<p>如果引用了<code>@EnableWebMVC</code>注解,就会往spring容器中注入了一个<code>DelegatingWebMvcConfiguration</code>来统一管理所有的配置类。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">DelegatingWebMvcConfiguration</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">extends</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">WebMvcConfigurationSupport</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">private</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">final</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">WebMvcConfigurerComposite</span><span style="--0:#F8F8F2"> configurers </span></span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#BF3441">new</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">WebMvcConfigurerComposite</span><span style="--0:#F8F8F2;--1:#24292E">();</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Configurationpublic class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport {  private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite();  ...}"><div></div></button></div></figure></div>
<h5 id="失效问题解决">失效问题解决</h5>
<ol>
<li>
<p>在类上加注解解决失效问题</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableWebMvc</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">WebMvcConfig</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">WebMvcConfigurer</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@EnableWebMvc@Configurationpublic class WebMvcConfig implements WebMvcConfigurer {}"><div></div></button></div></figure></div>
<p>@EnableWebMvc表示完全自己控制mvc配置,也就是说所有配置自己重写,所有默认配置都没了！有时会导致很多请求进不来,或者参数转换出错之类的,因为spring mvc默认的转换器已经不生效了,包括全局配置的Jackson也会失效,所以在大多数情况下我们需要的是在其基础配置上添加自定义配置。</p>
</li>
<li>
<p>注解+继承解决失效问题</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableWebMvc</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Configuration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">WebMvcConfig</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">extends</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">WebMvcAutoConfiguration</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">WebMvcConfigurer</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@EnableWebMvc@Configurationpublic class WebMvcConfig extends WebMvcAutoConfiguration implements WebMvcConfigurer {}"><div></div></button></div></figure></div>
</li>
</ol>
<p>@SpringBootApplication</p>
<ul>
<li>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Target</span><span style="--0:#F8F8F2;--1:#24292E">(ElementType.TYPE)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Retention</span><span style="--0:#F8F8F2;--1:#24292E">(RetentionPolicy.RUNTIME)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Documented</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Inherited</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">SpringBootConfiguration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableAutoConfiguration</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">ComponentScan</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">excludeFilters</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Filter</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">type</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> FilterType.CUSTOM, </span><span style="--0:#BD93F9;--1:#005CC5">classes</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> TypeExcludeFilter.class),</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Filter</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">type</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> FilterType.CUSTOM,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#BD93F9;--1:#005CC5">classes</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> AutoConfigurationExcludeFilter.class) })</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> @</span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">SpringBootApplication</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AliasFor</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">annotation</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> EnableAutoConfiguration.class)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Class</span><span style="--0:#FF79C6;--1:#BF3441">&lt;?&gt;</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">exclude</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AliasFor</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">annotation</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> EnableAutoConfiguration.class)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">excludeName</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AliasFor</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">annotation</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ComponentScan.class, </span><span style="--0:#BD93F9;--1:#005CC5">attribute</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">basePackages</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">scanBasePackages</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AliasFor</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--1:#005CC5">annotation</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> ComponentScan.class, </span><span style="--0:#BD93F9;--1:#005CC5">attribute</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">basePackageClasses</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Class</span><span style="--0:#FF79C6;--1:#BF3441">&lt;?&gt;</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">scanBasePackageClasses</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@SpringBootConfiguration@EnableAutoConfiguration@ComponentScan(excludeFilters = {    @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),    @Filter(type = FilterType.CUSTOM,        classes = AutoConfigurationExcludeFilter.class) })public @interface SpringBootApplication {  @AliasFor(annotation = EnableAutoConfiguration.class)  Class<?>[] exclude() default {};  @AliasFor(annotation = EnableAutoConfiguration.class)  String[] excludeName() default {};  @AliasFor(annotation = ComponentScan.class, attribute = &#34;basePackages&#34;)  String[] scanBasePackages() default {};  @AliasFor(annotation = ComponentScan.class, attribute = &#34;basePackageClasses&#34;)  Class<?>[] scanBasePackageClasses() default {};}"><div></div></button></div></figure></div>
<ul>
<li>这里引用了<code>@EnableAutoConfiguration</code>注解</li>
</ul>
</li>
</ul>
<p>@EnableAutoConfiguration</p>
<ul>
<li>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Target</span><span style="--0:#F8F8F2;--1:#24292E">(ElementType.TYPE)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Retention</span><span style="--0:#F8F8F2;--1:#24292E">(RetentionPolicy.RUNTIME)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Documented</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Inherited</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AutoConfigurationPackage</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(AutoConfigurationImportSelector.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> @</span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">EnableAutoConfiguration</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">String</span><span style="--0:#F8F8F2;--1:#24292E"> ENABLED_OVERRIDE_PROPERTY </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--1:#032F62"><span style="--0:#E9F284">&quot;</span><span style="--0:#F1FA8C">spring.boot.enableautoconfiguration</span><span style="--0:#E9F284">&quot;</span></span><span style="--0:#F8F8F2;--1:#24292E">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">  </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">Class</span><span style="--0:#FF79C6;--1:#BF3441">&lt;?&gt;</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">exclude</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">excludeName</span><span style="--0:#F8F8F2;--1:#24292E">() </span><span style="--0:#FF79C6;--1:#BF3441">default</span><span style="--0:#F8F8F2;--1:#24292E"> {};</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@AutoConfigurationPackage@Import(AutoConfigurationImportSelector.class)public @interface EnableAutoConfiguration {  String ENABLED_OVERRIDE_PROPERTY = &#34;spring.boot.enableautoconfiguration&#34;;  Class<?>[] exclude() default {};  String[] excludeName() default {};}"><div></div></button></div></figure></div>
</li>
<li>
<p>注解<code>@AutoConfigurationPackage</code>的主要作用就是: 将主程序类所在包及所有子包下的组件到扫描到spring容器中。</p>
</li>
<li>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Target</span><span style="--0:#F8F8F2;--1:#24292E">(ElementType.TYPE)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Retention</span><span style="--0:#F8F8F2;--1:#24292E">(RetentionPolicy.RUNTIME)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Documented</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Inherited</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Import</span><span style="--0:#F8F8F2;--1:#24292E">(AutoConfigurationPackages.Registrar.class)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> @</span><span style="--0:#FF79C6;--1:#BF3441">interface</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">AutoConfigurationPackage</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@Import(AutoConfigurationPackages.Registrar.class)public @interface AutoConfigurationPackage {}"><div></div></button></div></figure></div>
</li>
<li>
<p><code>AutoConfigurationImportSelector</code>的作用可以参考: <a href="https://blog.csdn.net/qq_39482039/article/details/120585957" rel="nofollow, noopener, noreferrer" target="_blank">springboot源码自动装配-AutoConfigurationImportSelector</a></p>
</li>
<li>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="java"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">class</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--1:#6F42C1">AutoConfigurationImportSelector</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#FF79C6;--1:#BF3441">implements</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">DeferredImportSelector</span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">BeanClassLoaderAware</span><span style="--0:#F8F8F2;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">ResourceLoaderAware</span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">BeanFactoryAware</span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">EnvironmentAware</span><span style="--0:#F8F8F2;--1:#24292E">, </span><span style="--0:#8BE9FD;--0fs:italic;--1:#6F42C1">Ordered</span><span style="--0:#F8F8F2;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">...</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">@</span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">Override</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#BF3441">public</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#BF3441">String</span><span style="--0:#F8F8F2;--1:#24292E">[] </span><span style="--0:#50FA7B;--1:#6F42C1">selectImports</span><span style="--1:#24292E"><span style="--0:#F8F8F2">(</span><span style="--0:#8BE9FD;--0fs:italic">AnnotationMetadata</span><span style="--0:#F8F8F2"> </span></span><span style="--0:#FFB86C;--0fs:italic;--1:#AE4B07">annotationMetadata</span><span style="--0:#F8F8F2;--1:#24292E">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 是否启用自动配置</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">if</span><span style="--0:#F8F8F2;--1:#24292E"> (</span><span style="--0:#FF79C6;--1:#BF3441">!</span><span style="--0:#50FA7B;--1:#6F42C1">isEnabled</span><span style="--0:#F8F8F2;--1:#24292E">(annotationMetadata)) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> NO_IMPORTS;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 获取META-INF/spring-autoconfigure-metadata.properties文件的配置,返回AutoConfigurationMetadata类</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AutoConfigurationMetadata</span><span style="--0:#F8F8F2;--1:#24292E"> autoConfigurationMetadata </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--1:#24292E"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">AutoConfigurationMetadataLoader</span></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">.</span><span style="--0:#50FA7B;--1:#6F42C1">loadMetadata</span><span style="--0:#F8F8F2;--1:#24292E">(</span><span style="--0:#BD93F9;--0fs:italic;--1:#005CC5">this</span><span style="--0:#F8F8F2;--1:#24292E">.beanClassLoader);</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 获取自动配置类,返回AutoConfigurationEntry</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#24292E">    </span></span><span style="--0:#8BE9FD;--0fs:italic;--1:#24292E">AutoConfigurationEntry</span><span style="--0:#F8F8F2;--1:#24292E"> autoConfigurationEntry </span><span style="--0:#FF79C6;--1:#BF3441">=</span><span style="--0:#F8F8F2;--1:#24292E"> </span><span style="--0:#50FA7B;--1:#6F42C1">getAutoConfigurationEntry</span><span style="--0:#F8F8F2;--1:#24292E">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">autoConfigurationMetadata, annotationMetadata);</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#96A1C2;--1:#616972">// 返回要自动配置的类名</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#BF3441">return</span><span style="--0:#F8F8F2;--1:#24292E"> StringUtils.</span><span style="--0:#50FA7B;--1:#6F42C1">toStringArray</span><span style="--0:#F8F8F2;--1:#24292E">(autoConfigurationEntry.</span><span style="--0:#50FA7B;--1:#6F42C1">getConfigurations</span><span style="--0:#F8F8F2;--1:#24292E">());</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">  </span></span><span style="--0:#F8F8F2;--1:#24292E">...</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public class AutoConfigurationImportSelector implements DeferredImportSelector, BeanClassLoaderAware,    ResourceLoaderAware, BeanFactoryAware, EnvironmentAware, Ordered {  ...  @Override  public String[] selectImports(AnnotationMetadata annotationMetadata) {    // 是否启用自动配置    if (!isEnabled(annotationMetadata)) {      return NO_IMPORTS;    }    // 获取META-INF/spring-autoconfigure-metadata.properties文件的配置,返回AutoConfigurationMetadata类    AutoConfigurationMetadata autoConfigurationMetadata = AutoConfigurationMetadataLoader        .loadMetadata(this.beanClassLoader);    // 获取自动配置类,返回AutoConfigurationEntry    AutoConfigurationEntry autoConfigurationEntry = getAutoConfigurationEntry(        autoConfigurationMetadata, annotationMetadata);    // 返回要自动配置的类名    return StringUtils.toStringArray(autoConfigurationEntry.getConfigurations());  }  ...}"><div></div></button></div></figure></div>
</li>
<li>
<p>如果引用了<code>@EnableAutoConfiguration</code>注解,就会往spring容器中注入两个类。</p>
<ol>
<li><code>AutoConfigurationPackages.Registrar</code>: 扫包。</li>
<li><code>AutoConfigurationImportSelector</code>: 等所有类全加载到spring容器之后扫描配置类。</li>
</ol>
</li>
</ul>
<h3 id="junit">junit</h3>
<p>spring boot 2,在进行单元测试的时候,<strong>不支持.yml文件</strong>,配件文件需要设置为properties。</p>
<p>pom 中增加testResources,其他操作按照正常创建 test 流程即可。</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">build</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">resources</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">resource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;${basedir}/config/${build.profile.id}/&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">resource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">resource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;${basedir}/src/main/resources/&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">resource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">resources</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">finalName</span><span style="--0:#F8F8F2;--1:#24292E">&gt;xxxx&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">finalName</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">testResources</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">testResource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;${basedir}/config/${build.profile.id}/&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">testResource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">testResource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">                </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;${basedir}/src/main/resources/&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">directory</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">            </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">testResource</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">        </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">testResources</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#24292E">    </span></span><span style="--0:#F8F8F2;--1:#24292E">&lt;/</span><span style="--0:#FF79C6;--1:#1E7734">build</span><span style="--0:#F8F8F2;--1:#24292E">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<build>        <resources>            <resource>                <directory>${basedir}/config/${build.profile.id}/</directory>            </resource>            <resource>                <directory>${basedir}/src/main/resources/</directory>            </resource>        </resources>        <finalName>xxxx</finalName>        <testResources>            <testResource>                <directory>${basedir}/config/${build.profile.id}/</directory>            </testResource>            <testResource>                <directory>${basedir}/src/main/resources/</directory>            </testResource>        </testResources>    </build>"><div></div></button></div></figure></div>
<h2 id="疑问">疑问</h2>   </div> </article> </div> <button aria-label="Back to Top" class="z-90 fixed bottom-8 end-4 flex h-10 w-10 translate-y-28 items-center justify-center rounded-full border-2 border-transparent bg-zinc-200 text-3xl opacity-0 transition-all duration-300 hover:border-zinc-400 data-[show=true]:translate-y-0 data-[show=true]:opacity-100 dark:bg-zinc-700 sm:end-8 sm:h-12 sm:w-12" data-show="false" id="to-top-btn"><svg aria-hidden="true" class="h-6 w-6" fill="none" focusable="false" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M4.5 15.75l7.5-7.5 7.5 7.5" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </button>  </main> <footer class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold text-gray-600 dark:text-gray-400 sm:flex-row sm:justify-between sm:text-xs"> <div class="me-0 sm:me-4">
&copy; chou401 2024.<span class="inline-block">&nbsp;🚀&nbsp;花易谢、雾易失、梦易逝、云易散</span> </div> <nav aria-label="More on this site" class="flex gap-x-2 sm:gap-x-0 sm:divide-x sm:divide-gray-500"> <a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/astro-theme-cactus/"> Home </a><a class="px-4 py-2 sm:py-0 sm:hover:text-textColor sm:hover:underline" href="/astro-theme-cactus/posts/"> Blog </a> </nav> </footer> </body></html> 